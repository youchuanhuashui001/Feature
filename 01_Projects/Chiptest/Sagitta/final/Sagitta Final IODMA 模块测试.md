
# 回归验证
## 有效数据位宽
- 1bit
	- 输出的数据与内存中的数据一致
![[Pasted image 20250425153140.png]]
![[Pasted image 20250425153955.png]]
![[Pasted image 20250425153149.png]]
- 2bit
	- 输出的数据与内存中的数据一致
	- 配置延时时长为 2us，实测波形的保持时长为 2.02us，基本一致
![[Pasted image 20250425152102.png]]
![[Pasted image 20250425151646.png]]
![[Pasted image 20250425152046.png]]
- 4bit
	- 输出的数据与内存中的数据一致。
	- 配置延时时长为 2us，实测波形的保持时长为 2.02us，基本一致。
![[Pasted image 20250425150623.png]]
![[Pasted image 20250425150739.png]]
![[Pasted image 20250425150757.png]]
- 8bit
	- 输出的数据与内存中的数据一致。
	- 配置延时时长为 2us，实测波形的保持时长为 2.03us，基本一致。
![[Pasted image 20250425150319.png]]
![[Pasted image 20250425150307.png]]
![[Pasted image 20250425150141.png]]
![[Pasted image 20250425150251.png]]

- 16bit
	- 输出的数据与内存中的数据一致。
	- 配置延时时长为 2us，实际测得波形的保持时长为 2.03us，基本一致。
![[Pasted image 20250425145635.png]]
![[Pasted image 20250425145617.png]]
![[Pasted image 20250425145448.png]]
![[Pasted image 20250425145605.png]]



## 固定传输模式
配置 dmalite 时，每组的长度最大配为 0x100，模拟多组寄存器对的情况。
- 单组寄存器对：
	- 使用 8 线模式传输 0x100 个 word 数据，每个字节耗时约 2 us，则共耗时 0x100 * 4 * 2 = 2048us；实际测得传输数据时间为 2.0701ms，基本一致。
![[Pasted image 20250425161837.png]]
- 两组寄存器对：
	- 使用 8 线模式传输 0x200 个 word 数据，每个字节耗时约 2 us，则共耗时 0x200 * 4 * 2 = 4096us；实际测得传输数据时间为 4.1373ms，基本一致。
![[Pasted image 20250425162037.png]]
- 三组寄存器对：
	- 使用 8 线模式传输 0x300 个 word 数据，每个字节耗时约 2 us，则共耗时 0x300 * 4 * 2 = 6144us；实际测得传输数据时间为 6.1971ms，基本一致。
![[Pasted image 20250425163126.png]]
- 四组寄存器对：
	- 使用 8 线模式传输 0x400 个 word 数据，每个字节耗时约 2 us，则共耗时 0x400 * 4 * 2 = 8192us；实际测得传输数据时间为 8.2746ms，基本一致。
![[Pasted image 20250425162232.png]]
- 多组寄存器对循环：
	- 传输 5 组寄存器对，在第 0 组传输完成后替换 sram 的数据；第 3 组传输完成后能够继续从第 0 组循环传输。
	- 使用 8 线模式传输 0x500 个 word 数据，每个字节耗时约 2 us，则共耗时 0x500 * 4 * 2 = 10240us；实际测得传输数据时间为 10.3448ms，基本一致。
![[Pasted image 20250425162521.png]]


## 无尽传输模式
* 单组寄存器对：
	- 使用8线模式传输 0x100 个 word 数据，每个字节耗时约 2us，则共耗时 0x100 * 4 * 2 = 2048us；实际测得传输时间为 2.0697ms 后又会重新开始传输，基本一致。
![[Pasted image 20250425164608.png]]
- 多组寄存器对：
	- 使用8线模式传输 0x400 个 word 数据，每个字节耗时约 2us，则共耗时 0x400 * 4 * 2 = 8192us；实际测得传输时间为 8.2790ms 后又会重新开始传输，基本一致。
![[Pasted image 20250425164611.png]]



# 问题

## 【已解决】问题 1：修改引脚复用后，逻辑分析仪抓不到 T_PEN 引脚上的波形
![[Pasted image 20250425144617.png]]
引脚复用用到了 LCD_RSR、DB9、DB15、T_PEN、T_CS 引脚，其中 LCD_RSR、DB9、DB15 都是按顺序排下来的。对于 T_PEN、T_CS 引脚要从后面开始数，并且要跳过最后一行 (空的)，也就是说 **T_CS 对应倒数第二个脚，T_PEN 对应倒数第三个脚。**
