
#doing 


# **🔧 今日工作安排**
- [[Sagitta NRE FPGA IR 模块验证]]：需要熟悉完所有代码，并且把问题都解掉
- leo_mini 使用 W25Q64FV 可以烧录，无法启动
	- 全部擦除掉：ok
	- 烧录 bin 进去，dump 出来：烧进去和读出来数据不一致
	- 感觉像是指令序列不同：
		- 先看看 SR1、SR2、SR3 的值是多少
		- sr1:0x0，sr2:0x2 正常的
	- 会不会是相位问题，感觉也不像是，因为相位问题的话会每次错的位置不一样
		- 目前测试，多个不同的位置，错的都是第 23 个字节
		- cmp error. i = 23. read=0x40, orig=0x65
		- 降低频率到 20MHz，也还是同样的位置出错
	- 是一颗这样还是许多颗都这样？
	- 拆下来放到板子上用逻辑分析仪抓一下
	- 仔细确认下手册
	- 默认用的双线，换成 4 线和单线看看
		- 换成 4 线也是固定的 i=23 出错
		- 换成单线，读写 0x30 个字节不会出错
		- 难道是双线读命令，有什么问题吗？
			- 双线读依然是 i=23 的时候会出错
			- 追 qe 位的问题，好像写 0 都写不进去？
				- 真的写不进去


华邦的工程师们好，咨询一下：
W25Q64JV 和 W25Q64FV 两款 flash 在 spi 模式下使用 dual、quad 读写命令的序列有差异吗？
查看上面两份手册是没有差异的，但实际测试 W25Q64FV 在单线写，双线读的时候，固定会在第 23 个字节读到错误数据，后面也有许多数据是错误的。


看手册 W25Q64JV 和 W25Q64FV 在 spi 模式用 dual、quad 读写指令序列是相同的，但实际使用 W25Q64FV 的时候固定会在某个位置读到错误的数据，

- W25Q64FV 已经停产快 8 年了
- 有一些已经贴板了，还是要查一下：
	- 诶，用 gx3211 的板子可以正常操作
	- scpu 中换成用 block erase 试试
	- 50MHz：
		- 2、0 都不行
	- 10MHz：
		- 1 可以，0 可以，2 可以，3 可以，5 可以，6 可以
	- 20MHz：
		- 2 不行
		- 1 不行
		- 0 不行
		- 3 不行
		- 4 不行
		- 5 不行
		- 6 不行
	- 12.5 MHz 可以
	- 14MHz：
		- 1 不行
		- 2 不行
		- 3 不行
	- 16MHz：
		- 0 不行
		- 1 不行
		- 2 不行
		- 3 不行
		- 6 不行
- flash 在 gx3211 上跑 60MHz 没问题，vega 上 2MHz 都不行
- vega 上配置驱动强度到最强，也不行
	- vega flash 跑 15MHz，驱动强度配到最强，双线 ok
	- vega flash 跑 15MHz，驱动强度默认最低，双线 error




# **📌 工作进展**



---

# **⚠️ 问题与解决**


---

# **💡 技术总结**


---

# **📚 知识关联**


---
# **📌 明日计划**


---

# **💬 扩展记录**



