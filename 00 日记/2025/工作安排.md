- [x] cursor
	- [x] [[02 学习/cursor/cursorrules/cursorrules|cursorrules]]
	- [x] [[agent]]
- [ ] virgo
	- [x] 外设对接
	- [x] rom spinor 驱动优化，用双倍速。spinand 驱动整理
		- [ ] rom、stage1 spinand 驱动需要修改代码，避免从 0 地址读写数据
	- [ ] flash spi 要加 ddr 模式
	- [x] Virgo Flash SPI SPI_CTRLR0 在普通模式下会起作用，在测试时发现用新的 virgo_nre bit 测试，出现 Receive Over Flow，读不到 Flash ID。原因是读 id 读错了，需要修改 linux 中的 spi 驱动，在普通模式下需要配置 `SPI_CTRLR0` 为 0。 [completion:: 2025-04-27]
	- [ ] stage1 和 rom 中的 spinand 驱动，需要解决编译报错的问题，使用变量的方式来修改
- [ ] sagitta
	- [x] 给 dma 用的 buffer 需要 aligned cache_line，否则会出现 dma buffer 和其它数据共用同一个 cache line 的问题
	- [x] 做 dma 操作之前会先将 dma buffer clean & invalid 到内存，但是和它共用一条 cache line 的后面的代码会访问这个 cache line，导致把这里 dma buffer 又读到了 cache；等到 dma 操作完成后，cache line 的数据和内存的数据 (dma 搬过去的数据) 又不一样了；如果此时 invalid 就会丢失栈的其它部分，因为共用一条 cache line 的后面的代码会用这里来存东西，可能会被破坏，导致跑飞
	- [x] iodma 评审
		- [x] 测试用例增加对接 ws2812 的功能测试
		- [x] 增加输出带死区的 pwm 功能
		- [x] 需要重新上传测试用例结果 [completion:: 2025-04-25]
		- [ ] iodma 驱动轮询和中断分开
	- [x] ir 引脚复用的补丁上传 [completion:: 2025-04-27]
	- [x] 对接 ir
- [ ] scpu stage1 驱动有问题，读的时候默认把 dmacr 也就是 r 的 dma 打开了
	- [ ] canopus stage1 使用 scpu 的 spl_spinor. c  通了：[123858](https://git.nationalchip.com/gerrit/123858 "Reload the change (Shortcut: R)")
	- [ ] virgo mpw stage1 使用 scpu 的 spl_spinor. c 通了：[123771](https://git.nationalchip.com/gerrit/123771 "Reload the change (Shortcut: R)")

