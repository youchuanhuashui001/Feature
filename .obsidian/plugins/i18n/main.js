var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJS=(t,e)=>(function(){return e||(0,t[__getOwnPropNames(t)[0]])((e={exports:{}}).exports,e),e.exports}),__export=(t,e)=>{for(var s in e)__defProp(t,s,{get:e[s],enumerable:!0})},__copyProps=(t,e,s,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of __getOwnPropNames(e))__hasOwnProp.call(t,n)||n===s||__defProp(t,n,{get:()=>e[n],enumerable:!(i=__getOwnPropDesc(e,n))||i.enumerable});return t},__toESM=(t,e,s)=>(s=null!=t?__create(__getProtoOf(t)):{},__copyProps(!e&&t&&t.__esModule?s:__defProp(s,"default",{value:t,enumerable:!0}),t)),__toCommonJS=t=>__copyProps(__defProp({},"__esModule",{value:!0}),t),require_universalify=__commonJS({"node_modules/universalify/index.js"(t){"use strict";t.fromCallback=function(t){return Object.defineProperty(function(...e){if("function"!=typeof e[e.length-1])return new Promise((s,i)=>{e.push((t,e)=>null!=t?i(t):s(e)),t.apply(this,e)});t.apply(this,e)},"name",{value:t.name})},t.fromPromise=function(t){return Object.defineProperty(function(...e){const s=e[e.length-1];if("function"!=typeof s)return t.apply(this,e);e.pop(),t.apply(this,e).then(t=>s(null,t),s)},"name",{value:t.name})}}}),require_polyfills=__commonJS({"node_modules/graceful-fs/polyfills.js"(t,e){var s,i=require("constants"),n=process.cwd,a=null,_=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return a||(a=n.call(process)),a};try{process.cwd()}catch(t){}"function"==typeof process.chdir&&(s=process.chdir,process.chdir=function(t){a=null,s.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,s)),e.exports=function(t){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&((e=t).lchmod=function(t,s,n){e.open(t,i.O_WRONLY|i.O_SYMLINK,s,function(t,i){t?n&&n(t):e.fchmod(i,s,function(t){e.close(i,function(e){n&&n(t||e)})})})},e.lchmodSync=function(t,s){var n,a=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,s),_=!0;try{n=e.fchmodSync(a,s),_=!1}finally{if(_)try{e.closeSync(a)}catch(t){}else e.closeSync(a)}return n});var e;t.lutimes||function(t){i.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,s,n,a){t.open(e,i.O_SYMLINK,function(e,i){e?a&&a(e):t.futimes(i,s,n,function(e){t.close(i,function(t){a&&a(e||t)})})})},t.lutimesSync=function(e,s,n){var a,_=t.openSync(e,i.O_SYMLINK),o=!0;try{a=t.futimesSync(_,s,n),o=!1}finally{if(o)try{t.closeSync(_)}catch(t){}else t.closeSync(_)}return a}):t.futimes&&(t.lutimes=function(t,e,s,i){i&&process.nextTick(i)},t.lutimesSync=function(){})}(t);t.chown=a(t.chown),t.fchown=a(t.fchown),t.lchown=a(t.lchown),t.chmod=s(t.chmod),t.fchmod=s(t.fchmod),t.lchmod=s(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=n(t.chmodSync),t.fchmodSync=n(t.fchmodSync),t.lchmodSync=n(t.lchmodSync),t.stat=T(t.stat),t.fstat=T(t.fstat),t.lstat=T(t.lstat),t.statSync=r(t.statSync),t.fstatSync=r(t.fstatSync),t.lstatSync=r(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,s){s&&process.nextTick(s)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,s,i){i&&process.nextTick(i)},t.lchownSync=function(){});"win32"===_&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function s(s,i,n){var a=Date.now(),_=0;e(s,i,function o(T){if(T&&("EACCES"===T.code||"EPERM"===T.code||"EBUSY"===T.code)&&Date.now()-a<6e4)return setTimeout(function(){t.stat(i,function(t,a){t&&"ENOENT"===t.code?e(s,i,o):n(T)})},_),void(_<100&&(_+=10));n&&n(T)})}return Object.setPrototypeOf&&Object.setPrototypeOf(s,e),s}(t.rename));function s(e){return e?function(s,i,n){return e.call(t,s,i,function(t){E(t)&&(t=null),n&&n.apply(this,arguments)})}:e}function n(e){return e?function(s,i){try{return e.call(t,s,i)}catch(t){if(!E(t))throw t}}:e}function a(e){return e?function(s,i,n,a){return e.call(t,s,i,n,function(t){E(t)&&(t=null),a&&a.apply(this,arguments)})}:e}function o(e){return e?function(s,i,n){try{return e.call(t,s,i,n)}catch(t){if(!E(t))throw t}}:e}function T(e){return e?function(s,i,n){function a(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),n&&n.apply(this,arguments)}return"function"==typeof i&&(n=i,i=null),i?e.call(t,s,i,a):e.call(t,s,a)}:e}function r(e){return e?function(s,i){var n=i?e.call(t,s,i):e.call(t,s);return n&&(n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296)),n}:e}function E(t){if(!t)return!0;if("ENOSYS"===t.code)return!0;var e=!process.getuid||0!==process.getuid();return!(!e||"EINVAL"!==t.code&&"EPERM"!==t.code)}t.read="function"!=typeof t.read?t.read:function(e){function s(s,i,n,a,_,o){var T;if(o&&"function"==typeof o){var r=0;T=function(E,l,c){if(E&&"EAGAIN"===E.code&&r<10)return r++,e.call(t,s,i,n,a,_,T);o.apply(this,arguments)}}return e.call(t,s,i,n,a,_,T)}return Object.setPrototypeOf&&Object.setPrototypeOf(s,e),s}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(l=t.readSync,function(e,s,i,n,a){for(var _=0;;)try{return l.call(t,e,s,i,n,a)}catch(t){if("EAGAIN"===t.code&&_<10){_++;continue}throw t}});var l}}}),require_legacy_streams=__commonJS({"node_modules/graceful-fs/legacy-streams.js"(t,e){var s=require("stream").Stream;e.exports=function(t){return{ReadStream:function e(i,n){if(!(this instanceof e))return new e(i,n);s.call(this);var a=this;this.path=i;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;n=n||{};var _=Object.keys(n);for(var o=0,T=_.length;o<T;o++){var r=_[o];this[r]=n[r]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){a._read()});t.open(this.path,this.flags,this.mode,function(t,e){if(t)return a.emit("error",t),void(a.readable=!1);a.fd=e,a.emit("open",e),a._read()})},WriteStream:function e(i,n){if(!(this instanceof e))return new e(i,n);s.call(this);this.path=i;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;n=n||{};var a=Object.keys(n);for(var _=0,o=a.length;_<o;_++){var T=a[_];this[T]=n[T]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}}}),require_clone=__commonJS({"node_modules/graceful-fs/clone.js"(t,e){"use strict";e.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:s(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}),e};var s=Object.getPrototypeOf||function(t){return t.__proto__}}}),require_graceful_fs=__commonJS({"node_modules/graceful-fs/graceful-fs.js"(t,e){var s,i,n=require("fs"),a=require_polyfills(),_=require_legacy_streams(),o=require_clone(),T=require("util");function r(t,e){Object.defineProperty(t,s,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(s=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(s="___graceful-fs.queue",i="___graceful-fs.previous");var E,l,c=function(){};function I(t){a(t),t.gracefulify=I,t.createReadStream=function(e,s){return new t.ReadStream(e,s)},t.createWriteStream=function(e,s){return new t.WriteStream(e,s)};var e=t.readFile;t.readFile=function(t,s,i){"function"==typeof s&&(i=s,s=null);return function t(s,i,n,a){return e(s,i,function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof n&&n.apply(this,arguments):N([t,[s,i,n],e,a||Date.now(),Date.now()])})}(t,s,i)};var s=t.writeFile;t.writeFile=function(t,e,i,n){"function"==typeof i&&(n=i,i=null);return function t(e,i,n,a,_){return s(e,i,n,function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof a&&a.apply(this,arguments):N([t,[e,i,n,a],s,_||Date.now(),Date.now()])})}(t,e,i,n)};var i=t.appendFile;i&&(t.appendFile=function(t,e,s,n){"function"==typeof s&&(n=s,s=null);return function t(e,s,n,a,_){return i(e,s,n,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof a&&a.apply(this,arguments):N([t,[e,s,n,a],i,_||Date.now(),Date.now()])})}(t,e,s,n)});var n=t.copyFile;n&&(t.copyFile=function(t,e,s,i){"function"==typeof s&&(i=s,s=0);return function t(e,s,i,a,_){return n(e,s,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof a&&a.apply(this,arguments):N([t,[e,s,i,a],n,_||Date.now(),Date.now()])})}(t,e,s,i)});var o=t.readdir;t.readdir=function(t,e,s){"function"==typeof e&&(s=e,e=null);var i=T.test(process.version)?function(t,e,s,i){return o(t,n(t,e,s,i))}:function(t,e,s,i){return o(t,e,n(t,e,s,i))};return i(t,e,s);function n(t,e,s,n){return function(a,_){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?(_&&_.sort&&_.sort(),"function"==typeof s&&s.call(this,a,_)):N([i,[t,e,s],a,n||Date.now(),Date.now()])}}};var T=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var r=_(t);d=r.ReadStream,h=r.WriteStream}var E=t.ReadStream;E&&(d.prototype=Object.create(E.prototype),d.prototype.open=function(){var t=this;A(t.path,t.flags,t.mode,function(e,s){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=s,t.emit("open",s),t.read())})});var l=t.WriteStream;l&&(h.prototype=Object.create(l.prototype),h.prototype.open=function(){var t=this;A(t.path,t.flags,t.mode,function(e,s){e?(t.destroy(),t.emit("error",e)):(t.fd=s,t.emit("open",s))})}),Object.defineProperty(t,"ReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var c=d;Object.defineProperty(t,"FileReadStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var u=h;function d(t,e){return this instanceof d?(E.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function h(t,e){return this instanceof h?(l.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0});var O=t.open;function A(t,e,s,i){return"function"==typeof s&&(i=s,s=null),function t(e,s,i,n,a){return O(e,s,i,function(_,o){!_||"EMFILE"!==_.code&&"ENFILE"!==_.code?"function"==typeof n&&n.apply(this,arguments):N([t,[e,s,i,n],_,a||Date.now(),Date.now()])})}(t,e,s,i)}return t.open=A,t}function N(t){c("ENQUEUE",t[0].name,t[1]),n[s].push(t),d()}function u(){for(var t=Date.now(),e=0;e<n[s].length;++e)n[s][e].length>2&&(n[s][e][3]=t,n[s][e][4]=t);d()}function d(){if(clearTimeout(l),l=void 0,0!==n[s].length){var t=n[s].shift(),e=t[0],i=t[1],a=t[2],_=t[3],o=t[4];if(void 0===_)c("RETRY",e.name,i),e.apply(null,i);else if(Date.now()-_>=6e4){c("TIMEOUT",e.name,i);var T=i.pop();"function"==typeof T&&T.call(null,a)}else{var r=Date.now()-o,E=Math.max(o-_,1);r>=Math.min(1.2*E,100)?(c("RETRY",e.name,i),e.apply(null,i.concat([_]))):n[s].push(t)}void 0===l&&(l=setTimeout(d,0))}}T.debuglog?c=T.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(c=function(){var t=T.format.apply(T,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),n[s]||(E=global[s]||[],r(n,E),n.close=function(t){function e(e,s){return t.call(n,e,function(t){t||u(),"function"==typeof s&&s.apply(this,arguments)})}return Object.defineProperty(e,i,{value:t}),e}(n.close),n.closeSync=function(t){function e(e){t.apply(n,arguments),u()}return Object.defineProperty(e,i,{value:t}),e}(n.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){c(n[s]),require("assert").equal(n[s].length,0)})),global[s]||r(global,n[s]),e.exports=I(o(n)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!n.__patched&&(e.exports=I(n),n.__patched=!0)}}),require_fs=__commonJS({"node_modules/fs-extra/lib/fs/index.js"(t){"use strict";var e=require_universalify().fromCallback,s=require_graceful_fs(),i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof s[t]);Object.assign(t,s),i.forEach(i=>{t[i]=e(s[i])}),t.exists=function(t,e){return"function"==typeof e?s.exists(t,e):new Promise(e=>s.exists(t,e))},t.read=function(t,e,i,n,a,_){return"function"==typeof _?s.read(t,e,i,n,a,_):new Promise((_,o)=>{s.read(t,e,i,n,a,(t,e,s)=>{if(t)return o(t);_({bytesRead:e,buffer:s})})})},t.write=function(t,e,...i){return"function"==typeof i[i.length-1]?s.write(t,e,...i):new Promise((n,a)=>{s.write(t,e,...i,(t,e,s)=>{if(t)return a(t);n({bytesWritten:e,buffer:s})})})},t.readv=function(t,e,...i){return"function"==typeof i[i.length-1]?s.readv(t,e,...i):new Promise((n,a)=>{s.readv(t,e,...i,(t,e,s)=>{if(t)return a(t);n({bytesRead:e,buffers:s})})})},t.writev=function(t,e,...i){return"function"==typeof i[i.length-1]?s.writev(t,e,...i):new Promise((n,a)=>{s.writev(t,e,...i,(t,e,s)=>{if(t)return a(t);n({bytesWritten:e,buffers:s})})})},"function"==typeof s.realpath.native?t.realpath.native=e(s.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}}),require_utils=__commonJS({"node_modules/fs-extra/lib/mkdirs/utils.js"(t,e){"use strict";var s=require("path");e.exports.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(s.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}}}}),require_make_dir=__commonJS({"node_modules/fs-extra/lib/mkdirs/make-dir.js"(t,e){"use strict";var s=require_fs(),{checkPath:i}=require_utils(),n=t=>{return"number"==typeof t?t:{...{mode:511},...t}.mode};e.exports.makeDir=(async(t,e)=>(i(t),s.mkdir(t,{mode:n(e),recursive:!0}))),e.exports.makeDirSync=((t,e)=>(i(t),s.mkdirSync(t,{mode:n(e),recursive:!0})))}}),require_mkdirs=__commonJS({"node_modules/fs-extra/lib/mkdirs/index.js"(t,e){"use strict";var s=require_universalify().fromPromise,{makeDir:i,makeDirSync:n}=require_make_dir(),a=s(i);e.exports={mkdirs:a,mkdirsSync:n,mkdirp:a,mkdirpSync:n,ensureDir:a,ensureDirSync:n}}}),require_path_exists=__commonJS({"node_modules/fs-extra/lib/path-exists/index.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require_fs();e.exports={pathExists:s(function(t){return i.access(t).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}}}),require_utimes=__commonJS({"node_modules/fs-extra/lib/util/utimes.js"(t,e){"use strict";var s=require_fs(),i=require_universalify().fromPromise;e.exports={utimesMillis:i(async function(t,e,i){const n=await s.open(t,"r+");let a=null;try{await s.futimes(n,e,i)}finally{try{await s.close(n)}catch(t){a=t}}if(a)throw a}),utimesMillisSync:function(t,e,i){const n=s.openSync(t,"r+");return s.futimesSync(n,e,i),s.closeSync(n)}}}}),require_stat=__commonJS({"node_modules/fs-extra/lib/util/stat.js"(t,e){"use strict";var s=require_fs(),i=require("path"),n=require_universalify().fromPromise;function a(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function _(t,e){const s=i.resolve(t).split(i.sep).filter(t=>t),n=i.resolve(e).split(i.sep).filter(t=>t);return s.every((t,e)=>n[e]===t)}function o(t,e,s){return`Cannot ${s} '${t}' to a subdirectory of itself, '${e}'.`}e.exports={checkPaths:n(async function(t,e,n,T){const{srcStat:r,destStat:E}=await function(t,e,i){const n=i.dereference?t=>s.stat(t,{bigint:!0}):t=>s.lstat(t,{bigint:!0});return Promise.all([n(t),n(e).catch(t=>{if("ENOENT"===t.code)return null;throw t})]).then(([t,e])=>({srcStat:t,destStat:e}))}(t,e,T);if(E){if(a(r,E)){const s=i.basename(t),a=i.basename(e);if("move"===n&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:r,destStat:E,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!E.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!r.isDirectory()&&E.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(r.isDirectory()&&_(t,e))throw new Error(o(t,e,n));return{srcStat:r,destStat:E}}),checkPathsSync:function(t,e,n,T){const{srcStat:r,destStat:E}=function(t,e,i){let n;const a=i.dereference?t=>s.statSync(t,{bigint:!0}):t=>s.lstatSync(t,{bigint:!0}),_=a(t);try{n=a(e)}catch(t){if("ENOENT"===t.code)return{srcStat:_,destStat:null};throw t}return{srcStat:_,destStat:n}}(t,e,T);if(E){if(a(r,E)){const s=i.basename(t),a=i.basename(e);if("move"===n&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:r,destStat:E,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(r.isDirectory()&&!E.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!r.isDirectory()&&E.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(r.isDirectory()&&_(t,e))throw new Error(o(t,e,n));return{srcStat:r,destStat:E}},checkParentPaths:n(async function t(e,n,_,T){const r=i.resolve(i.dirname(e)),E=i.resolve(i.dirname(_));if(E===r||E===i.parse(E).root)return;let l;try{l=await s.stat(E,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(a(n,l))throw new Error(o(e,_,T));return t(e,n,E,T)}),checkParentPathsSync:function t(e,n,_,T){const r=i.resolve(i.dirname(e)),E=i.resolve(i.dirname(_));if(E===r||E===i.parse(E).root)return;let l;try{l=s.statSync(E,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(a(n,l))throw new Error(o(e,_,T));return t(e,n,E,T)},isSrcSubdir:_,areIdentical:a}}}),require_copy=__commonJS({"node_modules/fs-extra/lib/copy/copy.js"(t,e){"use strict";var s=require_fs(),i=require("path"),{mkdirs:n}=require_mkdirs(),{pathExists:a}=require_path_exists(),{utimesMillis:_}=require_utimes(),o=require_stat();async function T(t,e,s){return!s.filter||s.filter(t,e)}async function r(t,e,n,a){const _=a.dereference?s.stat:s.lstat,l=await _(e);if(l.isDirectory())return async function(t,e,n,a,_){e||await s.mkdir(a);const E=await s.readdir(n);await Promise.all(E.map(async t=>{const e=i.join(n,t),s=i.join(a,t);if(!await T(e,s,_))return;const{destStat:E}=await o.checkPaths(e,s,"copy",_);return r(E,e,s,_)})),e||await s.chmod(a,t.mode)}(l,t,e,n,a);if(l.isFile()||l.isCharacterDevice()||l.isBlockDevice())return async function(t,e,i,n,a){if(!e)return E(t,i,n,a);if(a.overwrite)return await s.unlink(n),E(t,i,n,a);if(a.errorOnExist)throw new Error(`'${n}' already exists`)}(l,t,e,n,a);if(l.isSymbolicLink())return async function(t,e,n,a){let _=await s.readlink(e);a.dereference&&(_=i.resolve(process.cwd(),_));if(!t)return s.symlink(_,n);let T=null;try{T=await s.readlink(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return s.symlink(_,n);throw t}a.dereference&&(T=i.resolve(process.cwd(),T));if(o.isSrcSubdir(_,T))throw new Error(`Cannot copy '${_}' to a subdirectory of itself, '${T}'.`);if(o.isSrcSubdir(T,_))throw new Error(`Cannot overwrite '${T}' with '${_}'.`);return await s.unlink(n),s.symlink(_,n)}(t,e,n,a);if(l.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(l.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}async function E(t,e,i,n){if(await s.copyFile(e,i),n.preserveTimestamps){0==(128&t.mode)&&await function(t,e){return s.chmod(t,128|e)}(i,t.mode);const n=await s.stat(e);await _(i,n.atime,n.mtime)}return s.chmod(i,t.mode)}e.exports=async function(t,e,s={}){"function"==typeof s&&(s={filter:s}),s.clobber=!("clobber"in s&&!s.clobber),s.overwrite="overwrite"in s?!!s.overwrite:s.clobber,s.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:_,destStat:E}=await o.checkPaths(t,e,"copy",s);if(await o.checkParentPaths(t,_,e,"copy"),!await T(t,e,s))return;const l=i.dirname(e);await a(l)||await n(l),await r(E,t,e,s)}}}),require_copy_sync=__commonJS({"node_modules/fs-extra/lib/copy/copy-sync.js"(t,e){"use strict";var s=require_graceful_fs(),i=require("path"),n=require_mkdirs().mkdirsSync,a=require_utimes().utimesMillisSync,_=require_stat();function o(t,e,n,a){const o=(a.dereference?s.statSync:s.lstatSync)(e);if(o.isDirectory())return function(t,e,i,n,a){return e?E(i,n,a):function(t,e,i,n){return s.mkdirSync(i),E(e,i,n),r(i,t)}(t.mode,i,n,a)}(o,t,e,n,a);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(t,e,i,n,a){return e?function(t,e,i,n){if(n.overwrite)return s.unlinkSync(i),T(t,e,i,n);if(n.errorOnExist)throw new Error(`'${i}' already exists`)}(t,i,n,a):T(t,i,n,a)}(o,t,e,n,a);if(o.isSymbolicLink())return function(t,e,n,a){let o=s.readlinkSync(e);a.dereference&&(o=i.resolve(process.cwd(),o));if(t){let t;try{t=s.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return s.symlinkSync(o,n);throw t}if(a.dereference&&(t=i.resolve(process.cwd(),t)),_.isSrcSubdir(o,t))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${t}'.`);if(_.isSrcSubdir(t,o))throw new Error(`Cannot overwrite '${t}' with '${o}'.`);return function(t,e){return s.unlinkSync(e),s.symlinkSync(t,e)}(o,n)}return s.symlinkSync(o,n)}(t,e,n,a);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function T(t,e,i,n){return s.copyFileSync(e,i),n.preserveTimestamps&&function(t,e,i){(function(t){return 0==(128&t)})(t)&&function(t,e){r(t,128|e)}(i,t);(function(t,e){const i=s.statSync(t);a(e,i.atime,i.mtime)})(e,i)}(t.mode,e,i),r(i,t.mode)}function r(t,e){return s.chmodSync(t,e)}function E(t,e,n){s.readdirSync(t).forEach(s=>(function(t,e,s,n){const a=i.join(e,t),T=i.join(s,t);if(n.filter&&!n.filter(a,T))return;const{destStat:r}=_.checkPathsSync(a,T,"copy",n);return o(r,a,T,n)})(s,t,e,n))}e.exports=function(t,e,a){"function"==typeof a&&(a={filter:a}),(a=a||{}).clobber=!("clobber"in a&&!a.clobber),a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:T,destStat:r}=_.checkPathsSync(t,e,"copy",a);if(_.checkParentPathsSync(t,T,e,"copy"),a.filter&&!a.filter(t,e))return;const E=i.dirname(e);return s.existsSync(E)||n(E),o(r,t,e,a)}}}),require_copy2=__commonJS({"node_modules/fs-extra/lib/copy/index.js"(t,e){"use strict";var s=require_universalify().fromPromise;e.exports={copy:s(require_copy()),copySync:require_copy_sync()}}}),require_remove=__commonJS({"node_modules/fs-extra/lib/remove/index.js"(t,e){"use strict";var s=require_graceful_fs(),i=require_universalify().fromCallback;e.exports={remove:i(function(t,e){s.rm(t,{recursive:!0,force:!0},e)}),removeSync:function(t){s.rmSync(t,{recursive:!0,force:!0})}}}}),require_empty=__commonJS({"node_modules/fs-extra/lib/empty/index.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require_fs(),n=require("path"),a=require_mkdirs(),_=require_remove(),o=s(async function(t){let e;try{e=await i.readdir(t)}catch(e){return a.mkdirs(t)}return Promise.all(e.map(e=>_.remove(n.join(t,e))))});function T(t){let e;try{e=i.readdirSync(t)}catch(e){return a.mkdirsSync(t)}e.forEach(e=>{e=n.join(t,e),_.removeSync(e)})}e.exports={emptyDirSync:T,emptydirSync:T,emptyDir:o,emptydir:o}}}),require_file=__commonJS({"node_modules/fs-extra/lib/ensure/file.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require("path"),n=require_fs(),a=require_mkdirs();e.exports={createFile:s(async function(t){let e;try{e=await n.stat(t)}catch(t){}if(e&&e.isFile())return;const s=i.dirname(t);let _=null;try{_=await n.stat(s)}catch(e){if("ENOENT"===e.code)return await a.mkdirs(s),void await n.writeFile(t,"");throw e}_.isDirectory()?await n.writeFile(t,""):await n.readdir(s)}),createFileSync:function(t){let e;try{e=n.statSync(t)}catch(t){}if(e&&e.isFile())return;const s=i.dirname(t);try{n.statSync(s).isDirectory()||n.readdirSync(s)}catch(t){if(!t||"ENOENT"!==t.code)throw t;a.mkdirsSync(s)}n.writeFileSync(t,"")}}}}),require_link=__commonJS({"node_modules/fs-extra/lib/ensure/link.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require("path"),n=require_fs(),a=require_mkdirs(),{pathExists:_}=require_path_exists(),{areIdentical:o}=require_stat();e.exports={createLink:s(async function(t,e){let s,T;try{s=await n.lstat(e)}catch(t){}try{T=await n.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}if(s&&o(T,s))return;const r=i.dirname(e);await _(r)||await a.mkdirs(r),await n.link(t,e)}),createLinkSync:function(t,e){let s;try{s=n.lstatSync(e)}catch(t){}try{const e=n.lstatSync(t);if(s&&o(e,s))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const _=i.dirname(e);return n.existsSync(_)?n.linkSync(t,e):(a.mkdirsSync(_),n.linkSync(t,e))}}}}),require_symlink_paths=__commonJS({"node_modules/fs-extra/lib/ensure/symlink-paths.js"(t,e){"use strict";var s=require("path"),i=require_fs(),{pathExists:n}=require_path_exists(),a=require_universalify().fromPromise;e.exports={symlinkPaths:a(async function(t,e){if(s.isAbsolute(t)){try{await i.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:t}}const a=s.dirname(e),_=s.join(a,t);if(await n(_))return{toCwd:_,toDst:t};try{await i.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:s.relative(a,t)}}),symlinkPathsSync:function(t,e){if(s.isAbsolute(t)){if(!i.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const n=s.dirname(e),a=s.join(n,t);if(i.existsSync(a))return{toCwd:a,toDst:t};if(!i.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:s.relative(n,t)}}}}}),require_symlink_type=__commonJS({"node_modules/fs-extra/lib/ensure/symlink-type.js"(t,e){"use strict";var s=require_fs(),i=require_universalify().fromPromise;e.exports={symlinkType:i(async function(t,e){if(e)return e;let i;try{i=await s.lstat(t)}catch(t){return"file"}return i&&i.isDirectory()?"dir":"file"}),symlinkTypeSync:function(t,e){if(e)return e;let i;try{i=s.lstatSync(t)}catch(t){return"file"}return i&&i.isDirectory()?"dir":"file"}}}}),require_symlink=__commonJS({"node_modules/fs-extra/lib/ensure/symlink.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require("path"),n=require_fs(),{mkdirs:a,mkdirsSync:_}=require_mkdirs(),{symlinkPaths:o,symlinkPathsSync:T}=require_symlink_paths(),{symlinkType:r,symlinkTypeSync:E}=require_symlink_type(),{pathExists:l}=require_path_exists(),{areIdentical:c}=require_stat();e.exports={createSymlink:s(async function(t,e,s){let _;try{_=await n.lstat(e)}catch(t){}if(_&&_.isSymbolicLink()){const[s,i]=await Promise.all([n.stat(t),n.stat(e)]);if(c(s,i))return}const T=await o(t,e);t=T.toDst;const E=await r(T.toCwd,s),I=i.dirname(e);return await l(I)||await a(I),n.symlink(t,e,E)}),createSymlinkSync:function(t,e,s){let a;try{a=n.lstatSync(e)}catch(t){}if(a&&a.isSymbolicLink()){const s=n.statSync(t),i=n.statSync(e);if(c(s,i))return}const o=T(t,e);t=o.toDst,s=E(o.toCwd,s);const r=i.dirname(e);return n.existsSync(r)?n.symlinkSync(t,e,s):(_(r),n.symlinkSync(t,e,s))}}}}),require_ensure=__commonJS({"node_modules/fs-extra/lib/ensure/index.js"(t,e){"use strict";var{createFile:s,createFileSync:i}=require_file(),{createLink:n,createLinkSync:a}=require_link(),{createSymlink:_,createSymlinkSync:o}=require_symlink();e.exports={createFile:s,createFileSync:i,ensureFile:s,ensureFileSync:i,createLink:n,createLinkSync:a,ensureLink:n,ensureLinkSync:a,createSymlink:_,createSymlinkSync:o,ensureSymlink:_,ensureSymlinkSync:o}}}),require_utils2=__commonJS({"node_modules/jsonfile/utils.js"(t,e){e.exports={stringify:function(t,{EOL:e="\n",finalEOL:s=!0,replacer:i=null,spaces:n}={}){const a=s?e:"";return JSON.stringify(t,i,n).replace(/\n/g,e)+a},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}}}),require_jsonfile=__commonJS({"node_modules/jsonfile/index.js"(t,e){var s;try{s=require_graceful_fs()}catch(t){s=require("fs")}var i=require_universalify(),{stringify:n,stripBom:a}=require_utils2();var _={readFile:i.fromPromise(async function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||s,_=!("throws"in e)||e.throws;let o,T=await i.fromCallback(n.readFile)(t,e);T=a(T);try{o=JSON.parse(T,e?e.reviver:null)}catch(e){if(_)throw e.message=`${t}: ${e.message}`,e;return null}return o}),readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const i=e.fs||s,n=!("throws"in e)||e.throws;try{let s=i.readFileSync(t,e);return s=a(s),JSON.parse(s,e.reviver)}catch(e){if(n)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:i.fromPromise(async function(t,e,a={}){const _=a.fs||s,o=n(e,a);await i.fromCallback(_.writeFile)(t,o,a)}),writeFileSync:function(t,e,i={}){const a=i.fs||s,_=n(e,i);return a.writeFileSync(t,_,i)}};e.exports=_}}),require_jsonfile2=__commonJS({"node_modules/fs-extra/lib/json/jsonfile.js"(t,e){"use strict";var s=require_jsonfile();e.exports={readJson:s.readFile,readJsonSync:s.readFileSync,writeJson:s.writeFile,writeJsonSync:s.writeFileSync}}}),require_output_file=__commonJS({"node_modules/fs-extra/lib/output-file/index.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require_fs(),n=require("path"),a=require_mkdirs(),_=require_path_exists().pathExists;e.exports={outputFile:s(async function(t,e,s="utf-8"){const o=n.dirname(t);return await _(o)||await a.mkdirs(o),i.writeFile(t,e,s)}),outputFileSync:function(t,...e){const s=n.dirname(t);i.existsSync(s)||a.mkdirsSync(s),i.writeFileSync(t,...e)}}}}),require_output_json=__commonJS({"node_modules/fs-extra/lib/json/output-json.js"(t,e){"use strict";var{stringify:s}=require_utils2(),{outputFile:i}=require_output_file();e.exports=async function(t,e,n={}){const a=s(e,n);await i(t,a,n)}}}),require_output_json_sync=__commonJS({"node_modules/fs-extra/lib/json/output-json-sync.js"(t,e){"use strict";var{stringify:s}=require_utils2(),{outputFileSync:i}=require_output_file();e.exports=function(t,e,n){const a=s(e,n);i(t,a,n)}}}),require_json=__commonJS({"node_modules/fs-extra/lib/json/index.js"(t,e){"use strict";var s=require_universalify().fromPromise,i=require_jsonfile2();i.outputJson=s(require_output_json()),i.outputJsonSync=require_output_json_sync(),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i}}),require_move=__commonJS({"node_modules/fs-extra/lib/move/move.js"(t,e){"use strict";var s=require_fs(),i=require("path"),{copy:n}=require_copy2(),{remove:a}=require_remove(),{mkdirp:_}=require_mkdirs(),{pathExists:o}=require_path_exists(),T=require_stat();e.exports=async function(t,e,r={}){const E=r.overwrite||r.clobber||!1,{srcStat:l,isChangingCase:c=!1}=await T.checkPaths(t,e,"move",r);await T.checkParentPaths(t,l,e,"move");const I=i.dirname(e);return i.parse(I).root!==I&&await _(I),async function(t,e,i,_){if(!_)if(i)await a(e);else if(await o(e))throw new Error("dest already exists.");try{await s.rename(t,e)}catch(s){if("EXDEV"!==s.code)throw s;await async function(t,e,s){const i={overwrite:s,errorOnExist:!0,preserveTimestamps:!0};return await n(t,e,i),a(t)}(t,e,i)}}(t,e,E,c)}}}),require_move_sync=__commonJS({"node_modules/fs-extra/lib/move/move-sync.js"(t,e){"use strict";var s=require_graceful_fs(),i=require("path"),n=require_copy2().copySync,a=require_remove().removeSync,_=require_mkdirs().mkdirpSync,o=require_stat();function T(t,e,i){try{s.renameSync(t,e)}catch(s){if("EXDEV"!==s.code)throw s;return function(t,e,s){return n(t,e,{overwrite:s,errorOnExist:!0,preserveTimestamps:!0}),a(t)}(t,e,i)}}e.exports=function(t,e,n){const r=(n=n||{}).overwrite||n.clobber||!1,{srcStat:E,isChangingCase:l=!1}=o.checkPathsSync(t,e,"move",n);return o.checkParentPathsSync(t,E,e,"move"),function(t){const e=i.dirname(t);return i.parse(e).root===e}(e)||_(i.dirname(e)),function(t,e,i,n){if(n)return T(t,e,i);if(i)return a(e),T(t,e,i);if(s.existsSync(e))throw new Error("dest already exists.");return T(t,e,i)}(t,e,r,l)}}}),require_move2=__commonJS({"node_modules/fs-extra/lib/move/index.js"(t,e){"use strict";var s=require_universalify().fromPromise;e.exports={move:s(require_move()),moveSync:require_move_sync()}}}),require_lib=__commonJS({"node_modules/fs-extra/lib/index.js"(t,e){"use strict";e.exports={...require_fs(),...require_copy2(),...require_empty(),...require_ensure(),...require_json(),...require_mkdirs(),...require_move2(),...require_output_file(),...require_path_exists(),...require_remove()}}}),main_exports={};__export(main_exports,{default:()=>main_default}),module.exports=__toCommonJS(main_exports);var path6=__toESM(require("path")),fs8=__toESM(require_lib()),import_obsidian26=require("obsidian"),DEFAULT_SETTINGS={I18N_AGREEMENT:!1,I18N_WIZARD:!0,I18N_UUID:"",I18N_LANGUAGE:"zh-cn",I18N_COLOR:"#409EFF",I18N_AUTHOR:"",I18N_EDIT_MODE:!0,I18N_OPEN_SETTINGS:!0,I18N_CHECK_UPDATES:!0,I18N_SEARCH_TEXT:"",I18N_SORT:"0",I18N_TYPE:"0",I18N_MODE_LDT:!0,I18N_AUTOMATIC_UPDATE:!1,I18N_INCREMENTAL_EXTRACTION:!1,I18N_NAME_TRANSLATION:!1,I18N_NAME_TRANSLATION_PREFIX:"[",I18N_NAME_TRANSLATION_SUFFIX:"]",I18N_MODE_NDT:!1,I18N_IGNORE:!1,I18N_MODE_NIT:!1,I18N_NIT_API:"BAIDU",I18N_NIT_API_INTERVAL:500,I18N_NIT_APIS:{BAIDU:{FROM:"auto",TO:"zh",APP_ID:"",KEY:""}},I18N_NIT_OPENAI_URL:"https://api.openai.com",I18N_NIT_OPENAI_KEY:"",I18N_NIT_OPENAI_MODEL:"gpt-3.5-turbo",I18N_NIT_OPENAI_TIPS:"你是一个翻译工作者，你将进行obsidian笔记软件的插件翻译，本次翻译的插件名称为: ${plugin}，请结合插件名称以及软件翻译的标准进行后续工作，因为大多数文本长度较短，请以符合中文习惯的方式翻译。接下来我会提交给你很多英文文本，请将其翻译为简体中文，并且只返回给我翻译后的内容",I18N_MODE_IMT:!1,I18N_IMT_CONFIG:{selectors:["*"],excludeSelectors:[".modal .i18n__container"],excludeTags:[],additionalSelectors:[],additionalExcludeSelectors:[],additionalExcludeTags:[],stayOriginalSelectors:[],stayOriginalTags:[],atomicBlockSelectors:[],atomicBlockTags:[]},I18N_SHARE_MODE:!0,I18N_SHARE_TOKEN:"",I18N_SHARE_TIME:0,I18N_SHARE_HISTORY:[],I18N_RE_TEMP_MODE:!0,I18N_RE_TEMP:"",I18N_RE_MODE:"默认",I18N_RE_FLAGS:"gs",I18N_RE_LENGTH:300,I18N_RE_MODE_EDIT:!1,I18N_RE_MODE_DISPLAY:!1,I18N_RE_DATAS_DISPLAY:!1,I18N_RE_MODES:["默认"],I18N_RE_DATAS:{"默认":["Notice\\(\\s*(.+?)\\s*\\)",".log\\(\\s*(.+?)\\s*\\)",".error\\(\\s*(.+?)\\s*\\)","t\\s*=\\s*:\\s*(['\"`])(.+?)\\1",".textContent\\s*=\\s*:\\s*(['\"`])(.+?)\\1","name\\s*:\\s*(['\"`])(.+?)\\1","description\\s*:\\s*(['\"`])(.+?)\\1","selection\\s*:\\s*(['\"`])(.+?)\\1","annotation\\s*:\\s*(['\"`])(.+?)\\1","link\\s*:\\s*(['\"`])(.+?)\\1","text\\s*:\\s*(['\"`])(.+?)\\1","search\\s*:\\s*(['\"`])(.+?)\\1","speech\\s*:\\s*(['\"`])(.+?)\\1","page\\s*:\\s*(['\"`])(.+?)\\1","settings\\s*:\\s*(['\"`])(.+?)\\1",".setText\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".setButtonText\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".setName\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".setDesc\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".setPlaceholder\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".setTooltip\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".appendText\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".setTitle\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".addHeading\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".renderMarkdown\\(\\s*(['\"`])(.+?)\\1\\s*\\)",".innerText\\s*=\\s*(['\"`]).*?\\1"]},I18N_GITEE_OWNER:"zero--two",I18N_GITEE_REPO:"obsidian-i18n-translation",I18N_ADMIN_MODE:!1,I18N_ADMIN_TOKEN:"",I18N_TAG_TYPE:"light",I18N_TAG_SHAPE:"square",I18N_BUTTON_TYPE:"default",I18N_BUTTON_SHAPE:"square"},import_obsidian14=require("obsidian"),fs=__toESM(require_lib()),path=__toESM(require("path")),BaseSetting=class{constructor(t){this.settingTab=t,this.i18n=t.i18n,this.settings=t.i18n.settings,this.a=t.containerEl,this.containerEl=t.contentEl,this.app=t.app}display(){this.main()}},import_obsidian2=require("obsidian"),LANGUAGES={"zh-cn":"简体中文"},API_TYPES={BAIDU:"百度",OPENAI:"OpenAI"},BAIDU_ERROR_CODE={52000:"成功",52001:"请求超时",52002:"系统错误",52003:"未授权用户",54000:"必填参数为空",54001:"签名错误",54003:"访问频率受限",54004:"账户余额不足",54005:"长query请求频繁",58000:"客户端IP非法",58001:"译文语言方向不支持",58002:"服务当前已关闭",58003:"此IP已被封禁",90107:"认证未通过或未生效",20003:"请求内容存在安全风险 "},I18N_SORT={0:"正序",1:"倒序"},I18N_TYPE={0:"全部",1:"提取",2:"翻译",3:"还原"},TAG_TYPE={light:"样式一",dark:"样式二",plain:"样式三"},TAG_SHAPE={square:"方形",round:"圆形"},BUTTON_TYPE={plain:"样式一",default:"样式二"},BUTTON_SHAPE={square:"方形",round:"圆形"},import_obsidian=require("obsidian"),zh_cn_default={PUBLIC_SUCCESS:"成功",PUBLIC_FAILURE:"失败",I18N_NAME:"I18N",I18N_HELP_TITLE_NAME:"遇到难题？速加Q群咨询！",I18N_HELP_TITLE_QQ_BUTTON_TIP:"一键直达，加入Q群共享精彩！",I18N_HELP_TITLE_SETTING_BUTTON_TIP:"打开I18N设置界面",I18N_HELP_TITLE_HELP_BUTTON_TIP:"打开I18N帮助界面",I18N_SEARCH_TITLE_NAME:"搜索",I18N_ITEM_LABEL_A_NAME:"无译文",I18N_ITEM_LABEL_A_DESC:"您还未提取译文",I18N_ITEM_LABEL_B_NAME:"已翻译",I18N_ITEM_LABEL_C_NAME:"未翻译",I18N_ITEM_LABEL_D_NAME:"已过时",I18N_ITEM_LABEL_BCD_DESC_AUTHOR:"作者",I18N_ITEM_LABEL_BCD_DESC_VERSION:"支持版本",I18N_ITEM_LABEL_E_NAME:"译文有误",I18N_ITEM_LABEL_E_DESC:"格式格式可能存在错误 请仔细检查后重试",I18N_ITEM_LABEL_F_NAME:"有汉化",I18N_ITEM_LABEL_F_DESC:"根据反馈 此插件可能自带中文",I18N_ITEM_LABEL_G_DESC:"无",I18N_ITEM_OPEN_SETTING_BUTTON_TIP:"打开插件设置",I18N_ITEM_OPEN_DIR_BUTTON_TIP:"打开插件目录",I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD:"打开目录",I18N_ITEM_DELETE_DIR_BUTTON_TIP:"删除译文目录",I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD:"删除译文",I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP:"编辑译文",I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP:"提交译文",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT:"提取",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TIP:"从插件中提取未翻译的译文",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD:"提取译文",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"提取译文",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT:"下载",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TIP:"从网络下载译文",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD:"下载译文",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT:"更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TIP:"从网络下载译文对本地译文进行更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD:"更新译文",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_TIP:"生成已翻译译文",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD:"机器翻译",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_TRANSLATION_BUTTON_TEXT:"翻译",I18N_ITEM_TRANSLATION_BUTTON_TIP:"插件翻译",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD:"插件翻译",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"如遇翻译后插件失效\n说明译文可能出现问题\n点击还原即可恢复原状",I18N_ITEM_RESTORE_BUTTON_TEXT:"还原",I18N_ITEM_RESTORE_BUTTON_TIP:"插件还原",I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD:"插件还原",I18N_STATE_HEAD:"状态文件",I18N_UPDATE_HEAD:"插件更新",WIZARD_VIDEO_TUTORIAL_TITLE_NAME:"官方视频教程",WIZARD_VIDEO_TUTORIAL_TITLE_DESC:"详尽演示Obsidian i18n操作，助力快速掌握",WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT:"浏览",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME:"官方文档教程",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC:"Obsidian i18n的全面探索之旅指南",WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT:"浏览",WIZARD_QQ_TITLE_NAME:"官方Q群",WIZARD_QQ_TITLE_DESC:"在官方群，您可发布需求、提交BUG、分享译文，并与其他用户就插件使用、翻译等话题交流互助。",WIZARD_QQ_TEXT:"加入",SUBMITE_PUBLIC_AUTHOR:"作者",SUBMITE_PUBLIC_TRANSLATION_VERSION:"译文版本",SUBMITE_PUBLIC_PLUGIN_VERSION:"插件版本",SUBMITE_TITLE_NAME:"感谢共享译文",SUBMITE_TITLE_DESC:"提交前，请您细心审阅，我们衷心感谢您的配合与努力。",SUBMITE_LOCAL_TRANSLATION_NAME:"[本地译文]",SUBMITE_CLOUD_TRANSLATION_NAME:"[云端译文]",SUBMITE_OPERATE_CANCEL_BUTTON_TEXT:"取消提交",SUBMITE_OPERATE_CANCEL_BUTTON_NOTICE_HEAD:"取消提交",SUBMITE_OPERATE_REQUEST_BUTTON_TEXT:"请求翻译",SUBMITE_OPERATE_REQUEST_BUTTON_NOTICE_HEAD:"请求翻译",SUBMITE_OPERATE_MARK_BUTTON_TEXT:"标记汉化",SUBMITE_OPERATE_MARK_BUTTON_NOTICE_HEAD:"标记汉化",SUBMITE_OPERATE_SUBMITE_BUTTON_TEXT:"提交译文",SUBMITE_OPERATE_SUBMITE_BUTTON_NOTICE_HEAD:"提交译文",SUBMITE_OPERATE_UPDATE_BUTTON_TEXT:"提交修改",SUBMITE_OPERATE_UPDATE_BUTTON_NOTICE_HEAD:"提交修改",SUBMITE_INSPECT_HEAD:"译文检查",SUBMITE_INSPECT_NOTICE_A:"译文字段缺失",SUBMITE_INSPECT_NOTICE_B:"作者不能为空",SUBMITE_INSPECT_NOTICE_C:"翻译内容达标",SUBMITE_INSPECT_NOTICE_D:"翻译内容不超过百分之五十",SUBMITE_INSPECT_NOTICE_E:"版本号格式必须为(X.X.X)",EDITOR_PUBLIC_HEAD:"译文编辑器",EDITOR_TITLE_AUTHOR:"作者",EDITOR_TITLE_TRANSLATION_VERSION:"译文版本",EDITOR_TITLE_PLUGIN_VERSION:"版本",EDITOR_TITLE_DESCRIPTION:"描述",EDITOR_SAVE_TRANSLATION_BUTTON_TEXT:"保存",EDITOR_CANCEL_ITEM_BUTTON_TEXT:"取消",EDITOR_CANCEL_ITEM_BUTTON_NOTICE_CONTENT_A:"取消选择",EDITOR_DELETE_ITEM_BUTTON_TEXT:"删除",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A:"删除成功",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_B:"删除失败",EDITOR_INSERT_ITEM_BUTTON_TEXT:"新增",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A:"新增成功",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B:"新增失败\n译文中已存在此内容",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_C:"新增失败\n新增前请取消选中对象",EDITOR_RESTORE_ITEM_BUTTON_TEXT:"还原",EDITOR_RESTORE_ITEM_BUTTON_NOTICE_CONTENT_A:"还原成功",EDITOR_RESTORE_ITEM_BUTTON_NOTICE_CONTENT_B:"还原失败\n还原时请选中对象",EDITOR_HELP_BUTTON_TEXT:"退出前请保存",EDITOR_HELP_BUTTON_NOTICE_CONTENT_A:"\n退出前请务必保存\n退出前请务必保存\n退出前请务必保存",SETTING_PUBLIC_HIDE:"隐藏",SETTING_PUBLIC_SHOW:"显示",SETTING_PUBLIC_RE:"正则",SETTING_BASE_TITLE_NAME:"基础设置",SETTING_HELP_NAME:"帮助",SETTING_LANGUAGE_NAME:"语言",SETTING_LANGUAGE_DESC:"选择需要翻译的语言",SETTING_LDT_NAME:"本地模式",SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD:"词典重载",SETTING_LDT_AUTOMATIC_UPDATE_NAME:"词典重载",SETTING_LDT_AUTOMATIC_UPDATE_DESC:"检测到插件版本变动后，自动应用本地已有译文(因为插件更新，本地译文可能不适配，请注意是否报错)",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A:"开始检查更新",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B:"没有需要更新的插件",SETTING_NDT_NAME:"云端模式",SETTING_NDT_PUBLIC_MODE_HEAD:"云端模式",SETTING_NDT_MODE_NOTICE_A:"当前语言 API 不存在",SETTING_NDT_MODE_NOTICE_B:"网络异常",SETTING_NDT_PUBLIC_IGNORE_HEAD:"标记汉化",SETTING_NDT_APIS_NAME:"云端接口",SETTING_NDT_APIS_DESC:"请输入您要翻译语言对应的API(重新添加将会覆盖)",SETTING_NDT_APIS_INSERT_BUTTON:"添加",SETTING_NDT_IGNORE_NAME:"标记汉化",SETTING_NDT_IGNORE_DESC:"标记自带中文的插件(由社区反馈 需联网查询)",SETTING_NDT_IGNORE_NOTICE_A:"当前语言 API 不存在",SETTING_NDT_IGNORE_NOTICE_B:"网络异常",SETTING_NIT_NAME:"机器翻译",SETTING_NIT_APIS_NAME:"选择接口",SETTING_NIT_APIS_DESC:"选择您要使用的接口",SETTING_NIT_TEST_BUTTON_TEXT:"测试",SETTING_NIT_INTERVAL_NAME:"请求间隔",SETTING_NIT_INTERVAL_DESC:"用于限制每次请求间隔(单位: 毫秒)",SETTING_NIT_BAIDU_NAME:"百度",SETTING_NIT_BAIDU_DESC:"基于百度API进行翻译",SETTING_NIT_OPENAI_NAME:"OPENAI",SETTING_NIT_OPENAI_DESC:"基于OPENAI的API进行翻译",SETTING_NIT_OPENAI_TIP_NAME:"提示",SETTING_NIT_OPENAI_TIP_DESC:"即prompt，用于指导AI如何翻译，本插件提供默认提示词，如有需要可自行调整。",SETTING_NIT_OPENAI_TIP_PLACEHOLDER:"提示词",SETTING_MORE_TITLE_NAME:"更多功能",SETTING_Author_NAME:"译文签名",SETTING_Author_DESC:"生成译文时自动添加作者签名",SETTING_Author_PLACEHOLDER:"签名",SETTING_OPEN_SETTING_NAME:"设置跳转",SETTING_OPEN_SETTING_DESC:"启用后插件页面中会显示设置跳转按钮",SETTING_EDITOR_NAME:"译文编辑",SETTING_EDITOR_DESC:"启用/禁用内置译文编辑器功能",SETTING_CLOUD_COLLABORATION_NAME:"共建云端",SETTING_CLOUD_COLLABORATION_DESC:"启动此功能后，您可以提交自己的译文、请求对某个插件进行翻译、标记插件是否自带汉化。欢迎为社区贡献力量！(注意：如出现页面无内容，请检查网络连接)",SETTING_CLOUD_COLLABORATION_TOKEN_NAME:"Gitee Token",SETTING_CLOUD_COLLABORATION_TOKEN_DESC:"请提供您的Token以支持批量提交(临时使用无需填写)",SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER:"Toekn",SETTING_RE_TITLE_NAME:"匹配模式配置",SETTING_RE_MODE_NAME:"模式",SETTING_RE_MODE_DESC:"当前正在使用的匹配模式",SETTING_RE_FLAGS_NAME:"标志",SETTING_RE_FLAGS_DESC:"正则表达式的flags",SETTING_RE_FLAGS_PLACEHOLDER:"flags",SETTING_RE_LENGTH_NAME:"长度",SETTING_RE_LENGTH_DESC:"限制re可以匹配到的最大长度",SETTING_RE_EDIT_MODE_NAME:"模式编辑",SETTING_RE_EDIT_MODE_DESC:"新增和删除正则表达式匹配模式",SETTING_RE_EDIT_MODE_PLACEHOLDER:"模式",SETTING_RE_EDIT_INSERT_BUTTON_TEXT:"添加",SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A:"RE模式名称重复 无法添加",SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A:"删除失败",SETTING_RE_EDIT_ITEM_NAME:"数据编辑",SETTING_RE_EDIT_ITEM_DESC:"新增和删除正则表达式模式数据",SETTING_RE_EDIT_ITEM_PLACEHOLDER:"RegExp",SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT:"添加"},zh_tw_default={PUBLIC_SUCCESS:"成功",PUBLIC_FAILURE:"失敗",I18N_NAME:"I18N",I18N_HELP_TITLE_NAME:"遇到難題？速加Q群咨詢！",I18N_HELP_TITLE_QQ_BUTTON_TIP:"壹鍵直達，加入Q群共享精彩！",I18N_HELP_TITLE_SETTING_BUTTON_TIP:"打開I18N設置界面",I18N_HELP_TITLE_HELP_BUTTON_TIP:"打開I18N幫助界面",I18N_SEARCH_TITLE_NAME:"搜索",I18N_ITEM_LABEL_A_NAME:"無譯文",I18N_ITEM_LABEL_A_DESC:"您還未提取譯文",I18N_ITEM_LABEL_B_NAME:"已翻譯",I18N_ITEM_LABEL_C_NAME:"未翻譯",I18N_ITEM_LABEL_D_NAME:"已過時",I18N_ITEM_LABEL_BCD_DESC_AUTHOR:"作者",I18N_ITEM_LABEL_BCD_DESC_VERSION:"支持版本",I18N_ITEM_LABEL_E_NAME:"譯文有誤",I18N_ITEM_LABEL_E_DESC:"格式格式可能存在錯誤 請仔細檢查後重試",I18N_ITEM_LABEL_F_NAME:"有漢化",I18N_ITEM_LABEL_F_DESC:"根據反饋 此插件可能自帶中文",I18N_ITEM_LABEL_G_DESC:"無",I18N_ITEM_OPEN_SETTING_BUTTON_TIP:"打開插件設置",I18N_ITEM_OPEN_DIR_BUTTON_TIP:"打開插件目錄",I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD:"打開目錄",I18N_ITEM_DELETE_DIR_BUTTON_TIP:"刪除譯文目錄",I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD:"刪除譯文",I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP:"編輯譯文",I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP:"提交譯文",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT:"提取",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TIP:"從插件中提取未翻譯的譯文",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD:"提取譯文",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"提取譯文",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT:"下載",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TIP:"從網絡下載譯文",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD:"下載譯文",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT:"更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TIP:"從網絡下載譯文對本地譯文進行更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD:"更新譯文",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_TIP:"生成已翻譯譯文",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD:"機器翻譯",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_TRANSLATION_BUTTON_TEXT:"翻譯",I18N_ITEM_TRANSLATION_BUTTON_TIP:"插件翻譯",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD:"插件翻譯",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"如遇翻譯後插件失效\n說明譯文可能出現問題\n點擊還原即可恢復原狀",I18N_ITEM_RESTORE_BUTTON_TEXT:"還原",I18N_ITEM_RESTORE_BUTTON_TIP:"插件還原",I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD:"插件還原",I18N_STATE_HEAD:"狀態文件",I18N_UPDATE_HEAD:"插件更新",WIZARD_VIDEO_TUTORIAL_TITLE_NAME:"官方視頻教程",WIZARD_VIDEO_TUTORIAL_TITLE_DESC:"詳盡演示Obsidian i18n操作，助力快速掌握",WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT:"瀏覽",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME:"官方文檔教程",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC:"Obsidian i18n的全面探索之旅指南",WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT:"瀏覽",WIZARD_QQ_TITLE_NAME:"官方Q群",WIZARD_QQ_TITLE_DESC:"在官方群，您可發布需求、提交BUG、分享譯文，並與其他用戶就插件使用、翻譯等話題交流互助。",WIZARD_QQ_TEXT:"加入",SUBMITE_PUBLIC_AUTHOR:"作者",SUBMITE_PUBLIC_TRANSLATION_VERSION:"譯文版本",SUBMITE_PUBLIC_PLUGIN_VERSION:"插件版本",SUBMITE_TITLE_NAME:"感謝共享譯文",SUBMITE_TITLE_DESC:"提交前，請您細心審閱，我們衷心感謝您的配合與努力。",SUBMITE_LOCAL_TRANSLATION_NAME:"[本地譯文]",SUBMITE_CLOUD_TRANSLATION_NAME:"[雲端譯文]",SUBMITE_OPERATE_CANCEL_BUTTON_TEXT:"取消提交",SUBMITE_OPERATE_CANCEL_BUTTON_NOTICE_HEAD:"取消提交",SUBMITE_OPERATE_REQUEST_BUTTON_TEXT:"請求翻譯",SUBMITE_OPERATE_REQUEST_BUTTON_NOTICE_HEAD:"請求翻譯",SUBMITE_OPERATE_MARK_BUTTON_TEXT:"標記漢化",SUBMITE_OPERATE_MARK_BUTTON_NOTICE_HEAD:"標記漢化",SUBMITE_OPERATE_SUBMITE_BUTTON_TEXT:"提交譯文",SUBMITE_OPERATE_SUBMITE_BUTTON_NOTICE_HEAD:"提交譯文",SUBMITE_OPERATE_UPDATE_BUTTON_TEXT:"提交修改",SUBMITE_OPERATE_UPDATE_BUTTON_NOTICE_HEAD:"提交修改",SUBMITE_INSPECT_HEAD:"譯文檢查",SUBMITE_INSPECT_NOTICE_A:"譯文字段缺失",SUBMITE_INSPECT_NOTICE_B:"作者不能為空",SUBMITE_INSPECT_NOTICE_C:"翻譯內容達標",SUBMITE_INSPECT_NOTICE_D:"翻譯內容不超過百分之五十",SUBMITE_INSPECT_NOTICE_E:"版本號格式應該為(X.X.X)",EDITOR_PUBLIC_HEAD:"譯文編輯器",EDITOR_TITLE_AUTHOR:"作者",EDITOR_TITLE_TRANSLATION_VERSION:"譯文版本",EDITOR_TITLE_PLUGIN_VERSION:"插件版本",EDITOR_TITLE_DESCRIPTION:"描述",EDITOR_SAVE_TRANSLATION_BUTTON_TEXT:"保存",EDITOR_CANCEL_ITEM_BUTTON_TEXT:"取消",EDITOR_CANCEL_ITEM_BUTTON_NOTICE_CONTENT_A:"取消選擇",EDITOR_DELETE_ITEM_BUTTON_TEXT:"刪除",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A:"刪除成功",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_B:"刪除失敗",EDITOR_INSERT_ITEM_BUTTON_TEXT:"新增",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A:"新增成功",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B:"新增失敗\n譯文中已存在此內容",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_C:"新增失敗\n新增前請取消選中對象",EDITOR_HELP_BUTTON_TEXT:"退出前請保存",EDITOR_HELP_BUTTON_NOTICE_CONTENT_A:"\n退出前請務必保存\n退出前請務必保存\n退出前請務必保存",SETTING_PUBLIC_HIDE:"隱藏",SETTING_PUBLIC_SHOW:"顯示",SETTING_PUBLIC_RE:"正則",SETTING_BASE_TITLE_NAME:"基礎設置",SETTING_HELP_NAME:"幫助",SETTING_LANGUAGE_NAME:"語言",SETTING_LANGUAGE_DESC:"選擇需要翻譯的語言",SETTING_LDT_NAME:"本地文件模式",SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD:"詞典重載",SETTING_LDT_AUTOMATIC_UPDATE_NAME:"詞典重載",SETTING_LDT_AUTOMATIC_UPDATE_DESC:"檢測到插件版本變動後，自動應用本地已有譯文(因為插件更新，本地譯文可能不適配，請註意是否報錯)",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A:"開始檢查更新",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B:"沒有需要更新的插件",SETTING_NDT_NAME:"雲端文件模式",SETTING_NDT_PUBLIC_MODE_HEAD:"雲端模式",SETTING_NDT_MODE_NOTICE_A:"當前語言 API 不存在",SETTING_NDT_MODE_NOTICE_B:"網絡異常",SETTING_NDT_PUBLIC_IGNORE_HEAD:"標記漢化",SETTING_NDT_APIS_NAME:"接口",SETTING_NDT_APIS_DESC:"請輸入您要翻譯語言對應的API(重新添加將會覆蓋)",SETTING_NDT_APIS_INSERT_BUTTON:"添加",SETTING_NDT_IGNORE_NAME:"標記漢化",SETTING_NDT_IGNORE_DESC:"標記自帶中文的插件(由社區反饋 需聯網查詢)",SETTING_NDT_IGNORE_NOTICE_A:"當前語言 API 不存在",SETTING_NDT_IGNORE_NOTICE_B:"網絡異常",SETTING_NIT_NAME:"機器翻譯模式",SETTING_NIT_APIS_NAME:"接口",SETTING_NIT_APIS_DESC:"選擇您要使用的接口",SETTING_NIT_TEST_BUTTON_TEXT:"測試",SETTING_NIT_INTERVAL_NAME:"間隔",SETTING_NIT_INTERVAL_DESC:"用於限制每次請求間隔(單位: 毫秒)",SETTING_NIT_BAIDU_NAME:"百度",SETTING_NIT_BAIDU_DESC:"基於百度API進行翻譯",SETTING_NIT_OPENAI_NAME:"OPENAI",SETTING_NIT_OPENAI_DESC:"基於OPENAI的API進行翻譯",SETTING_NIT_OPENAI_TIP_NAME:"提示",SETTING_NIT_OPENAI_TIP_DESC:"即prompt，用於指導AI如何翻譯，本插件提供默認提示詞，如有需要可自行調整。",SETTING_NIT_OPENAI_TIP_PLACEHOLDER:"提示詞",SETTING_MORE_TITLE_NAME:"更多功能",SETTING_Author_NAME:"譯文簽名",SETTING_Author_DESC:"生成譯文時自動添加作者簽名",SETTING_Author_PLACEHOLDER:"簽名",SETTING_OPEN_SETTING_NAME:"打開設置",SETTING_OPEN_SETTING_DESC:"啟用後插件頁面中會顯示設置跳轉按鈕",SETTING_EDITOR_NAME:"譯文編輯",SETTING_EDITOR_DESC:"啟用/禁用內置譯文編輯器功能",SETTING_CLOUD_COLLABORATION_NAME:"共建雲端",SETTING_CLOUD_COLLABORATION_DESC:"啟動此功能後，您可以提交自己的譯文、請求對某個插件進行翻譯、標記插件是否自帶漢化。歡迎為社區貢獻力量！",SETTING_CLOUD_COLLABORATION_TOKEN_NAME:"Gitee Token",SETTING_CLOUD_COLLABORATION_TOKEN_DESC:"請提供您的Token以支持批量提交(臨時使用無需填寫)",SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER:"Toekn",SETTING_RE_TITLE_NAME:"匹配模式配置",SETTING_RE_MODE_NAME:"模式",SETTING_RE_MODE_DESC:"當前正在使用的匹配模式",SETTING_RE_FLAGS_NAME:"標誌",SETTING_RE_FLAGS_DESC:"正則表達式的flags",SETTING_RE_FLAGS_PLACEHOLDER:"flags",SETTING_RE_LENGTH_NAME:"長度",SETTING_RE_LENGTH_DESC:"限制re可以匹配到的最大長度",SETTING_RE_EDIT_MODE_NAME:"模式編輯",SETTING_RE_EDIT_MODE_DESC:"新增和刪除正則表達式匹配模式",SETTING_RE_EDIT_MODE_PLACEHOLDER:"模式",SETTING_RE_EDIT_INSERT_BUTTON_TEXT:"添加",SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A:"RE模式名稱重復 無法添加",SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A:"刪除失敗",SETTING_RE_EDIT_ITEM_NAME:"數據編輯",SETTING_RE_EDIT_ITEM_DESC:"新增和刪除正則表達式模式數據",SETTING_RE_EDIT_ITEM_PLACEHOLDER:"RegExp",SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT:"添加"},en_us_default={PUBLIC_SUCCESS:"Success",PUBLIC_FAILURE:"Failure",I18N_NAME:"Internationalization",I18N_HELP_TITLE_NAME:"Need help? Join our QQ group for support!",I18N_HELP_TITLE_QQ_BUTTON_TIP:"One-click access to join the QQ group and share the fun!",I18N_HELP_TITLE_SETTING_BUTTON_TIP:"Open I18N settings interface",I18N_HELP_TITLE_HELP_BUTTON_TIP:"Open I18N help interface",I18N_SEARCH_TITLE_NAME:"Search",I18N_ITEM_LABEL_A_NAME:"No Translation",I18N_ITEM_LABEL_A_DESC:"You have not extracted translations yet",I18N_ITEM_LABEL_B_NAME:"Translated",I18N_ITEM_LABEL_C_NAME:"Not Translated",I18N_ITEM_LABEL_D_NAME:"Outdated",I18N_ITEM_LABEL_BCD_DESC_AUTHOR:"Author",I18N_ITEM_LABEL_BCD_DESC_VERSION:"Supported Version",I18N_ITEM_LABEL_E_NAME:"Translation Error",I18N_ITEM_LABEL_E_DESC:"The format may have errors, please check carefully and try again",I18N_ITEM_LABEL_F_NAME:"Chinese Available",I18N_ITEM_LABEL_F_DESC:"Based on feedback, this plugin may come with Chinese",I18N_ITEM_LABEL_G_DESC:"None",I18N_ITEM_OPEN_SETTING_BUTTON_TIP:"Open plugin settings",I18N_ITEM_OPEN_DIR_BUTTON_TIP:"Open plugin directory",I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD:"Open Directory",I18N_ITEM_DELETE_DIR_BUTTON_TIP:"Delete translation directory",I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD:"Delete Translation",I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP:"Edit translation",I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP:"Submit translation",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT:"Extract",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TIP:"Extract untranslated strings from the plugin",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD:"Extract Translation",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"Extracting translations",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT:"Download",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TIP:"Download translations from the network",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD:"Download Translation",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT:"Update",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TIP:"Update local translations with downloaded ones from the network",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD:"Update Translation",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_TIP:"Generate translated strings",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD:"Machine Translation",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_TRANSLATION_BUTTON_TEXT:"Translate",I18N_ITEM_TRANSLATION_BUTTON_TIP:"Plugin translation",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD:"Plugin Translation",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"If the plugin fails after translation\nIt indicates a possible issue with the translation\nClick restore to revert",I18N_ITEM_RESTORE_BUTTON_TEXT:"Restore",I18N_ITEM_RESTORE_BUTTON_TIP:"Plugin restore",I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD:"Plugin Restore",I18N_STATE_HEAD:"Status File",I18N_UPDATE_HEAD:"Plugin Update",WIZARD_VIDEO_TUTORIAL_TITLE_NAME:"Official Video Tutorial",WIZARD_VIDEO_TUTORIAL_TITLE_DESC:"A detailed demonstration of Obsidian i18n operations to help you master it quickly",WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT:"Browse",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME:"Official Documentation Tutorial",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC:"A comprehensive guide to exploring Obsidian i18n",WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT:"Browse",WIZARD_QQ_TITLE_NAME:"Official QQ Group",WIZARD_QQ_TITLE_DESC:"In the official group, you can post your needs, submit BUGs, share translations, and discuss plugin usage, translation, and other topics with other users.",WIZARD_QQ_TEXT:"Join",SUBMITE_PUBLIC_AUTHOR:"Author",SUBMITE_PUBLIC_TRANSLATION_VERSION:"Translation Version",SUBMITE_PUBLIC_PLUGIN_VERSION:"Plugin Version",SUBMITE_TITLE_NAME:"Thank you for sharing translations",SUBMITE_TITLE_DESC:"Before submitting, please review carefully, and we sincerely appreciate your cooperation and efforts.",SUBMITE_LOCAL_TRANSLATION_NAME:"[Local Translation]",SUBMITE_CLOUD_TRANSLATION_NAME:"[Cloud Translation]",SUBMITE_OPERATE_CANCEL_BUTTON_TEXT:"Cancel Submission",SUBMITE_OPERATE_CANCEL_BUTTON_NOTICE_HEAD:"Cancel Submission",SUBMITE_OPERATE_REQUEST_BUTTON_TEXT:"Request Translation",SUBMITE_OPERATE_REQUEST_BUTTON_NOTICE_HEAD:"Request Translation",SUBMITE_OPERATE_MARK_BUTTON_TEXT:"Mark as Chinese",SUBMITE_OPERATE_MARK_BUTTON_NOTICE_HEAD:"Mark as Chinese",SUBMITE_OPERATE_SUBMITE_BUTTON_TEXT:"Submit Translation",SUBMITE_OPERATE_SUBMITE_BUTTON_NOTICE_HEAD:"Submit Translation",SUBMITE_OPERATE_UPDATE_BUTTON_TEXT:"Submit Update",SUBMITE_OPERATE_UPDATE_BUTTON_NOTICE_HEAD:"Submit Update",SUBMITE_INSPECT_HEAD:"Translation Inspection",SUBMITE_INSPECT_NOTICE_A:"Translation field missing",SUBMITE_INSPECT_NOTICE_B:"Author cannot be empty",SUBMITE_INSPECT_NOTICE_C:"Translation content meets the standard",SUBMITE_INSPECT_NOTICE_D:"Translation content does not exceed 50%",SUBMITE_INSPECT_NOTICE_E:"The version number format should be (X.X.X)",EDITOR_PUBLIC_HEAD:"Translation Editor",EDITOR_TITLE_AUTHOR:"Author",EDITOR_TITLE_TRANSLATION_VERSION:"Translation Version",EDITOR_TITLE_PLUGIN_VERSION:"Plugin Version",EDITOR_TITLE_DESCRIPTION:"Description",EDITOR_SAVE_TRANSLATION_BUTTON_TEXT:"Save",EDITOR_CANCEL_ITEM_BUTTON_TEXT:"Cancel",EDITOR_CANCEL_ITEM_BUTTON_NOTICE_CONTENT_A:"Cancel selection",EDITOR_DELETE_ITEM_BUTTON_TEXT:"Delete",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A:"Delete successful",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_B:"Delete failed",EDITOR_INSERT_ITEM_BUTTON_TEXT:"Add",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A:"Add successful",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B:"Add failed\nThis content already exists in the translation",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_C:"Add failed\nPlease unselect the object before adding",EDITOR_HELP_BUTTON_TEXT:"Please save before exiting",EDITOR_HELP_BUTTON_NOTICE_CONTENT_A:"\nPlease save before exiting\nPlease save before exiting\nPlease save before exiting",SETTING_PUBLIC_HIDE:"Hide",SETTING_PUBLIC_SHOW:"Show",SETTING_PUBLIC_RE:"Regex",SETTING_BASE_TITLE_NAME:"Basic Settings",SETTING_HELP_NAME:"Help",SETTING_LANGUAGE_NAME:"Language",SETTING_LANGUAGE_DESC:"Select the language you need to translate",SETTING_LDT_NAME:"Local File Mode",SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD:"Dictionary Reload",SETTING_LDT_AUTOMATIC_UPDATE_NAME:"Dictionary Reload",SETTING_LDT_AUTOMATIC_UPDATE_DESC:"Automatically apply local translations when the plugin version changes (due to plugin updates, local translations may not be compatible, please check for errors)",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A:"Start checking for updates",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B:"No plugins need updating",SETTING_NDT_NAME:"Cloud File Mode",SETTING_NDT_PUBLIC_MODE_HEAD:"Cloud Mode",SETTING_NDT_MODE_NOTICE_A:"The current language API does not exist",SETTING_NDT_MODE_NOTICE_B:"Network exception",SETTING_NDT_PUBLIC_IGNORE_HEAD:"Mark as Chinese",SETTING_NDT_APIS_NAME:"APIs",SETTING_NDT_APIS_DESC:"Please enter the API corresponding to the language you want to translate (re-adding will overwrite)",SETTING_NDT_APIS_INSERT_BUTTON:"Add",SETTING_NDT_IGNORE_NAME:"Mark as Chinese",SETTING_NDT_IGNORE_DESC:"Mark plugins that come with Chinese (community feedback required, online query needed)",SETTING_NDT_IGNORE_NOTICE_A:"The current language API does not exist",SETTING_NDT_IGNORE_NOTICE_B:"Network exception",SETTING_NIT_NAME:"Machine Translation Mode",SETTING_NIT_APIS_NAME:"APIs",SETTING_NIT_APIS_DESC:"Select the interface you want to use",SETTING_NIT_TEST_BUTTON_TEXT:"Test",SETTING_NIT_INTERVAL_NAME:"Interval",SETTING_NIT_INTERVAL_DESC:"Used to limit the interval between requests (unit: milliseconds)",SETTING_NIT_BAIDU_NAME:"Baidu",SETTING_NIT_BAIDU_DESC:"Translate based on Baidu API",SETTING_NIT_OPENAI_NAME:"OPENAI",SETTING_NIT_OPENAI_DESC:"Translate based on OPENAI API",SETTING_NIT_OPENAI_TIP_NAME:"Prompt",SETTING_NIT_OPENAI_TIP_DESC:"The prompt guides the AI on how to translate. This plugin provides default prompts, but you can adjust them if needed.",SETTING_NIT_OPENAI_TIP_PLACEHOLDER:"Prompt",SETTING_MORE_TITLE_NAME:"More Features",SETTING_Author_NAME:"Translation Signature",SETTING_Author_DESC:"Automatically add author signature when generating translations",SETTING_Author_PLACEHOLDER:"Signature",SETTING_OPEN_SETTING_NAME:"Open Settings",SETTING_OPEN_SETTING_DESC:"Display a settings jump button in the plugin page when enabled",SETTING_EDITOR_NAME:"Translation Editor",SETTING_EDITOR_DESC:"Enable/Disable the built-in translation editor feature",SETTING_CLOUD_COLLABORATION_NAME:"Cloud Collaboration",SETTING_CLOUD_COLLABORATION_DESC:"Once enabled, you can submit your translations, request translations for plugins, and mark whether plugins come with Chinese. Welcome to contribute to the community!",SETTING_CLOUD_COLLABORATION_TOKEN_NAME:"Gitee Token",SETTING_CLOUD_COLLABORATION_TOKEN_DESC:"Please provide your Token to support batch submissions (not required for temporary use)",SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER:"Token",SETTING_RE_TITLE_NAME:"Matching Pattern Configuration",SETTING_RE_MODE_NAME:"Mode",SETTING_RE_MODE_DESC:"The current matching mode in use",SETTING_RE_FLAGS_NAME:"Flags",SETTING_RE_FLAGS_DESC:"Flags for regular expressions",SETTING_RE_FLAGS_PLACEHOLDER:"Flags",SETTING_RE_LENGTH_NAME:"Length",SETTING_RE_LENGTH_DESC:"Limit the maximum length that re can match",SETTING_RE_EDIT_MODE_NAME:"Mode Editing",SETTING_RE_EDIT_MODE_DESC:"Add and remove regular expression matching modes",SETTING_RE_EDIT_MODE_PLACEHOLDER:"Pattern",SETTING_RE_EDIT_INSERT_BUTTON_TEXT:"Add",SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A:"RE mode name already exists and cannot be added",SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A:"Failed to delete",SETTING_RE_EDIT_ITEM_NAME:"Data Editing",SETTING_RE_EDIT_ITEM_DESC:"Add and remove regular expression pattern data",SETTING_RE_EDIT_ITEM_PLACEHOLDER:"RegExp",SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT:"Add"},ru_ru_default={PUBLIC_SUCCESS:"Успех",PUBLIC_FAILURE:"Неудача",I18N_NAME:"I18N",I18N_HELP_TITLE_NAME:"Задача сложна? Скоро присоединяйтесь к группе QQ для консультации!",I18N_HELP_TITLE_QQ_BUTTON_TIP:"Один клик, присоединяйтесь к группе QQ и поделитесь радостью!",I18N_HELP_TITLE_SETTING_BUTTON_TIP:"Открыть настройки I18N",I18N_HELP_TITLE_HELP_BUTTON_TIP:"Открыть страницу помощи I18N",I18N_SEARCH_TITLE_NAME:"Поиск",I18N_ITEM_LABEL_A_NAME:"Без перевода",I18N_ITEM_LABEL_A_DESC:"Вы еще не извлекли перевод",I18N_ITEM_LABEL_B_NAME:"Переведено",I18N_ITEM_LABEL_C_NAME:"Не переведено",I18N_ITEM_LABEL_D_NAME:"Устарело",I18N_ITEM_LABEL_BCD_DESC_AUTHOR:"Автор",I18N_ITEM_LABEL_BCD_DESC_VERSION:"Поддерживаемая версия",I18N_ITEM_LABEL_E_NAME:"Ошибка перевода",I18N_ITEM_LABEL_E_DESC:"Возможно, есть ошибки в формате. Пожалуйста, проверьте и попробуйте снова",I18N_ITEM_LABEL_F_NAME:"С китайским переводом",I18N_ITEM_LABEL_F_DESC:"Согласно отзывам, этот плагин может иметь китайский перевод",I18N_ITEM_LABEL_G_DESC:"Нет",I18N_ITEM_OPEN_SETTING_BUTTON_TIP:"Открыть настройки плагина",I18N_ITEM_OPEN_DIR_BUTTON_TIP:"Открыть каталог плагина",I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD:"Открыть каталог",I18N_ITEM_DELETE_DIR_BUTTON_TIP:"Удалить каталог перевода",I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD:"Удалить перевод",I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP:"Редактировать перевод",I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP:"Отправить перевод",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT:"Извлечь",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TIP:"Извлечь непереведенные строки из плагина",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD:"Извлечение перевода",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"Извлечение перевода",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT:"Скачать",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TIP:"Скачать перевод с сети",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD:"Скачать перевод",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT:"Обновить",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TIP:"Обновить локальный перевод сетевыми переводами",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD:"Обновление перевода",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_TIP:"Создать переведенные строки",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD:"Машинный перевод",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_TRANSLATION_BUTTON_TEXT:"Перевод",I18N_ITEM_TRANSLATION_BUTTON_TIP:"Перевод плагина",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD:"Перевод плагина",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"Если плагин перестает работать после перевода,\nэто означает, что перевод может быть проблемным\nНажмите на восстановление, чтобы вернуться к исходному состоянию",I18N_ITEM_RESTORE_BUTTON_TEXT:"Восстановить",I18N_ITEM_RESTORE_BUTTON_TIP:"Восстановление плагина",I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD:"Восстановление плагина",I18N_STATE_HEAD:"Файл состояния",I18N_UPDATE_HEAD:"Обновление плагина",WIZARD_VIDEO_TUTORIAL_TITLE_NAME:"Официальное видео-учебное пособие",WIZARD_VIDEO_TUTORIAL_TITLE_DESC:"Подробное демонстрирование работы Obsidian i18n, чтобы быстро освоить",WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT:"Посмотреть",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME:"Официальное руководство",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC:"Полное исследование Obsidian i18n",WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT:"Посмотреть",WIZARD_QQ_TITLE_NAME:"Официальная группа QQ",WIZARD_QQ_TITLE_DESC:"В официальной группе вы можете размещать свои запросы, отправлять ошибки, делиться переводами и общаться с другими пользователями на темы использования плагина и перевода.",WIZARD_QQ_TEXT:"Присоединиться",SUBMITE_PUBLIC_AUTHOR:"Автор",SUBMITE_PUBLIC_TRANSLATION_VERSION:"Версия перевода",SUBMITE_PUBLIC_PLUGIN_VERSION:"Версия плагина",SUBMITE_TITLE_NAME:"Спасибо за обмен переводами",SUBMITE_TITLE_DESC:"Перед отправкой, пожалуйста, внимательно проверьте. Мы высоко ценим вашу сотрудничество и усилия.",SUBMITE_LOCAL_TRANSLATION_NAME:"[Локальный перевод]",SUBMITE_CLOUD_TRANSLATION_NAME:"[Облачный перевод]",SUBMITE_OPERATE_CANCEL_BUTTON_TEXT:"Отменить отправку",SUBMITE_OPERATE_CANCEL_BUTTON_NOTICE_HEAD:"Отменить отправку",SUBMITE_OPERATE_REQUEST_BUTTON_TEXT:"Запросить перевод",SUBMITE_OPERATE_REQUEST_BUTTON_NOTICE_HEAD:"Запросить перевод",SUBMITE_OPERATE_MARK_BUTTON_TEXT:"Отметить как переведенное",SUBMITE_OPERATE_MARK_BUTTON_NOTICE_HEAD:"Отметить как переведенное",SUBMITE_OPERATE_SUBMITE_BUTTON_TEXT:"Отправить перевод",SUBMITE_OPERATE_SUBMITE_BUTTON_NOTICE_HEAD:"Отправить перевод",SUBMITE_OPERATE_UPDATE_BUTTON_TEXT:"Отправить изменения",SUBMITE_OPERATE_UPDATE_BUTTON_NOTICE_HEAD:"Отправить изменения",SUBMITE_INSPECT_HEAD:"Проверка перевода",SUBMITE_INSPECT_NOTICE_A:"Поле перевода отсутствует",SUBMITE_INSPECT_NOTICE_B:"Автор не может быть пустым",SUBMITE_INSPECT_NOTICE_C:"Содержание перевода соответствует стандарту",SUBMITE_INSPECT_NOTICE_D:"Содержание перевода не превышает 50%",SUBMITE_INSPECT_NOTICE_E:"Формат версии должен быть (X.X.X)",EDITOR_PUBLIC_HEAD:"Редактор перевода",EDITOR_TITLE_AUTHOR:"Автор",EDITOR_TITLE_TRANSLATION_VERSION:"Версия перевода",EDITOR_TITLE_PLUGIN_VERSION:"Версия плагина",EDITOR_TITLE_DESCRIPTION:"Описание",EDITOR_SAVE_TRANSLATION_BUTTON_TEXT:"Сохранить",EDITOR_CANCEL_ITEM_BUTTON_TEXT:"Отмена",EDITOR_CANCEL_ITEM_BUTTON_NOTICE_CONTENT_A:"Отменить выбор",EDITOR_DELETE_ITEM_BUTTON_TEXT:"Удалить",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A:"Успешно удалено",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_B:"Ошибка удаления",EDITOR_INSERT_ITEM_BUTTON_TEXT:"Добавить",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A:"Добавлено успешно",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B:"Ошибка добавления\nВ переводе уже есть это содержание",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_C:"Ошибка добавления\nОтмените выбор перед добавлением",EDITOR_HELP_BUTTON_TEXT:"Сохраните перед выходом",EDITOR_HELP_BUTTON_NOTICE_CONTENT_A:"\nСохраните перед выходом\nСохраните перед выходом\nСохраните перед выходом",SETTING_PUBLIC_HIDE:"Скрыть",SETTING_PUBLIC_SHOW:"Показать",SETTING_PUBLIC_RE:"Регулярное выражение",SETTING_BASE_TITLE_NAME:"Основные настройки",SETTING_HELP_NAME:"Помощь",SETTING_LANGUAGE_NAME:"Язык",SETTING_LANGUAGE_DESC:"Выберите язык, на который требуется перевод",SETTING_LDT_NAME:"Режим локальных файлов",SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD:"Автоматическое обновление словаря",SETTING_LDT_AUTOMATIC_UPDATE_NAME:"Автоматическое обновление словаря",SETTING_LDT_AUTOMATIC_UPDATE_DESC:"При обнаружении обновления плагина автоматически применять локальные переводы (из-за обновления плагина локальные переводы могут не соответствовать, обратите внимание на возможные ошибки)",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A:"Начало проверки обновления",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B:"Нет плагинов для обновления",SETTING_NDT_NAME:"Режим облачного файла",SETTING_NDT_PUBLIC_MODE_HEAD:"Облачный режим",SETTING_NDT_MODE_NOTICE_A:"API для текущего языка не существует",SETTING_NDT_MODE_NOTICE_B:"Сетевая異常",SETTING_NDT_PUBLIC_IGNORE_HEAD:"Отметить как локализованный",SETTING_NDT_APIS_NAME:"Интерфейс",SETTING_NDT_APIS_DESC:"Пожалуйста, введите API для языка, на который вы хотите перевести (добавление заменит текущий)",SETTING_NDT_APIS_INSERT_BUTTON:"Добавить",SETTING_NDT_IGNORE_NAME:"Отметить как локализованный",SETTING_NDT_IGNORE_DESC:"Отметить плагины с собственными китайскими переводами (требуется подключение к сети для проверки)",SETTING_NDT_IGNORE_NOTICE_A:"API для текущего языка не существует",SETTING_NDT_IGNORE_NOTICE_B:"Сетевая異常",SETTING_NIT_NAME:"Режим машинного перевода",SETTING_NIT_APIS_NAME:"Интерфейс",SETTING_NIT_APIS_DESC:"Выберите интерфейс, который вы хотите использовать",SETTING_NIT_TEST_BUTTON_TEXT:"Тест",SETTING_NIT_INTERVAL_NAME:"Интервал",SETTING_NIT_INTERVAL_DESC:"Используется для ограничения интервала между запросами (ед. изм: миллисекунды)",SETTING_NIT_BAIDU_NAME:"Baidu",SETTING_NIT_BAIDU_DESC:"Перевод на основе API Baidu",SETTING_NIT_OPENAI_NAME:"OPENAI",SETTING_NIT_OPENAI_DESC:"Перевод на основе API OPENAI",SETTING_NIT_OPENAI_TIP_NAME:"Подсказка",SETTING_NIT_OPENAI_TIP_DESC:"То есть prompt, используется для указания AI о том, как перевести. Этот плагин предоставляет подразумеваемые подсказки, но если вам нужно, вы можете изменить их.",SETTING_NIT_OPENAI_TIP_PLACEHOLDER:"Подсказка",SETTING_MORE_TITLE_NAME:"Дополнительные функции",SETTING_Author_NAME:"Подпись переводчика",SETTING_Author_DESC:"Автоматически добавлять подпись автора при генерации перевода",SETTING_Author_PLACEHOLDER:"Подпись",SETTING_OPEN_SETTING_NAME:"Открыть настройки",SETTING_OPEN_SETTING_DESC:"После включения кнопка перехода к настройкам будет отображаться на странице плагина",SETTING_EDITOR_NAME:"Редактор перевода",SETTING_EDITOR_DESC:"Включить/отключить встроенную функцию редактора перевода",SETTING_CLOUD_COLLABORATION_NAME:"Облачное сотрудничество",SETTING_CLOUD_COLLABORATION_DESC:"После включения этой функции вы сможете отправлять свои переводы, запрашивать перевод определенных плагинов, отмечать плагины как с китайским переводом. Приглашаем внести свой вклад в сообщество!",SETTING_CLOUD_COLLABORATION_TOKEN_NAME:"Gitee Token",SETTING_CLOUD_COLLABORATION_TOKEN_DESC:"Пожалуйста, предоставьте ваш Token для поддержки пакетных отправок (необязательно для временного использования)",SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER:"Token",SETTING_RE_TITLE_NAME:"Настройка совпадения",SETTING_RE_MODE_NAME:"Режим",SETTING_RE_MODE_DESC:"Текущий используемый режим совпадения",SETTING_RE_FLAGS_NAME:"Флаги",SETTING_RE_FLAGS_DESC:"Флаги регулярного выражения",SETTING_RE_FLAGS_PLACEHOLDER:"флаги",SETTING_RE_LENGTH_NAME:"Длина",SETTING_RE_LENGTH_DESC:"Ограничение максимальной длины, совпадаемой re",SETTING_RE_EDIT_MODE_NAME:"Режим редактирования",SETTING_RE_EDIT_MODE_DESC:"Добавление и удаление режимов соответствия регулярных выражений",SETTING_RE_EDIT_MODE_PLACEHOLDER:"Режим",SETTING_RE_EDIT_INSERT_BUTTON_TEXT:"Добавить",SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A:"Имя RE-режима повторяется, невозможно добавить",SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A:"Ошибка удаления",SETTING_RE_EDIT_ITEM_NAME:"Редактирование данных",SETTING_RE_EDIT_ITEM_DESC:"Добавление и удаление данных для регулярных выражений",SETTING_RE_EDIT_ITEM_PLACEHOLDER:"RegExp",SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT:"Добавить"},ja_jp_default={PUBLIC_SUCCESS:"成功",PUBLIC_FAILURE:"失敗",I18N_NAME:"I18N",I18N_HELP_TITLE_NAME:"問題が発生しましたか？QQグループに加入して相談してください！",I18N_HELP_TITLE_QQ_BUTTON_TIP:"ワンクリックでグループに加入し、素晴らしい共有を楽しみましょう！",I18N_HELP_TITLE_SETTING_BUTTON_TIP:"I18N設定画面を開く",I18N_HELP_TITLE_HELP_BUTTON_TIP:"I18Nヘルプ画面を開く",I18N_SEARCH_TITLE_NAME:"検索",I18N_ITEM_LABEL_A_NAME:"翻訳なし",I18N_ITEM_LABEL_A_DESC:"まだ翻訳を抽出していません",I18N_ITEM_LABEL_B_NAME:"翻訳済み",I18N_ITEM_LABEL_C_NAME:"未翻訳",I18N_ITEM_LABEL_D_NAME:"古くなった",I18N_ITEM_LABEL_BCD_DESC_AUTHOR:"作者",I18N_ITEM_LABEL_BCD_DESC_VERSION:"サポートバージョン",I18N_ITEM_LABEL_E_NAME:"翻訳エラー",I18N_ITEM_LABEL_E_DESC:"フォーマットが間違っている可能性があります。確認してから再試行してください",I18N_ITEM_LABEL_F_NAME:"中国語あり",I18N_ITEM_LABEL_F_DESC:"フィードバックによると、このプラグインは既に中国語に対応している可能性があります",I18N_ITEM_LABEL_G_DESC:"なし",I18N_ITEM_OPEN_SETTING_BUTTON_TIP:"プラグイン設定を開く",I18N_ITEM_OPEN_DIR_BUTTON_TIP:"プラグインディレクトリを開く",I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD:"ディレクトリを開く",I18N_ITEM_DELETE_DIR_BUTTON_TIP:"翻訳ディレクトリを削除",I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD:"翻訳を削除",I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP:"翻訳を編集",I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP:"翻訳を提出",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT:"抽出",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TIP:"プラグインから翻訳されていないテキストを抽出",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD:"翻訳を抽出",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"翻訳を抽出",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT:"ダウンロード",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TIP:"ネットワークから翻訳をダウンロード",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD:"翻訳をダウンロード",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT:"更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TIP:"ネットワークから翻訳をダウンロードしてローカル翻訳を更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD:"翻訳を更新",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_TIP:"翻訳を生成",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD:"機械翻訳",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_TRANSLATION_BUTTON_TEXT:"翻訳",I18N_ITEM_TRANSLATION_BUTTON_TIP:"プラグイン翻訳",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD:"プラグイン翻訳",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"翻訳後、プラグインが機能しなくなった場合\n翻訳に問題がある可能性があります\n元に戻すボタンをクリックして元の状態に戻すことができます",I18N_ITEM_RESTORE_BUTTON_TEXT:"元に戻す",I18N_ITEM_RESTORE_BUTTON_TIP:"プラグインを元に戻す",I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD:"プラグインを元に戻す",I18N_STATE_HEAD:"ステートファイル",I18N_UPDATE_HEAD:"プラグイン更新",WIZARD_VIDEO_TUTORIAL_TITLE_NAME:"公式ビデオチュートリアル",WIZARD_VIDEO_TUTORIAL_TITLE_DESC:"Obsidian i18n操作を詳しく説明し、迅速なマスターを支援します",WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT:"参照",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME:"公式ドキュメントチュートリアル",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC:"Obsidian i18nの包括的な探求の旅ガイド",WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT:"参照",WIZARD_QQ_TITLE_NAME:"公式QQグループ",WIZARD_QQ_TITLE_DESC:"公式グループでは、ニーズを投稿、BUGを提出、翻訳を共有し、他のユーザーとプラグインの使用、翻訳などのトピックについて交流することができます。",WIZARD_QQ_TEXT:"加入",SUBMITE_PUBLIC_AUTHOR:"作者",SUBMITE_PUBLIC_TRANSLATION_VERSION:"翻訳バージョン",SUBMITE_PUBLIC_PLUGIN_VERSION:"プラグインバージョン",SUBMITE_TITLE_NAME:"翻訳を共有していただき、ありがとうございます",SUBMITE_TITLE_DESC:"提出する前に、注意深くレビューしてください。ご協力と努力に感謝申し上げます。",SUBMITE_LOCAL_TRANSLATION_NAME:"[ローカル翻訳]",SUBMITE_CLOUD_TRANSLATION_NAME:"[クラウド翻訳]",SUBMITE_OPERATE_CANCEL_BUTTON_TEXT:"キャンセル",SUBMITE_OPERATE_CANCEL_BUTTON_NOTICE_HEAD:"キャンセル",SUBMITE_OPERATE_REQUEST_BUTTON_TEXT:"翻訳をリクエスト",SUBMITE_OPERATE_REQUEST_BUTTON_NOTICE_HEAD:"翻訳をリクエスト",SUBMITE_OPERATE_MARK_BUTTON_TEXT:"中国語にマーク",SUBMITE_OPERATE_MARK_BUTTON_NOTICE_HEAD:"中国語にマーク",SUBMITE_OPERATE_SUBMITE_BUTTON_TEXT:"翻訳を提出",SUBMITE_OPERATE_SUBMITE_BUTTON_NOTICE_HEAD:"翻訳を提出",SUBMITE_OPERATE_UPDATE_BUTTON_TEXT:"修正を提出",SUBMITE_OPERATE_UPDATE_BUTTON_NOTICE_HEAD:"修正を提出",SUBMITE_INSPECT_HEAD:"翻訳検査",SUBMITE_INSPECT_NOTICE_A:"翻訳フィールドが欠落",SUBMITE_INSPECT_NOTICE_B:"著者を空にすることはできません",SUBMITE_INSPECT_NOTICE_C:"翻訳内容は標準を満たしています",SUBMITE_INSPECT_NOTICE_D:"翻訳内容は50%を超えていません",SUBMITE_INSPECT_NOTICE_E:"バージョン番号のフォーマットは(X.X.X)でなければなりません",EDITOR_PUBLIC_HEAD:"翻訳エディター",EDITOR_TITLE_AUTHOR:"作者",EDITOR_TITLE_TRANSLATION_VERSION:"翻訳バージョン",EDITOR_TITLE_PLUGIN_VERSION:"プラグインバージョン",EDITOR_TITLE_DESCRIPTION:"説明",EDITOR_SAVE_TRANSLATION_BUTTON_TEXT:"保存",EDITOR_CANCEL_ITEM_BUTTON_TEXT:"キャンセル",EDITOR_CANCEL_ITEM_BUTTON_NOTICE_CONTENT_A:"選択をキャンセル",EDITOR_DELETE_ITEM_BUTTON_TEXT:"削除",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A:"削除成功",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_B:"削除失敗",EDITOR_INSERT_ITEM_BUTTON_TEXT:"新規追加",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A:"新規追加成功",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B:"新規追加失敗\n翻訳にすでにこの内容が存在します",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_C:"新規追加失敗\n新規追加する前にオブジェクトの選択をキャンセルしてください",EDITOR_HELP_BUTTON_TEXT:"保存してください",EDITOR_HELP_BUTTON_NOTICE_CONTENT_A:"\n退出する前に必ず保存してください\n退出する前に必ず保存してください\n退出する前に必ず保存してください",SETTING_PUBLIC_HIDE:"非表示",SETTING_PUBLIC_SHOW:"表示",SETTING_PUBLIC_RE:"正規表現",SETTING_BASE_TITLE_NAME:"基本設定",SETTING_HELP_NAME:"ヘルプ",SETTING_LANGUAGE_NAME:"言語",SETTING_LANGUAGE_DESC:"翻訳する言語を選択してください",SETTING_LDT_NAME:"ローカルファイルモード",SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD:"辞書の再読み込み",SETTING_LDT_AUTOMATIC_UPDATE_NAME:"辞書の再読み込み",SETTING_LDT_AUTOMATIC_UPDATE_DESC:"プラグインバージョンの変更を検知後、ローカルにある翻訳を自動的に適用します（プラグインの更新により、ローカル翻訳が適合しない可能性があるため、エラーがないかご注意ください）",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A:"更新の確認を開始",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B:"更新するプラグインはありません",SETTING_NDT_NAME:"クラウドファイルモード",SETTING_NDT_PUBLIC_MODE_HEAD:"クラウドモード",SETTING_NDT_MODE_NOTICE_A:"現在の言語APIが存在しません",SETTING_NDT_MODE_NOTICE_B:"ネットワーク異常",SETTING_NDT_PUBLIC_IGNORE_HEAD:"中国語にマーク",SETTING_NDT_APIS_NAME:"インターフェース",SETTING_NDT_APIS_DESC:"翻訳する言語に対応するAPIを入力してください（再追加すると上書きされます）",SETTING_NDT_APIS_INSERT_BUTTON:"追加",SETTING_NDT_IGNORE_NAME:"中国語にマーク",SETTING_NDT_IGNORE_DESC:"中国語が組み込まれているプラグインにマークを付けます（コミュニティからのフィードバックにより、ネットワーク接続が必要です）",SETTING_NDT_IGNORE_NOTICE_A:"現在の言語APIが存在しません",SETTING_NDT_IGNORE_NOTICE_B:"ネットワーク異常",SETTING_NIT_NAME:"機械翻訳モード",SETTING_NIT_APIS_NAME:"インターフェース",SETTING_NIT_APIS_DESC:"使用するインターフェースを選択してください",SETTING_NIT_TEST_BUTTON_TEXT:"テスト",SETTING_NIT_INTERVAL_NAME:"インターバル",SETTING_NIT_INTERVAL_DESC:"各リクエストのインターバルを制限します（単位：ミリ秒）",SETTING_NIT_BAIDU_NAME:"百度",SETTING_NIT_BAIDU_DESC:"百度APIに基づく翻訳",SETTING_NIT_OPENAI_NAME:"OPENAI",SETTING_NIT_OPENAI_DESC:"OPENAIのAPIに基づく翻訳",SETTING_NIT_OPENAI_TIP_NAME:"プロンプト",SETTING_NIT_OPENAI_TIP_DESC:"AIが翻訳する方法をガイドするプロンプト、このプラグインではデフォルトのプロンプトが提供されますが、必要に応じて調整することができます。",SETTING_NIT_OPENAI_TIP_PLACEHOLDER:"プロンプト",SETTING_MORE_TITLE_NAME:"その他の機能",SETTING_Author_NAME:"翻訳の署名",SETTING_Author_DESC:"翻訳を生成する際に自動的に作者の署名を追加します",SETTING_Author_PLACEHOLDER:"署名",SETTING_OPEN_SETTING_NAME:"設定を開く",SETTING_OPEN_SETTING_DESC:"有効にすると、プラグインページに設定ジャンプボタンが表示されます",SETTING_EDITOR_NAME:"翻訳編集",SETTING_EDITOR_DESC:"組み込み翻訳エディター機能を有効/無効にします",SETTING_CLOUD_COLLABORATION_NAME:"クラウド共同作成",SETTING_CLOUD_COLLABORATION_DESC:"この機能を有効にすると、翻訳を提出したり、プラグインの翻訳をリクエストしたり、プラグインが中国語を既にサポートしているかどうかをマークしたりすることができます。コミュニティに貢献してください！",SETTING_CLOUD_COLLABORATION_TOKEN_NAME:"Gitee Token",SETTING_CLOUD_COLLABORATION_TOKEN_DESC:"一括提出をサポートするためにトークンを提供してください（一時的に使用する場合は入力不要）",SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER:"トークン",SETTING_RE_TITLE_NAME:"マッチングモード設定",SETTING_RE_MODE_NAME:"モード",SETTING_RE_MODE_DESC:"現在使用されているマッチングモード",SETTING_RE_FLAGS_NAME:"フラグ",SETTING_RE_FLAGS_DESC:"正規表現のflags",SETTING_RE_FLAGS_PLACEHOLDER:"flags",SETTING_RE_LENGTH_NAME:"長さ",SETTING_RE_LENGTH_DESC:"reがマッチングできる最大長を制限します",SETTING_RE_EDIT_MODE_NAME:"モード編集",SETTING_RE_EDIT_MODE_DESC:"正規表現マッチングモードを新規追加/削除します",SETTING_RE_EDIT_MODE_PLACEHOLDER:"モード",SETTING_RE_EDIT_INSERT_BUTTON_TEXT:"追加",SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A:"REモード名が重複しています。追加できません",SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A:"削除失敗",SETTING_RE_EDIT_ITEM_NAME:"データ編集",SETTING_RE_EDIT_ITEM_DESC:"正規表現モードデータを新規追加/削除します",SETTING_RE_EDIT_ITEM_PLACEHOLDER:"RegExp",SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT:"追加"},fr_fr_default={PUBLIC_SUCCESS:"Succès",PUBLIC_FAILURE:"Échec",I18N_NAME:"I18N",I18N_HELP_TITLE_NAME:"Vous rencontrez des difficultés ? Rejoignez rapidement le groupe QQ pour consultation !",I18N_HELP_TITLE_QQ_BUTTON_TIP:"Accès direct, rejoignez le groupe QQ et partagez les plaisirs !",I18N_HELP_TITLE_SETTING_BUTTON_TIP:"Ouvrez l’interface de configuration de I18N",I18N_HELP_TITLE_HELP_BUTTON_TIP:"Ouvrez l’interface d’aide de I18N",I18N_SEARCH_TITLE_NAME:"Recherche",I18N_ITEM_LABEL_A_NAME:"Aucune traduction",I18N_ITEM_LABEL_A_DESC:"Vous n’avez pas encore extrait de traduction",I18N_ITEM_LABEL_B_NAME:"Traduit",I18N_ITEM_LABEL_C_NAME:"Non traduit",I18N_ITEM_LABEL_D_NAME:"Périmé",I18N_ITEM_LABEL_BCD_DESC_AUTHOR:"Auteur",I18N_ITEM_LABEL_BCD_DESC_VERSION:"Version supportée",I18N_ITEM_LABEL_E_NAME:"Erreur de traduction",I18N_ITEM_LABEL_E_DESC:"Le format peut contenir des erreurs, veuillez vérifier attentivement avant de réessayer",I18N_ITEM_LABEL_F_NAME:"Traduction chinoise existante",I18N_ITEM_LABEL_F_DESC:"Selon les commentaires, ce plugin peut avoir une traduction chinoise intégrée",I18N_ITEM_LABEL_G_DESC:"Non applicable",I18N_ITEM_OPEN_SETTING_BUTTON_TIP:"Ouvrez les paramètres du plugin",I18N_ITEM_OPEN_DIR_BUTTON_TIP:"Ouvrez le répertoire du plugin",I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD:"Ouverture du répertoire",I18N_ITEM_DELETE_DIR_BUTTON_TIP:"Supprimez le répertoire de traduction",I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD:"Suppression de la traduction",I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP:"Modifier la traduction",I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP:"Soumettre la traduction",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT:"Extraction",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TIP:"Extraire les traductions non traduites du plugin",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD:"Extraction de traduction",I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"Extraction de traduction",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT:"Téléchargement",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TIP:"Télécharger les traductions à partir du réseau",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD:"Téléchargement de traduction",I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT:"Mise à jour",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TIP:"Mettre à jour les traductions locales avec les traductions du réseau",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD:"Mise à jour de la traduction",I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_TIP:"Générer des traductions traduites",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD:"Traduction automatique",I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"",I18N_ITEM_TRANSLATION_BUTTON_TEXT:"Traduire",I18N_ITEM_TRANSLATION_BUTTON_TIP:"Traduction du plugin",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD:"Traduction du plugin",I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A:"Si le plugin ne fonctionne pas après la traduction\nCela peut indiquer que la traduction a des problèmes\nCliquez sur restaurer pour revenir à l'état d'origine",I18N_ITEM_RESTORE_BUTTON_TEXT:"Restaurer",I18N_ITEM_RESTORE_BUTTON_TIP:"Restauration du plugin",I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD:"Restauration du plugin",I18N_STATE_HEAD:"Fichier d'état",I18N_UPDATE_HEAD:"Mise à jour du plugin",WIZARD_VIDEO_TUTORIAL_TITLE_NAME:"Tutoriel vidéo officiel",WIZARD_VIDEO_TUTORIAL_TITLE_DESC:"Démonstration détaillée de l'opération i18n d'Obsidian, pour vous aider à maîtriser rapidement",WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT:"Explorer",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME:"Tutoriel de documentation officiel",WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC:"Guide de la découverte complète d'Obsidian i18n",WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT:"Explorer",WIZARD_QQ_TITLE_NAME:"Groupe QQ officiel",WIZARD_QQ_TITLE_DESC:"Dans le groupe officiel, vous pouvez publier des demandes, soumettre des bogues, partager des traductions et discuter avec d'autres utilisateurs sur l'utilisation du plugin, la traduction et autres sujets.",WIZARD_QQ_TEXT:"Rejoindre",SUBMITE_PUBLIC_AUTHOR:"Auteur",SUBMITE_PUBLIC_TRANSLATION_VERSION:"Version de la traduction",SUBMITE_PUBLIC_PLUGIN_VERSION:"Version du plugin",SUBMITE_TITLE_NAME:"Merci pour le partage de la traduction",SUBMITE_TITLE_DESC:"Veuillez relire attentivement avant de soumettre, nous apprécions sincèrement votre coopération et vos efforts.",SUBMITE_LOCAL_TRANSLATION_NAME:"[Traduction locale]",SUBMITE_CLOUD_TRANSLATION_NAME:"[Traduction cloud]",SUBMITE_OPERATE_CANCEL_BUTTON_TEXT:"Annuler la soumission",SUBMITE_OPERATE_CANCEL_BUTTON_NOTICE_HEAD:"Annuler la soumission",SUBMITE_OPERATE_REQUEST_BUTTON_TEXT:"Demander une traduction",SUBMITE_OPERATE_REQUEST_BUTTON_NOTICE_HEAD:"Demander une traduction",SUBMITE_OPERATE_MARK_BUTTON_TEXT:"Marquer la traduction chinoise",SUBMITE_OPERATE_MARK_BUTTON_NOTICE_HEAD:"Marquer la traduction chinoise",SUBMITE_OPERATE_SUBMITE_BUTTON_TEXT:"Soumettre la traduction",SUBMITE_OPERATE_SUBMITE_BUTTON_NOTICE_HEAD:"Soumettre la traduction",SUBMITE_OPERATE_UPDATE_BUTTON_TEXT:"Soumettre les modifications",SUBMITE_OPERATE_UPDATE_BUTTON_NOTICE_HEAD:"Soumettre les modifications",SUBMITE_INSPECT_HEAD:"Inspection de la traduction",SUBMITE_INSPECT_NOTICE_A:"Champ de traduction manquant",SUBMITE_INSPECT_NOTICE_B:"L auteur ne peut être vide",SUBMITE_INSPECT_NOTICE_C:"Le contenu de la traduction est conforme aux normes",SUBMITE_INSPECT_NOTICE_D:"Le contenu de la traduction ne dépasse pas 50%",SUBMITE_INSPECT_NOTICE_E:"Le format de la version doit être (X.X.X)",EDITOR_PUBLIC_HEAD:"Éditeur de traduction",EDITOR_TITLE_AUTHOR:"Auteur",EDITOR_TITLE_TRANSLATION_VERSION:"Version de la traduction",EDITOR_TITLE_PLUGIN_VERSION:"Version du plugin",EDITOR_TITLE_DESCRIPTION:"Description",EDITOR_SAVE_TRANSLATION_BUTTON_TEXT:"Sauvegarder",EDITOR_CANCEL_ITEM_BUTTON_TEXT:"Annuler",EDITOR_CANCEL_ITEM_BUTTON_NOTICE_CONTENT_A:"Annuler la sélection",EDITOR_DELETE_ITEM_BUTTON_TEXT:"Supprimer",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A:"Suppression réussie",EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_B:"Échec de la suppression",EDITOR_INSERT_ITEM_BUTTON_TEXT:"Ajouter",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A:"Ajout réussi",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B:"Échec de l'ajout\nCe contenu existe déjà dans la traduction",EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_C:"Échec de l'ajout\nVeuillez annuler la sélection avant d'ajouter",EDITOR_HELP_BUTTON_TEXT:"Veuillez sauvegarder avant de quitter",EDITOR_HELP_BUTTON_NOTICE_CONTENT_A:"\nVeuillez sauvegarder avant de quitter\nVeuillez sauvegarder avant de quitter\nVeuillez sauvegarder avant de quitter",SETTING_PUBLIC_HIDE:"Cacher",SETTING_PUBLIC_SHOW:"Afficher",SETTING_PUBLIC_RE:"RE",SETTING_BASE_TITLE_NAME:"Paramètres de base",SETTING_HELP_NAME:"Aide",SETTING_LANGUAGE_NAME:"Langue",SETTING_LANGUAGE_DESC:"Choisissez la langue à traduire",SETTING_LDT_NAME:"Mode de fichier local",SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD:"Rechargement du dictionnaire",SETTING_LDT_AUTOMATIC_UPDATE_NAME:"Rechargement du dictionnaire",SETTING_LDT_AUTOMATIC_UPDATE_DESC:"Appliquez automatiquement les traductions locales existantes après la détection d'un changement de version du plugin (attention aux erreurs possibles suite à la mise à jour du plugin)",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A:"Commencer à vérifier les mises à jour",SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B:"Aucune mise à jour de plugin nécessaire",SETTING_NDT_NAME:"Mode de fichier cloud",SETTING_NDT_PUBLIC_MODE_HEAD:"Mode cloud",SETTING_NDT_MODE_NOTICE_A:"L'API de la langue actuelle n'existe pas",SETTING_NDT_MODE_NOTICE_B:"Anomalie réseau",SETTING_NDT_PUBLIC_IGNORE_HEAD:"Marquer la traduction chinoise",SETTING_NDT_APIS_NAME:"API",SETTING_NDT_APIS_DESC:"Veuillez entrer l'API correspondante à la langue que vous souhaitez traduire (ajouter de nouveau la couvrira)",SETTING_NDT_APIS_INSERT_BUTTON:"Ajouter",SETTING_NDT_IGNORE_NAME:"Marquer la traduction chinoise",SETTING_NDT_IGNORE_DESC:"Marquer les plugins avec une traduction chinoise intégrée (basé sur les commentaires de la communauté, nécessite une connexion réseau)",SETTING_NDT_IGNORE_NOTICE_A:"L'API de la langue actuelle n'existe pas",SETTING_NDT_IGNORE_NOTICE_B:"Anomalie réseau",SETTING_NIT_NAME:"Mode de traduction automatique",SETTING_NIT_APIS_NAME:"API",SETTING_NIT_APIS_DESC:"Choisissez l'interface que vous souhaitez utiliser",SETTING_NIT_TEST_BUTTON_TEXT:"Tester",SETTING_NIT_INTERVAL_NAME:"Intervalle",SETTING_NIT_INTERVAL_DESC:"Utilisé pour limiter l'intervalle de chaque demande (unité: millisecondes)",SETTING_NIT_BAIDU_NAME:"Baidu",SETTING_NIT_BAIDU_DESC:"Traduction basée sur l'API Baidu",SETTING_NIT_OPENAI_NAME:"OPENAI",SETTING_NIT_OPENAI_DESC:"Traduction basée sur l'API OPENAI",SETTING_NIT_OPENAI_TIP_NAME:"Indice",SETTING_NIT_OPENAI_TIP_DESC:"C'est-à-dire le prompt, utilisé pour guider l'AI dans la traduction, ce plugin fournit des mots indicatifs par défaut, mais vous pouvez les ajuster si nécessaire.",SETTING_NIT_OPENAI_TIP_PLACEHOLDER:"Mots indicatifs",SETTING_MORE_TITLE_NAME:"Plus de fonctionnalités",SETTING_Author_NAME:"Signature de la traduction",SETTING_Author_DESC:"Ajouter automatiquement la signature de l'auteur lors de la génération de la traduction",SETTING_Author_PLACEHOLDER:"Signature",SETTING_OPEN_SETTING_NAME:"Ouvrir les paramètres",SETTING_OPEN_SETTING_DESC:"Une fois activé, un bouton de saut vers les paramètres apparaîtra dans la page du plugin",SETTING_EDITOR_NAME:"Éditeur de traduction",SETTING_EDITOR_DESC:"Activer/désactiver la fonctionnalité de l'éditeur de traduction intégré",SETTING_CLOUD_COLLABORATION_NAME:"Collaboration cloud",SETTING_CLOUD_COLLABORATION_DESC:"Une fois cette fonction activée, vous pouvez soumettre votre traduction, demander une traduction pour un plugin spécifique, marquer si un plugin a une traduction chinoise intégrée. Rejoignez notre communauté et contribuez !",SETTING_CLOUD_COLLABORATION_TOKEN_NAME:"Jeton Gitee",SETTING_CLOUD_COLLABORATION_TOKEN_DESC:"Veuillez fournir votre jeton pour prendre en charge les soumissions groupées (facultatif)",SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER:"Jeton",SETTING_RE_TITLE_NAME:"Configuration des modèles de correspondance",SETTING_RE_MODE_NAME:"Mode",SETTING_RE_MODE_DESC:"Le mode de correspondance actuellement utilisé",SETTING_RE_FLAGS_NAME:"Drapeaux",SETTING_RE_FLAGS_DESC:"Drapeaux pour l'expression rationnelle",SETTING_RE_FLAGS_PLACEHOLDER:"Drapeaux",SETTING_RE_LENGTH_NAME:"Longueur",SETTING_RE_LENGTH_DESC:"Limite la longueur maximale que re peut correspondre",SETTING_RE_EDIT_MODE_NAME:"Édition du mode",SETTING_RE_EDIT_MODE_DESC:"Ajouter et supprimer des modes de correspondance des expressions rationnelles",SETTING_RE_EDIT_MODE_PLACEHOLDER:"Mode",SETTING_RE_EDIT_INSERT_BUTTON_TEXT:"Ajouter",SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A:"Le nom du mode RE est en double, impossible à ajouter",SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A:"Échec de la suppression",SETTING_RE_EDIT_ITEM_NAME:"Édition des données",SETTING_RE_EDIT_ITEM_DESC:"Ajouter et supprimer des données de mode d'expression rationnelle",SETTING_RE_EDIT_ITEM_PLACEHOLDER:"RegExp",SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT:"Ajouter"},localeMap={"zh-cn":zh_cn_default,"zh-tw":zh_tw_default,"en-gb":en_us_default,"ru-ru":ru_ru_default,"ja-jp":ja_jp_default,"fr-fr":fr_fr_default},locale=localeMap[import_obsidian.moment.locale()];function t(t){return locale&&locale[t]||zh_cn_default[t]}var I18nBasis=class extends BaseSetting{main(){new import_obsidian2.Setting(this.containerEl).setName("翻译语言").setDesc(t("SETTING_LANGUAGE_DESC")).addDropdown(t=>t.addOptions(LANGUAGES).setValue(this.settings.I18N_LANGUAGE).onChange(async t=>{this.settings.I18N_LANGUAGE=t,await this.i18n.saveSettings()}).selectEl.addClass("i18n-select")),new import_obsidian2.Setting(this.containerEl).setName("检查更新").setDesc("插件启动时自动检查是否存在更新").addButton(t=>t.setButtonText("下载").setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).onClick(async()=>{const t=await this.i18n.api.giteeGetReleasesLatest();if(t.data.tag_name===this.i18n.updatesVersion){const e=t.data.assets.find(t=>"manifest.json"===t.name),s=t.data.assets.find(t=>"styles.css"===t.name),i=t.data.assets.find(t=>"main.js"===t.name);let n="",a="",_="";if(void 0===e)return void this.i18n.notice.result("检查更新",!1,"未找到manifest.json文件");{const t=await this.i18n.api.giteeDownload(e.browser_download_url);if(!t.state)return void this.i18n.notice.result("检查更新",!1,`请求manifest.json失败\n${t.data}`);_=t.data}if(void 0===s)return void this.i18n.notice.result("检查更新",!1,"未找到styles.css文件");{const t=await this.i18n.api.giteeDownload(s.browser_download_url);if(!t.state)return void this.i18n.notice.result("检查更新",!1,`请求styles.css失败\n${t.data}`);n=t.data}if(void 0===i)return void this.i18n.notice.result("检查更新",!1,"未找到main.js文件");{const t=await this.i18n.api.giteeDownload(i.browser_download_url);if(!t.state)return void this.i18n.notice.result("检查更新",!1,`请求main.js失败\n${t.data}`);a=t.data}try{const t=path.join(path.normalize(this.app.vault.adapter.getBasePath()),this.i18n.manifest.dir);console.log(t),fs.ensureDirSync(t),await fs.writeFile(path.join(t,"styles.css"),n),await fs.writeFile(path.join(t,"main.js"),a),await fs.writeFile(path.join(t,"manifest.json"),_),this.i18n.notice.result("检查更新",!0,"更新成功"),document.location.reload()}catch(t){this.i18n.notice.result("检查更新",!1,`写入文件失败${t}`)}}else this.i18n.notice.result("检查更新",!1,"未找到文件")}).setClass(this.i18n.updatesMark?"1":"i18n--hidden")).addToggle(t=>t.setValue(this.settings.I18N_CHECK_UPDATES).onChange(async()=>{this.settings.I18N_CHECK_UPDATES=!this.settings.I18N_CHECK_UPDATES,this.i18n.saveSettings(),this.settings.I18N_CHECK_UPDATES?await this.i18n.checkUpdates():(this.i18n.updatesMark=!1,this.i18n.updatesVersion=""),this.settingTab.basisDisplay()}).toggleEl.addClass("i18n-checkbox")),new import_obsidian2.Setting(this.containerEl).setName(t("SETTING_OPEN_SETTING_NAME")).setDesc(t("SETTING_OPEN_SETTING_DESC")).addToggle(t=>t.setValue(this.settings.I18N_OPEN_SETTINGS).onChange(()=>{this.settings.I18N_OPEN_SETTINGS=!this.settings.I18N_OPEN_SETTINGS,this.i18n.saveSettings(),this.settingTab.basisDisplay()}).toggleEl.addClass("i18n-checkbox")),new import_obsidian2.Setting(this.containerEl).setName(t("SETTING_EDITOR_NAME")).setDesc(t("SETTING_EDITOR_DESC")).addToggle(t=>t.setValue(this.settings.I18N_EDIT_MODE).onChange(()=>{this.settings.I18N_EDIT_MODE=!this.settings.I18N_EDIT_MODE,this.i18n.saveSettings(),this.settingTab.basisDisplay()}).toggleEl.addClass("i18n-checkbox"))}},import_obsidian3=require("obsidian"),I18nModLDT=class extends BaseSetting{main(){const e=new import_obsidian3.Setting(this.containerEl);e.setName(t("SETTING_LDT_NAME")),e.setDesc("是否开启本地文件模式"),e.addButton(t=>{t.setButtonText(this.settings.I18N_MODE_LDT?"关闭":"开启"),t.onClick(()=>{this.settings.I18N_MODE_LDT=!this.settings.I18N_MODE_LDT,this.i18n.saveSettings(),this.settingTab.ldtDisplay()}),t.setClass("i18n-button"),t.setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`),this.settings.I18N_MODE_LDT?t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-danger`):t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-success`)});const s=new import_obsidian3.Setting(this.containerEl);s.setName(t("SETTING_LDT_AUTOMATIC_UPDATE_NAME")),s.setDesc(t("SETTING_LDT_AUTOMATIC_UPDATE_DESC")),s.addToggle(t=>t.setValue(this.settings.I18N_AUTOMATIC_UPDATE).onChange(()=>{this.settings.I18N_AUTOMATIC_UPDATE=!this.settings.I18N_AUTOMATIC_UPDATE,this.i18n.saveSettings(),this.settingTab.ldtDisplay()}).toggleEl.addClass("i18n-checkbox"));const i=new import_obsidian3.Setting(this.containerEl);i.setName("增量提取"),i.setDesc("增量提取功能允许您在本地已有译文的基础上，继续提取并自动合并新译文，实现译文的持续更新与累积。"),i.addToggle(t=>t.setValue(this.settings.I18N_INCREMENTAL_EXTRACTION).onChange(()=>{this.settings.I18N_INCREMENTAL_EXTRACTION=!this.settings.I18N_INCREMENTAL_EXTRACTION,this.i18n.saveSettings(),this.settingTab.ldtDisplay()}).toggleEl.addClass("i18n-checkbox"));const n=new import_obsidian3.Setting(this.containerEl);n.setName("名称翻译"),n.setDesc("启用插件名称翻译功能，将在插件后添加[]以展示其翻译名称(插件设置界面刷新操作会导致当前翻译失效，需重启ob重新加载翻译)"),n.addText(t=>t.setValue(this.settings.I18N_NAME_TRANSLATION_PREFIX).onChange(t=>{this.settings.I18N_NAME_TRANSLATION_PREFIX=t,this.i18n.reloadPluginsName(),this.i18n.saveSettings()}).inputEl.addClass("i18n-name__input","i18n-input")),n.addText(t=>t.setValue(this.settings.I18N_NAME_TRANSLATION_SUFFIX).onChange(t=>{this.settings.I18N_NAME_TRANSLATION_SUFFIX=t,this.i18n.reloadPluginsName(),this.i18n.saveSettings()}).inputEl.addClass("i18n-name__input","i18n-input")),n.addToggle(t=>t.setValue(this.settings.I18N_NAME_TRANSLATION).onChange(()=>{this.settings.I18N_NAME_TRANSLATION=!this.settings.I18N_NAME_TRANSLATION,this.settings.I18N_NAME_TRANSLATION?this.i18n.trenslatorPluginsName():this.i18n.restorePluginsName(),this.i18n.saveSettings(),this.settingTab.ldtDisplay()}).toggleEl.addClass("i18n-checkbox"))}},import_obsidian4=require("obsidian"),I18nModNDT=class extends BaseSetting{main(){const e=new import_obsidian4.Setting(this.containerEl);e.setName(`${t("SETTING_NDT_NAME")}`),e.setDesc("是否开启云端文件模式。"),e.addButton(t=>{t.setButtonText(this.settings.I18N_MODE_NDT?"关闭":"开启"),t.onClick(async()=>{this.settings.I18N_MODE_NDT=!this.settings.I18N_MODE_NDT,await this.i18n.saveSettings(),await this.i18n.ignoreCache(),await this.i18n.directoryCache(),this.settingTab.ndtDisplay()}),t.setClass("i18n-button"),t.setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`),this.settings.I18N_MODE_NDT?t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-danger`):t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-success`)});const s=new import_obsidian4.Setting(this.containerEl);s.setName(t("SETTING_NDT_IGNORE_NAME")),s.setDesc(t("SETTING_NDT_IGNORE_DESC")),s.addToggle(t=>t.setValue(this.settings.I18N_IGNORE).onChange(async()=>{this.settings.I18N_IGNORE=!this.settings.I18N_IGNORE,this.i18n.saveSettings(),await this.i18n.ignoreCache(),this.settingTab.ndtDisplay()}).toggleEl.addClass("i18n-checkbox"));const i=new import_obsidian4.Setting(this.containerEl);i.setName(t("SETTING_NDT_APIS_NAME")),i.setDesc(t("SETTING_NDT_APIS_DESC")),i.addText(t=>t.setPlaceholder("owner").setValue(this.settings.I18N_GITEE_OWNER).onChange(t=>{this.settings.I18N_GITEE_OWNER=t}).inputEl.addClass("i18n-input")),i.addText(t=>t.setPlaceholder("repo").setValue(this.settings.I18N_GITEE_REPO).onChange(t=>{this.settings.I18N_GITEE_REPO=t}).inputEl.addClass("i18n-input"))}},import_obsidian6=require("obsidian"),import_crypto=require("crypto"),import_obsidian5=require("obsidian"),API=class{constructor(t){this.i18n=t,this.settings=this.i18n.settings}async version(){const t={url:"https://gitee.com/zero--two/obsidian-i18n-translation/raw/master/version.json",method:"GET"};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json}}catch(t){return{state:!0,data:t}}}async getMark(){const t={url:`https://gitee.com/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/raw/master/translation/mark/${this.settings.I18N_LANGUAGE}.json`,method:"GET"};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json}}catch(t){return{state:!1,data:[]}}}async baiduAPI(t){const e=this.i18n.settings.I18N_NIT_APIS.BAIDU,s=(0,import_crypto.createHash)("md5"),i=e.FROM,n=e.TO,a=e.APP_ID,_=e.KEY,o=Math.round(10*Math.random()),T={url:`https://fanyi-api.baidu.com/api/trans/vip/translate?q=${t}&from=${i}&to=${n}&appid=${a}&salt=${o}&sign=${s.update(`${a}${t}${o}${_}`).digest("hex")}`,method:"GET"};try{const t=await(0,import_obsidian5.requestUrl)(T);if(t.json.hasOwnProperty("error_code")){const e=t.json.error_code;return this.i18n.notice.error("百度",`${e}\n${BAIDU_ERROR_CODE[e]}`),{state:!1,data:""}}return{state:!0,data:t.json.trans_result[0].dst}}catch(t){return{state:!1,data:""}}}async openAI(t,e){try{const t={url:`${this.settings.I18N_NIT_OPENAI_URL}/v1/chat/completions`,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.settings.I18N_NIT_OPENAI_KEY}`},body:JSON.stringify({model:this.settings.I18N_NIT_OPENAI_MODEL,messages:[{role:"user",content:this.settings.I18N_NIT_OPENAI_TIPS},{role:"user",content:e}],temperature:.7})},s=await(0,import_obsidian5.requestUrl)(t);return s.json&&s.json.choices&&s.json.choices.length>0?s.json.choices[0].message:null}catch(t){return this.i18n.notice.error("错误",t),null}}openAITest(){const t={url:`${this.settings.I18N_NIT_OPENAI_URL}/v1/chat/completions`,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.settings.I18N_NIT_OPENAI_KEY}`},body:JSON.stringify({model:this.settings.I18N_NIT_OPENAI_MODEL,messages:[{role:"user",content:"i18n"}],temperature:.7})};(0,import_obsidian5.requestUrl)(t).then(()=>{this.i18n.notice.result("OpenAI",!0)}).catch(t=>{this.i18n.notice.result("OpenAI",!1,t)})}async giteeGetToken(){const t={url:"https://gitee.com/zero--two/obsidian-i18n-translation/raw/master/version.json",method:"GET"};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json.token}}catch(t){return this.i18n.notice.error("I18N",`token获取失败(如果没有自定义token则无法使用提交功能)\n${t}`),{state:!1,data:t}}}async giteeGetDirectory(){const t={url:`https://gitee.com/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/raw/master/translation/directory/${this.settings.I18N_LANGUAGE}.json`,method:"GET"};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json}}catch(t){return{state:!1,data:t}}}async giteeGetSha(t){try{const e={url:`https://gitee.com/api/v5/repos/${this.i18n.settings.I18N_GITEE_OWNER}/${this.i18n.settings.I18N_GITEE_REPO}/contents/${t}`,method:"GET",body:JSON.stringify({access_token:this.i18n.settings.I18N_ADMIN_TOKEN,owner:this.i18n.settings.I18N_GITEE_OWNER,repo:this.i18n.settings.I18N_GITEE_REPO,path:t})};return console.log(e),{state:!0,data:(await(0,import_obsidian5.requestUrl)(e)).json}}catch(t){return{state:!1,data:t}}}async giteeGetIssue(t){const e={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/issues/${t}`,method:"GET"};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(e)).json}}catch(t){return{state:!1,data:t}}}async giteePostIssue(t,e,s){try{let i;if(""!==this.settings.I18N_SHARE_TOKEN)i=this.settings.I18N_SHARE_TOKEN;else{const t=await this.giteeGetToken();console.log(t),i=t.state?atob(t.data):""}if(""===i)return;const n={url:"https://gitee.com/api/v5/repos/zero--two/issues",method:"POST",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({access_token:i,repo:"obsidian-i18n-translation",title:t,body:e,labels:s})};return{state:!0,data:(await(0,import_obsidian5.requestUrl)(n)).json}}catch(t){return this.i18n.notice.result("提交操作",!1,`${t}`),{state:!1,data:t}}}async giteePatchIssue(t,e){const s={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/issues/${t}`,method:"PATCH",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({access_token:this.i18n.settings.I18N_ADMIN_TOKEN,owner:this.i18n.settings.I18N_GITEE_OWNER,repo:this.i18n.settings.I18N_GITEE_REPO,number:t,state:e})};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(s)).json}}catch(t){return{state:!1,data:t}}}async giteeGetAllIssue(){const t={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/issues`,method:"GET"};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json}}catch(t){return{state:!1,data:t}}}async giteeGetTranslation(t,e){try{const s={url:`https://gitee.com/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/raw/master/translation/dict/${t}/${this.settings.I18N_LANGUAGE}/${e}.json`,method:"GET"};return{state:!0,data:(await(0,import_obsidian5.requestUrl)(s)).json}}catch(t){return{state:!1,data:""}}}async giteePostTranslation(t,e,s){const i={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/contents/${t}`,method:"POST",headers:{"Content-Type":"application/json",charset:"UTF-8"},body:JSON.stringify({access_token:this.settings.I18N_ADMIN_TOKEN,owner:this.settings.I18N_GITEE_OWNER,repo:this.settings.I18N_GITEE_REPO,path:t,content:e,message:s})};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(i)).json}}catch(t){return{state:!1,data:t}}}async giteePutTranslation(t,e,s,i){const n={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/contents/${t}`,method:"PUT",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({access_token:this.i18n.settings.I18N_ADMIN_TOKEN,owner:this.i18n.settings.I18N_GITEE_OWNER,repo:this.i18n.settings.I18N_GITEE_REPO,content:e,sha:s,message:i})};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(n)).json}}catch(t){return{state:!1,data:t}}}async giteeGetContributor(){try{const t={url:`https://gitee.com/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/raw/master/translation/contributor/${this.settings.I18N_LANGUAGE}.json`,method:"GET"};return{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json}}catch(t){return{state:!1,data:t}}}async giteePutContributor(t,e,s,i){const n={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/contents/${t}`,method:"PUT",headers:{"Content-Type":"application/json",Charset:"UTF-8"},body:JSON.stringify({access_token:this.i18n.settings.I18N_ADMIN_TOKEN,owner:this.i18n.settings.I18N_GITEE_OWNER,repo:this.i18n.settings.I18N_GITEE_REPO,content:e,sha:s,message:i})};try{return{state:!0,data:(await(0,import_obsidian5.requestUrl)(n)).json}}catch(t){return{state:!1,data:t}}}async giteeGetReleasesLatest(){try{const t={url:`https://gitee.com/api/v5/repos/${this.settings.I18N_GITEE_OWNER}/${this.settings.I18N_GITEE_REPO}/releases/latest`,method:"GET"};return console.log(t),{state:!0,data:(await(0,import_obsidian5.requestUrl)(t)).json}}catch(t){return console.log(t),{state:!1,data:""}}}async giteeDownload(t){try{const e={url:t,method:"GET"};return console.log(e),{state:!0,data:(await(0,import_obsidian5.requestUrl)(e)).text}}catch(t){return console.log(t),{state:!1,data:""}}}},I18nModeNIT=class extends BaseSetting{main(){const e=new API(this.i18n),s=new import_obsidian6.Setting(this.containerEl);s.setName(t("SETTING_NIT_NAME")),s.setDesc("是否开启机器翻译模式"),s.addButton(t=>{t.setButtonText(this.settings.I18N_MODE_NIT?"关闭":"开启"),t.onClick(async()=>{this.settings.I18N_MODE_NIT=!this.settings.I18N_MODE_NIT,this.i18n.saveSettings(),this.settingTab.nitDisplay()}),t.setClass("i18n-button"),t.setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`),this.settings.I18N_MODE_NIT?t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-danger`):t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-success`)});const i=new import_obsidian6.Setting(this.containerEl);i.setName(t("SETTING_NIT_APIS_NAME")),i.setDesc(t("SETTING_NIT_APIS_DESC")),i.addDropdown(t=>t.addOptions(API_TYPES).setValue(this.settings.I18N_NIT_API).onChange(t=>{this.settings.I18N_NIT_API=t,this.i18n.saveSettings(),this.settingTab.nitDisplay()}).selectEl.addClass("i18n-select")),i.addButton(s=>s.setButtonText(t("SETTING_NIT_TEST_BUTTON_TEXT")).onClick(async()=>{switch(this.settings.I18N_NIT_API){case"BAIDU":(await e.baiduAPI("i18n")).state&&this.i18n.notice.result("百度",!0);break;case"OPENAI":e.openAITest()}}).setClass("i18n-button").setClass("i18n-button--primary"));const n=new import_obsidian6.Setting(this.containerEl);n.setName(t("SETTING_NIT_INTERVAL_NAME")),n.setDesc(t("SETTING_NIT_INTERVAL_DESC")),n.addSlider(t=>t.setDynamicTooltip().setLimits(0,1e3,50).setValue(this.settings.I18N_NIT_API_INTERVAL).onChange(t=>{this.settings.I18N_NIT_API_INTERVAL=t,this.i18n.saveSettings()}))}},import_obsidian7=require("obsidian"),I18nModIMT=class extends BaseSetting{main(){const t=new import_obsidian7.Setting(this.containerEl);t.setName("沉浸式翻译"),t.setDesc("是否开启沉浸式翻译模式"),t.addButton(t=>t.setButtonText("重启").onClick(()=>{document.location.reload()}).buttonEl.addClasses(["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-warning`,`is-${this.settings.I18N_BUTTON_SHAPE}`])),t.addButton(t=>{t.setButtonText(this.settings.I18N_MODE_IMT?"关闭":"开启"),t.onClick(()=>{this.settings.I18N_MODE_IMT=!this.settings.I18N_MODE_IMT,this.settings.I18N_MODE_IMT||document.location.reload(),this.i18n.saveSettings(),this.settingTab.imtDisplay(),this.settings.I18N_MODE_IMT?this.i18n.activateIMT():this.i18n.enableIMT()}),t.setClass("i18n-button"),t.setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`),this.settings.I18N_MODE_IMT?t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-danger`):t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-success`)}),new import_obsidian7.Setting(this.containerEl).setName("指定翻译范围").setHeading();const e=new import_obsidian7.Setting(this.containerEl);e.setName("匹配元素"),e.setDesc("修改后请重启沉浸式翻译功能"),e.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.selectors?this.settings.I18N_IMT_CONFIG.selectors.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.selectors=t.split(","),await this.i18n.saveSettings(),window.immersiveTranslateConfig={pageRule:this.settings.I18N_IMT_CONFIG},console.log(window.immersiveTranslateConfig)}));const s=new import_obsidian7.Setting(this.containerEl);s.setName("排除元素"),s.setDesc("仅翻译匹配到的元素"),s.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.excludeSelectors?this.settings.I18N_IMT_CONFIG.excludeSelectors.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.excludeSelectors=t.split(","),await this.i18n.saveSettings(),window.immersiveTranslateConfig={pageRule:this.settings.I18N_IMT_CONFIG},console.log(window.immersiveTranslateConfig)}));const i=new import_obsidian7.Setting(this.containerEl);i.setName("排除Tags"),i.setDesc("排除Tags，不翻译匹配的Tag"),i.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.excludeTags?this.settings.I18N_IMT_CONFIG.excludeTags.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.excludeTags=t.split(","),await this.i18n.saveSettings()})),new import_obsidian7.Setting(this.containerEl).setName("追加翻译范围").setHeading();const n=new import_obsidian7.Setting(this.containerEl);n.setName("追加翻译范围"),n.setDesc("追加翻译范围。在智能翻译的区域，追加翻译位置。"),n.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.additionalSelectors?this.settings.I18N_IMT_CONFIG.additionalSelectors.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.additionalSelectors=t.split(","),await this.i18n.saveSettings()}));const a=new import_obsidian7.Setting(this.containerEl);a.setName("追加排除元素"),a.setDesc("追加排除元素，让智能翻译不翻译特定位置。"),a.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.additionalExcludeSelectors?this.settings.I18N_IMT_CONFIG.additionalExcludeSelectors.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.additionalExcludeSelectors=t.split(","),await this.i18n.saveSettings()}));const _=new import_obsidian7.Setting(this.containerEl);_.setName("追加排除Tags"),_.setDesc("追加排除Tags"),_.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.additionalExcludeTags?this.settings.I18N_IMT_CONFIG.additionalExcludeTags.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.additionalExcludeTags=t.split(","),await this.i18n.saveSettings()})),new import_obsidian7.Setting(this.containerEl).setName("保持原样").setHeading();const o=new import_obsidian7.Setting(this.containerEl);o.setName("匹配的元素将保持原样"),o.setDesc("匹配的元素将保持原样。常用于论坛网站的标签。"),o.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.stayOriginalSelectors?this.settings.I18N_IMT_CONFIG.stayOriginalSelectors.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.stayOriginalSelectors=t.split(","),await this.i18n.saveSettings()}));const T=new import_obsidian7.Setting(this.containerEl);T.setName("匹配到的Tag将保持原样"),T.setDesc("匹配到的Tag将保持原样，比如 `code`"),T.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.stayOriginalTags?this.settings.I18N_IMT_CONFIG.stayOriginalTags.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.stayOriginalTags=t.split(","),await this.i18n.saveSettings()})),new import_obsidian7.Setting(this.containerEl).setName("区域翻译").setHeading();const r=new import_obsidian7.Setting(this.containerEl);r.setName("区域选择器"),r.setDesc("匹配的元素将被视为一个整体, 不会分段翻译"),r.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.atomicBlockSelectors?this.settings.I18N_IMT_CONFIG.atomicBlockSelectors.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.atomicBlockSelectors=t.split(","),await this.i18n.saveSettings()}));const E=new import_obsidian7.Setting(this.containerEl);E.setName("区域Tag选择器"),E.setDesc("匹配的元素将被视为一个整体, 不会分段翻译"),E.addTextArea(t=>t.setValue(this.settings.I18N_IMT_CONFIG.atomicBlockTags?this.settings.I18N_IMT_CONFIG.atomicBlockTags.toString():"").onChange(async t=>{this.settings.I18N_IMT_CONFIG.atomicBlockTags=t.split(","),await this.i18n.saveSettings()}))}},import_obsidian8=require("obsidian"),from_lang={auto:"自动检测",zh:"中文",cht:"繁体中文",yue:"粤语",wyw:"文言文",en:"英语",jp:"日语",kor:"韩语",fra:"法语",spa:"西班牙语",th:"泰语",ara:"阿拉伯语",ru:"俄语",pt:"葡萄牙语",de:"德语",it:"意大利语",el:"希腊语",nl:"荷兰语",pl:"波兰语",bul:"保加利亚语",est:"爱沙尼亚语",dan:"丹麦语",fin:"芬兰语",cs:"捷克语",rom:"罗马尼亚语",slo:"斯洛文尼亚语",swe:"瑞典语",hu:"匈牙利语",vie:"越南语"},to_lang=JSON.parse(JSON.stringify(from_lang));delete to_lang.auto;var I18nNitBaiDu=class extends BaseSetting{main(){const t=new import_obsidian8.Setting(this.containerEl);"BAIDU"!=this.settings.I18N_NIT_API&&t.setClass("i18n--hidden"),t.setName("源语言"),t.setDesc("待译文本语言（默认:自动检测）"),t.addDropdown(t=>t.addOptions(from_lang).setValue(this.settings.I18N_NIT_APIS.BAIDU.FROM).onChange(t=>{this.settings.I18N_NIT_APIS.BAIDU.FROM=t,this.i18n.saveSettings()}).selectEl.addClass("i18n-select"));const e=new import_obsidian8.Setting(this.containerEl);"BAIDU"!=this.settings.I18N_NIT_API&&e.setClass("i18n--hidden"),e.setName("目标语言"),e.setDesc("目标文本语言（默认：中文）"),e.addDropdown(t=>t.addOptions(to_lang).setValue(this.settings.I18N_NIT_APIS.BAIDU.TO).onChange(t=>{this.settings.I18N_NIT_APIS.BAIDU.TO=t,this.i18n.saveSettings()}).selectEl.addClass("i18n-select"));const s=new import_obsidian8.Setting(this.containerEl);"BAIDU"!=this.settings.I18N_NIT_API&&s.setClass("i18n--hidden"),s.setName("APPID"),s.setDesc("APPID是访问百度翻译API的身份验证密钥。"),s.addText(t=>t.setValue(this.settings.I18N_NIT_APIS.BAIDU.APP_ID).setPlaceholder("APPID").onChange(t=>{this.settings.I18N_NIT_APIS.BAIDU.APP_ID=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"));const i=new import_obsidian8.Setting(this.containerEl);"BAIDU"!=this.settings.I18N_NIT_API&&i.setClass("i18n--hidden"),i.setName("密钥"),i.setDesc("Key是访问百度翻译API的身份验证密钥。"),i.addText(t=>t.setValue(this.settings.I18N_NIT_APIS.BAIDU.KEY).setPlaceholder("KEY").onChange(t=>{this.settings.I18N_NIT_APIS.BAIDU.KEY=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"))}},import_obsidian9=require("obsidian"),I18nNITOpenAI=class extends BaseSetting{main(){const e=new import_obsidian9.Setting(this.containerEl);e.setName("接口"),e.setDesc("默认为https://api.openai.com。\n即ChatGPT官方地址，使用官方key则无需修改。\n如果使用第三方服务，请参考对应服务商的文档说明。"),"OPENAI"!=this.settings.I18N_NIT_API&&e.setClass("i18n--hidden"),e.addText(t=>t.setValue(this.settings.I18N_NIT_OPENAI_URL).setPlaceholder("https://api.openai.com").onChange(t=>{this.settings.I18N_NIT_OPENAI_URL=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"));const s=new import_obsidian9.Setting(this.containerEl);s.setName("KEY"),s.setDesc("即api key。\n请参考对应服务商的文档说明"),"OPENAI"!=this.settings.I18N_NIT_API&&s.setClass("i18n--hidden"),s.addText(t=>t.setValue(this.settings.I18N_NIT_OPENAI_KEY).setPlaceholder("KEY").onChange(t=>{this.settings.I18N_NIT_OPENAI_KEY=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"));const i=new import_obsidian9.Setting(this.containerEl);i.setName("模型"),i.setDesc("即model。\n填写你需要使用的模型，注意此处模型名称为api对应的模型名\n（部分服务商的日常名称与api名称不一样），请查询对应服务商的文档。"),"OPENAI"!=this.settings.I18N_NIT_API&&i.setClass("i18n--hidden"),i.addText(t=>t.setValue(this.settings.I18N_NIT_OPENAI_MODEL).setPlaceholder("Model").onChange(t=>{this.settings.I18N_NIT_OPENAI_MODEL=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"));const n=new import_obsidian9.Setting(this.containerEl);"OPENAI"!=this.settings.I18N_NIT_API&&n.setClass("i18n--hidden"),n.setName(t("SETTING_NIT_OPENAI_TIP_NAME")),n.setDesc("即prompt，用于指导AI如何翻译，本插件提供默认提示词，如有需要可自行调整。"),n.addTextArea(e=>e.setValue(this.settings.I18N_NIT_OPENAI_TIPS).setPlaceholder(t("SETTING_NIT_OPENAI_TIP_PLACEHOLDER")).onChange(t=>{this.settings.I18N_NIT_OPENAI_TIPS=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"))}},import_obsidian10=require("obsidian"),I18nRE=class extends BaseSetting{main(){const e=new import_obsidian10.Setting(this.containerEl);e.setName("临时正则"),e.setDesc("是否开启临时正则表达式"),e.addToggle(t=>t.setValue(this.settings.I18N_RE_TEMP_MODE).onChange(async()=>{this.settings.I18N_RE_TEMP_MODE=!this.settings.I18N_RE_TEMP_MODE,this.i18n.saveSettings()}).toggleEl.addClass("i18n-checkbox"));const s=new import_obsidian10.Setting(this.containerEl);s.setName(t("SETTING_RE_MODE_NAME")),s.setDesc(t("SETTING_RE_MODE_DESC")),s.addText(t=>t.setValue(this.settings.I18N_RE_MODE).setDisabled(!0).inputEl.addClass("i18n-input"));const i=new import_obsidian10.Setting(this.containerEl);i.setName(t("SETTING_RE_FLAGS_NAME")),i.setDesc(t("SETTING_RE_FLAGS_DESC")),i.addText(e=>e.setValue(this.settings.I18N_RE_FLAGS).setPlaceholder(t("SETTING_RE_FLAGS_PLACEHOLDER")).onChange(t=>{this.settings.I18N_RE_FLAGS=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input"));const n=new import_obsidian10.Setting(this.containerEl);n.setName(t("SETTING_RE_LENGTH_NAME")),n.setDesc(t("SETTING_RE_LENGTH_DESC")),n.addSlider(t=>t.setDynamicTooltip().setLimits(0,3e3,100).setValue(this.settings.I18N_RE_LENGTH).onChange(t=>{this.settings.I18N_RE_LENGTH=t,this.i18n.saveSettings()}));let a="";const _=new import_obsidian10.Setting(this.containerEl);if(_.setName(t("SETTING_RE_EDIT_MODE_NAME")),_.setDesc(t("SETTING_RE_EDIT_MODE_DESC")),_.addText(e=>e.setPlaceholder(t("SETTING_RE_EDIT_MODE_PLACEHOLDER")).onChange(t=>{a=t}).inputEl.addClass("i18n-input")),_.addButton(e=>e.setButtonText(t("SETTING_RE_EDIT_INSERT_BUTTON_TEXT")).onClick(()=>{""==a||this.settings.I18N_RE_MODES.includes(a)?this.i18n.notice.error(t("SETTING_PUBLIC_RE"),t("SETTING_RE_EDIT_INSERT_BUTTON_CONTENT_A")):(this.settings.I18N_RE_MODES.push(a),this.settings.I18N_RE_DATAS.hasOwnProperty(a)||(this.settings.I18N_RE_DATAS[a]=[]),this.i18n.saveSettings(),this.settingTab.reDisplay())}).setClass("i18n-button").setClass("i18n-button--primary")),_.addButton(e=>e.setButtonText(this.settings.I18N_RE_MODE_DISPLAY?t("SETTING_PUBLIC_HIDE"):t("SETTING_PUBLIC_SHOW")).onClick(()=>{this.settings.I18N_RE_MODE_DISPLAY=!this.settings.I18N_RE_MODE_DISPLAY,this.i18n.saveSettings(),this.settingTab.reDisplay()}).setClass("i18n-button").setClass("i18n-button--primary")),this.settings.I18N_RE_MODE_DISPLAY)for(let e=0;e<this.settings.I18N_RE_MODES.length;e++){const s=new import_obsidian10.Setting(this.containerEl);s.setName(this.settings.I18N_RE_MODES[e]),this.settings.I18N_RE_MODE!=this.settings.I18N_RE_MODES[e]&&s.addButton(t=>t.setIcon("check").onClick(()=>{this.settings.I18N_RE_MODE=this.settings.I18N_RE_MODES[e],this.i18n.saveSettings(),this.settingTab.reDisplay()})),s.addButton(s=>s.setIcon("trash").onClick(()=>{if(this.settings.I18N_RE_MODES.length>1){delete this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODES[e]];const s=this.settings.I18N_RE_MODES[e],i=this.settings.I18N_RE_MODE;console.log(s==i),this.settings.I18N_RE_MODES[e]==this.settings.I18N_RE_MODE&&(this.settings.I18N_RE_MODE=this.settings.I18N_RE_MODES[0]),this.settings.I18N_RE_MODES.splice(e,1),this.i18n.notice.result(t("SETTING_PUBLIC_RE"),!0)}else this.i18n.notice.result(t("SETTING_PUBLIC_RE"),!1,t("SETTING_RE_EDIT_DELETE_BUTTON_CONTENT_A"));this.i18n.saveSettings(),this.settingTab.reDisplay()}))}let o="";const T=new import_obsidian10.Setting(this.containerEl);if(T.setName(t("SETTING_RE_EDIT_ITEM_NAME")),T.setDesc(t("SETTING_RE_EDIT_ITEM_DESC")),T.addText(e=>e.setPlaceholder(t("SETTING_RE_EDIT_ITEM_PLACEHOLDER")).onChange(t=>{o=t}).inputEl.addClass("i18n-input")),T.addButton(e=>e.setButtonText(t("SETTING_RE_EDIT_ITEM_INSERT_BUTTON_TEXT")).onClick(()=>{""!=o&&(this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODE].push(o),this.i18n.saveSettings(),this.settingTab.reDisplay())}).setClass("i18n-button").setClass("i18n-button--primary")),T.addButton(e=>e.setButtonText(this.settings.I18N_RE_DATAS_DISPLAY?t("SETTING_PUBLIC_HIDE"):t("SETTING_PUBLIC_SHOW")).onClick(()=>{this.settings.I18N_RE_DATAS_DISPLAY=!this.settings.I18N_RE_DATAS_DISPLAY,this.i18n.saveSettings(),this.settingTab.reDisplay()}).setClass("i18n-button").setClass("i18n-button--primary")),this.settings.I18N_RE_DATAS_DISPLAY)for(let t=0;t<this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODE].length;t++){const e=new import_obsidian10.Setting(this.containerEl);e.setName(this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODE][t]),e.addButton(e=>e.setIcon("trash").onClick(()=>{this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODE].splice(t,1),this.i18n.saveSettings(),this.settingTab.reDisplay()}))}}},import_obsidian12=require("obsidian"),import_obsidian11=require("obsidian"),AdminModal=class extends import_obsidian11.Modal{constructor(t,e){super(t),this.issue=((t,e)=>{const s=new import_obsidian11.Setting(this.contentEl);s.setClass("i18n__item"),s.nameEl.addClass("i18n__item-title");let i="";"提交译文"===e&&(i="success"),"更新译文"===e&&(i="warning"),s.nameEl.innerHTML=`<span class="i18n-tag i18n-tag--${this.i18n.settings.I18N_TAG_TYPE}-${i} is-${this.i18n.settings.I18N_TAG_SHAPE}">${e}</span><span class="i18n__item-title"> ${t.title.replace(`[${e}] `,"")}(${t.user.name})</span>`,new import_obsidian11.ButtonComponent(s.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setButtonText("审核").onClick(()=>{this.i18n.issuesObj=t,this.i18n.activateAdminView()}),new import_obsidian11.ButtonComponent(s.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setButtonText("查看").onClick(()=>{window.open(`https://gitee.com/${this.i18n.settings.I18N_GITEE_OWNER}/${this.i18n.settings.I18N_GITEE_REPO}/issues/${t.number}`)})}),this.i18n=e,this.a()}async a(){const t=await this.i18n.api.giteeGetAllIssue();t.state?t.data.length>0?(this.i18n.issuesList=t.data,this.i18n.notice.result("获取",!0,`${this.i18n.issuesList.length}条待审核内容`)):this.i18n.notice.result("获取",!0,"暂时没有可审核任务"):this.i18n.notice.result("获取",!1,"获取失败,请检查网络后重试")}async showHead(){const t=this.contentEl.parentElement;t.addClass("i18n-share-history__container"),t.removeChild(t.getElementsByClassName("modal-close-button")[0]),this.titleEl.addClass("i18n-share-history__title-box");const e=new import_obsidian11.Setting(this.titleEl);e.setName("I18N审核").setClass("i18n-share-history__title"),new import_obsidian11.ButtonComponent(e.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setIcon("refresh-ccw").onClick(async()=>{const t=await this.i18n.api.giteeGetAllIssue();t.state?t.data.length>0?this.i18n.issuesList=t.data:this.i18n.notice.result("获取",!0,"暂时没有可审核任务"):this.i18n.notice.result("获取",!1,"获取失败,请检查网络后重试"),this.reloadShowData()})}async showMain(){if(this.i18n.issuesList)for(const t of this.i18n.issuesList)t.title.includes("[提交译文]")&&this.issue(t,"提交译文"),t.title.includes("[更新译文]")&&this.issue(t,"更新译文")}async onOpen(){await this.showHead(),await this.showMain()}async onClose(){this.contentEl.empty()}async reloadShowData(){let t=0;const e=this.contentEl;t=e.scrollTop,e.empty(),await this.showMain(),e.scrollTo(0,t)}},I18nShare=class extends BaseSetting{main(){new import_obsidian12.Setting(this.containerEl).setName(t("SETTING_CLOUD_COLLABORATION_NAME")).setDesc(t("SETTING_CLOUD_COLLABORATION_DESC")).addButton(t=>{t.setButtonText(this.settings.I18N_SHARE_MODE?"关闭":"开启"),t.onClick(async()=>{this.settings.I18N_SHARE_MODE=!this.settings.I18N_SHARE_MODE,this.i18n.saveSettings(),this.settingTab.shareDisplay()}),t.setClass("i18n-button"),t.setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`),this.settings.I18N_SHARE_MODE?t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-danger`):t.setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-success`)}),new import_obsidian12.Setting(this.containerEl).setName(t("SETTING_CLOUD_COLLABORATION_TOKEN_NAME")).setDesc(t("SETTING_CLOUD_COLLABORATION_TOKEN_DESC")).addText(e=>e.setValue(this.settings.I18N_SHARE_TOKEN).setPlaceholder(t("SETTING_CLOUD_COLLABORATION_TOKEN_PLACEHOLDER")).onChange(t=>{this.settings.I18N_SHARE_TOKEN=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input")),new import_obsidian12.Setting(this.containerEl).setName("Admin Token").setDesc("审核提交的译文").addText(t=>t.setValue(this.settings.I18N_ADMIN_TOKEN).setPlaceholder("管理员token").onChange(t=>{this.settings.I18N_ADMIN_TOKEN=t,this.i18n.saveSettings()}).inputEl.addClass("i18n-input")).addToggle(t=>t.setValue(this.settings.I18N_ADMIN_MODE).onChange(()=>{this.settings.I18N_ADMIN_MODE=!this.settings.I18N_ADMIN_MODE,this.i18n.saveSettings(),this.settings.I18N_ADMIN_MODE&&(this.i18n.i18nReviewEl=this.i18n.addRibbonIcon("i18n-review","I18N审核",t=>{new AdminModal(this.app,this.i18n).open()})),this.settings.I18N_ADMIN_MODE||this.i18n.i18nReviewEl.remove()}).toggleEl.addClass("i18n-checkbox"))}},import_obsidian13=require("obsidian"),I18nStyle=class extends BaseSetting{main(){new import_obsidian13.Setting(this.containerEl).setName("标签").setDesc("设置标签的样式以及形状。").addDropdown(t=>t.addOptions(TAG_TYPE).setValue(this.settings.I18N_TAG_TYPE).onChange(async t=>{this.settings.I18N_TAG_TYPE=t,await this.i18n.saveSettings()}).selectEl.addClass("i18n-select")).addDropdown(t=>t.addOptions(TAG_SHAPE).setValue(this.settings.I18N_TAG_SHAPE).onChange(async t=>{this.settings.I18N_TAG_SHAPE=t,await this.i18n.saveSettings()}).selectEl.addClass("i18n-select")),new import_obsidian13.Setting(this.containerEl).setName("按钮").setDesc("设置按钮的样式以及形状。").addDropdown(t=>t.addOptions(BUTTON_TYPE).setValue(this.settings.I18N_BUTTON_TYPE).onChange(async t=>{this.settings.I18N_BUTTON_TYPE=t,await this.i18n.saveSettings()}).selectEl.addClass("i18n-select")).addDropdown(t=>t.addOptions(BUTTON_SHAPE).setValue(this.settings.I18N_BUTTON_SHAPE).onChange(async t=>{this.settings.I18N_BUTTON_SHAPE=t,await this.i18n.saveSettings()}).selectEl.addClass("i18n-select"))}},I18nSettingTab=class extends import_obsidian14.PluginSettingTab{constructor(t,e){super(t,e),this.i18n=e,this.app=t}display(){const{containerEl:t}=this;t.empty(),t.addClass("i18n-setting__container");const e=this.containerEl.createEl("div");e.addClass("i18n-setting__tabs"),this.contentEl=this.containerEl.createEl("div"),this.contentEl.addClass("i18n-setting__content");const s=[];[{text:"主题",content:()=>this.styleDisplay()},{text:"基础设置",content:()=>this.basisDisplay()},{text:"本地模式",content:()=>this.ldtDisplay()},{text:"云端模式",content:()=>this.ndtDisplay()},{text:"机器翻译",content:()=>this.nitDisplay()},{text:"沉浸翻译",content:()=>this.imtDisplay()},{text:"共建云端",content:()=>this.shareDisplay()},{text:"正则配置",content:()=>this.reDisplay()}].forEach((t,i)=>{const n=e.createEl("div");n.addClass("i18n-setting__tabs-item"),n.textContent=t.text,s.push(n),0===i&&(n.addClass("i18n-setting__tabs-item_is-active"),t.content()),n.addEventListener("click",()=>{s.forEach(t=>{t.removeClass("i18n-setting__tabs-item_is-active")}),n.addClass("i18n-setting__tabs-item_is-active"),t.content()})})}styleDisplay(){this.contentEl.empty(),new I18nStyle(this).display()}basisDisplay(){this.contentEl.empty(),new I18nBasis(this).display()}ldtDisplay(){this.contentEl.empty(),new I18nModLDT(this).display()}ndtDisplay(){this.contentEl.empty(),new I18nModNDT(this).display()}nitDisplay(){this.contentEl.empty(),new I18nModeNIT(this).display(),new I18nNitBaiDu(this).display(),new I18nNITOpenAI(this).display()}imtDisplay(){this.contentEl.empty(),new I18nModIMT(this).display()}shareDisplay(){this.contentEl.empty(),new I18nShare(this).display()}reDisplay(){this.contentEl.empty(),new I18nRE(this).display()}},fs2=__toESM(require_lib()),import_obsidian15=require("obsidian"),import_zlib=require("zlib"),import_child_process=require("child_process"),State=class{constructor(t,e){this.stateJson={type:"",state:!1,pluginVersion:"",translationVersion:0},this.path=e,this.isStateDoc=fs2.pathExistsSync(this.path),this.stateObj=this.isStateDoc?fs2.readJsonSync(this.path):void 0}getType(){return this.stateObj.type}getState(){return this.stateObj.state}getPluginVersion(){return this.stateObj.pluginVersion}getTranslationVersion(){return this.stateObj.translationVersion}setType(t){this.stateObj.type=t,fs2.outputJsonSync(this.path,this.stateObj)}setState(t){this.stateObj.state=t,fs2.outputJsonSync(this.path,this.stateObj)}setPluginVersion(t){this.stateObj.pluginVersion=t,fs2.outputJsonSync(this.path,this.stateObj)}setTranslationVersion(t){this.stateObj.translationVersion=t,fs2.outputJsonSync(this.path,this.stateObj)}insert(){try{this.stateObj=this.stateJson,this.isStateDoc=!0,fs2.outputJsonSync(this.path,this.stateJson)}catch(t){this.i18n.notice.result("新增状态文件",!1,t)}}delete(){try{this.isStateDoc=!1,fs2.removeSync(this.path)}catch(t){this.i18n.notice.result("删除状态文件",!1,t)}}update(t,e,s,i){const n={type:t,state:e,pluginVersion:s,translationVersion:i};this.stateObj=n;try{fs2.outputJsonSync(this.path,n)}catch(t){this.i18n.notice.result("修改状态文件",!1,t)}}reset(){try{fs2.outputJsonSync(this.path,this.stateJson),console.log(this.stateJson)}catch(t){this.i18n.notice.result("重置状态文件",!1,t)}}},Notification=class{constructor(t,e){this.notices=[],this.app=t,this.i18n=e}primary(t,e,s=4e3){const i=!!document.body&&document.body.classList.contains("theme-dark"),n=new import_obsidian15.Notice(`[${t}] ${e}`,s);n.noticeEl.addClass("notice__container",`notice__${i?"dark":"light"}--primary`),this.addNotice(n)}success(t,e,s=4e3){const i=!!document.body&&document.body.classList.contains("theme-dark"),n=new import_obsidian15.Notice(`[${t}] ${e}`,s);n.noticeEl.addClass("notice__container",`notice__${i?"dark":"light"}--success`),this.addNotice(n)}info(t,e,s=4e3){const i=!!document.body&&document.body.classList.contains("theme-dark"),n=new import_obsidian15.Notice(`[${t}] ${e}`,s);n.noticeEl.addClass("notice__container",`notice__${i?"dark":"light"}--info`),this.addNotice(n)}warning(t,e,s=4e3){const i=!!document.body&&document.body.classList.contains("theme-dark"),n=new import_obsidian15.Notice(`[${t}] ${e}`,s);n.noticeEl.addClass("notice__container",`notice__${i?"dark":"light"}--warning`),this.addNotice(n)}error(t,e,s=1e4){const i=!!document.body&&document.body.classList.contains("theme-dark"),n=new import_obsidian15.Notice(`[${t}] ${e}`,s);n.noticeEl.addClass("notice__container",`notice__${i?"dark":"light"}--error`),this.addNotice(n)}result(e,s,i="",n=4e3){const a=!!document.body&&document.body.classList.contains("theme-dark");if(s)if(""!=i){const s=new import_obsidian15.Notice(`[${e}] ${t("PUBLIC_SUCCESS")}\n${i}`,n);s.noticeEl.addClass(`notice__${a?"dark":"light"}--success`),this.addNotice(s)}else{const s=new import_obsidian15.Notice(`[${e}] ${t("PUBLIC_SUCCESS")}`,n);s.noticeEl.addClass("notice__container",`notice__${a?"dark":"light"}--success`),this.addNotice(s)}else{const s=new import_obsidian15.Notice(`[${e}] ${t("PUBLIC_FAILURE")}\n${i}`,1e4);s.noticeEl.addClass("notice__container",`notice__${a?"dark":"light"}--error`),this.addNotice(s)}}reload(){this.notices.forEach(t=>t.noticeEl.remove()),this.notices.length=0}addNotice(t){this.notices.length>=100&&(this.notices[0].noticeEl.remove(),this.notices.shift()),this.notices.push(t)}};function generateTranslation(t,e,s,i,n,a){const _=e.description,o={manifest:{translationVersion:Date.now(),pluginVersion:t},description:{original:_,translation:_},dict:{}};for(let t=0;t<n.length;t++){const e=s.match(new RegExp(n[t],a));if(null!=e)for(const t in e)e[t].length<=i&&(o.dict[e[t]]=e[t])}return o}function compareVersions(t,e){const s=t.split(".").map(Number),i=e.split(".").map(Number),n=Math.max(s.length,i.length);for(let t=0;t<n;t++){const e=s[t]||0,n=i[t]||0;if(e>n)return 1;if(e<n)return-1}return 0}var restoreTranslate=()=>{const t=new KeyboardEvent("keydown",{key:"a",keyCode:65,which:65,code:"KeyA",altKey:!0,bubbles:!0});document.dispatchEvent(t)},clearStorage=async()=>{Object.keys(window.localStorage).filter(t=>t.startsWith("immersiveTranslate")).forEach(t=>{delete window.localStorage[t]});await window.indexedDB.databases().then(t=>{var e;null==(e=null==t?void 0:t.filter(t=>{var e;return null==(e=t.name)?void 0:e.startsWith("immersive-translate")}))||e.forEach(t=>{t.name&&window.indexedDB.deleteDatabase(t.name)})}).catch(()=>{});Object.keys(window).filter(t=>-1!==t.indexOf("mmersiveTranslate")).forEach(t=>{void 0!==window[t]&&delete window[t]})},formatTimestamp=t=>{const e=new Date(t);return`${String(e.getMonth()+1).padStart(2,"0")}月${String(e.getDate()).padStart(2,"0")}日 ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},formatTimestamp_concise=t=>{const e=new Date(t),[s,i,n,a,_]=[e.getFullYear(),String(e.getMonth()+1).padStart(2,"0"),String(e.getDate()).padStart(2,"0"),String(e.getHours()).padStart(2,"0"),String(e.getMinutes()).padStart(2,"0")];return`${s}/${i}/${n} ${a}:${_}`},isValidTranslationFormat=t=>void 0!==t&&"manifest"in t&&"translationVersion"in t.manifest&&"pluginVersion"in t.manifest&&"description"in t&&"original"in t.description&&"translation"in t.description&&"dict"in t,deflate=t=>(0,import_zlib.deflateSync)(t).toString("base64"),inflate=t=>(0,import_zlib.inflateSync)(Buffer.from(t,"base64")).toString(),compareTranslation=(t,e)=>{const s={},i={},n={},a={};for(const[n,_]of Object.entries(e.dict))n in t.dict?t.dict[n]!==_?a[n]={oldValue:t.dict[n],newValue:_}:s[n]=_:i[n]=_;for(const[s,i]of Object.entries(t.dict))s in e.dict||(n[s]=i);return{unchanged:s,added:i,modified:a,removed:n}},i18nOpen=(e,s)=>{navigator.userAgent.match(/Win/i)&&(0,import_child_process.exec)(`start "" "${s}"`,s=>{s?e.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!1,s):e.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!0)}),navigator.userAgent.match(/Mac/i)&&(0,import_child_process.exec)(`open ${s}`,s=>{s?e.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!1,s):e.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!0)})},path3=__toESM(require("path")),fs4=__toESM(require_lib()),import_child_process2=require("child_process"),import_obsidian19=require("obsidian"),import_obsidian16=require("obsidian"),Url=class{};Url.I18N_ICON="https://gitee.com/zero--two/obsidian-i18n-translation/raw/master/Obsidian.png",Url.QQ_GROUP="https://qm.qq.com/cgi-bin/qm/qr?k=kHTS0iC1FC5igTXbdbKzff6_tc54mOF5&jump_from=webapi&authKey=AoSkriW+nDeDzBPqBl9jcpbAYkPXN2QRbrMh0hFbvMrGbqZyRAbJwaD6JKbOy4Nx",Url.VIDEO_TUTORIAL=" https://www.bilibili.com/video/BV1VcxJeNExx/",Url.DOCUMENTATION_TUTORIAL="https://gitee.com/zero--two/obsidian-i18n-translation",Url.TASK="https://gitee.com/zero--two/obsidian-i18n-translation/issues?assignee_id=&author_id=&branch=&collaborator_ids=&issue_search=&label_ids=266056763&label_text=&milestone_id=&priority=&private_issue=&program_id=&project_id=zero--two%2Fobsidian-i18n-translation&project_type=&scope=&single_label_id=&single_label_text=&sort=&state=open&target_project=",Url.SDK_URL="https://download.immersivetranslate.com/immersive-translate-sdk-latest.js";var i,getRandomValues,WizardModal=class extends import_obsidian16.Modal{constructor(t,e){super(t),this.i18n=e}async Main(){const{contentEl:e}=this;this.contentEl.parentElement.addClass("i18n-wizard__container"),this.contentEl.addClass("i18n-wizard__box"),this.img=this.contentEl.doc.createElement("img"),this.img.addClass("i18n-wizard__img"),this.img.src=Url.I18N_ICON,this.contentEl.appendChild(this.img),this.title=this.contentEl.doc.createElement("p"),this.title.addClass("i18n-wizard__title"),this.title.innerHTML="Obsidian-I18N",this.contentEl.appendChild(this.title),this.version=this.contentEl.doc.createElement("p"),this.version.addClass("i18n-wizard__version"),this.version.innerHTML=`版本 ${this.i18n.manifest.version}`,this.contentEl.appendChild(this.version);const s=new import_obsidian16.Setting(e);s.setName(t("WIZARD_VIDEO_TUTORIAL_TITLE_NAME")),s.setDesc(t("WIZARD_VIDEO_TUTORIAL_TITLE_DESC"));const i=new import_obsidian16.ButtonComponent(s.controlEl);i.setButtonText(t("WIZARD_VIDEO_TUTORIAL_BUTTON_TEXT")),i.setCta(),i.setTooltip(""),i.onClick(()=>{window.open(Url.VIDEO_TUTORIAL)});const n=new import_obsidian16.Setting(e);n.setName(t("WIZARD_DOCUMENTATION_TUTORIAL_TITLE_NAME")),n.setDesc(t("WIZARD_DOCUMENTATION_TUTORIAL_TITLE_DESC"));const a=new import_obsidian16.ButtonComponent(n.controlEl);a.setButtonText(t("WIZARD_DOCUMENTATION_TUTORIAL_BUTTON_TEXT")),a.setTooltip(""),a.onClick(()=>{window.open(Url.DOCUMENTATION_TUTORIAL)});const _=new import_obsidian16.Setting(e);_.setName(t("WIZARD_QQ_TITLE_NAME")),_.setDesc(t("WIZARD_QQ_TITLE_DESC"));const o=new import_obsidian16.ButtonComponent(_.controlEl);o.setButtonText(t("WIZARD_QQ_TEXT")),o.setTooltip(""),o.onClick(()=>{window.open(Url.QQ_GROUP)})}async onOpen(){await this.Main()}async onClose(){this.contentEl.empty()}},path2=__toESM(require("path")),fs3=__toESM(require_lib()),import_obsidian17=require("obsidian"),NameTranslationModal=class extends import_obsidian17.Modal{constructor(t,e){super(t),this.i18n=e,this.i18n.originalPluginsManifests.forEach(t=>{!t.name||t.name in this.i18n.nameTranslationJSON||"i18n"==t.id||(this.i18n.nameTranslationJSON[t.name]="")}),fs3.writeJSONSync(path2.join(path2.normalize(this.app.vault.adapter.getBasePath()),path2.join(this.i18n.manifest.dir,"name.json")),this.i18n.nameTranslationJSON,{spaces:4})}async showHead(){this.contentEl.addClass("i18n__item-box");const t=this.contentEl.parentElement;t.addClass("i18n-name__container"),t.removeChild(t.getElementsByClassName("modal-close-button")[0]),this.titleEl.addClass("i18n-share-history__title-box");const e=new import_obsidian17.Setting(this.titleEl);e.setClass("i18n-share-history__title"),e.setName("插件列表");const s=new import_obsidian17.ButtonComponent(e.controlEl);s.setClass("i18n-button"),s.setClass("i18n-button--primary"),s.setButtonText("退出"),s.onClick(()=>{this.close()})}async showMain(){for(const t in this.i18n.nameTranslationJSON){const e=new import_obsidian17.Setting(this.contentEl);e.setClass("i18n__item"),e.nameEl.addClass("i18n__item-title"),e.infoEl.remove();const s=new import_obsidian17.TextComponent(e.controlEl);s.inputEl.addClass("i18n-name__input-auto"),s.setValue(t),s.setDisabled(!0);const i=new import_obsidian17.TextComponent(e.controlEl);i.inputEl.addClass("i18n-name__input-auto"),i.setValue(this.i18n.nameTranslationJSON[t]),i.onChange(e=>{this.i18n.nameTranslationJSON[t]=e,fs3.writeJSONSync(path2.join(this.app.vault.adapter.getBasePath(),path2.join(this.i18n.manifest.dir,"name.json")),this.i18n.nameTranslationJSON,{spaces:4}),this.i18n.reloadPluginsName()})}}async reloadShowData(){let t=0;const e=this.contentEl;t=e.scrollTop,e.empty(),await this.showMain(),e.scrollTo(0,t)}async onOpen(){await this.showHead(),await this.showMain()}async onClose(){this.contentEl.empty()}},import_obsidian18=require("obsidian"),ContributorModal=class extends import_obsidian18.Modal{constructor(t,e){super(t),this.i18n=e}async showHead(){var t;const e=this.contentEl.parentElement;e.addClass("i18n-share-history__container"),e.removeChild(e.getElementsByClassName("modal-close-button")[0]),null==(t=this.titleEl.parentElement)||t.addClass("i18n-contributor__title-box"),this.contentEl.addClass("i18n-contributor__content");const s=new import_obsidian18.Setting(this.titleEl).setClass("i18n-contributor__title").setName("译文贡献榜单");new import_obsidian18.ButtonComponent(s.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setIcon("refresh-ccw").onClick(()=>{this.reloadShowData()})}async showMain(){if(void 0===this.i18n.contributorCache&&(this.i18n.contributorCache=(await this.i18n.api.giteeGetContributor()).data),void 0!==this.i18n.contributorCache){this.i18n.contributorCache.sort((t,e)=>{const s=t.translation+t.modification+t.erasure;return e.translation+e.modification+e.erasure-s});const t=this.contentEl.createEl("table");t.addClass("i18n-contributor__table");let e=1;for(const{name:s,url:i,translation:n,modification:a,erasure:_}of this.i18n.contributorCache){const o=t.createEl("tr",{cls:["i18n-contributor__row"]});o.addEventListener("click",()=>{window.open(i)});const T=e<=3?`i18n-contributor__rank-${e}`:"i18n-contributor__rank-4";o.createEl("td",{text:e.toString(),cls:["i18n-contributor__rank",T]}),e++,o.createEl("td",{text:s,cls:["i18n-contributor__name"]}),o.createEl("td",{text:(n+a+_).toString(),cls:["i18n-contributor__translation"]})}}}async reloadShowData(){let t=0;const e=this.contentEl;t=e.scrollTop,e.empty(),await this.showMain(),e.scrollTo(0,t)}async onOpen(){await this.showHead(),await this.showMain()}async onClose(){this.contentEl.empty()}},I18NModal=class extends import_obsidian19.Modal{constructor(t,e){super(t),this.plugins=[],this.showPlugins=[],this.developerMode=!1,this.i18n=e,this.basePath=path3.normalize(this.app.vault.adapter.getBasePath()),this.settings=e.settings,this.settingPlugins=this.app.setting,this.regexps=[...this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODE],...this.i18n.settings.I18N_RE_TEMP.split("|")].filter(t=>""!==t)}async showHead(){var e;const s=this.contentEl.parentElement;s.addClass("i18n__container"),s.removeChild(s.getElementsByClassName("modal-close-button")[0]),null==(e=this.titleEl.parentElement)||e.addClass("i18n__header"),this.contentEl.addClass("i18n__item-box"),this.detailsEl=document.createElement("div"),this.detailsEl.addClass("i18n__item-details"),this.detailsEl.innerText="无",s.appendChild(this.detailsEl);const i=new import_obsidian19.Setting(this.titleEl).setClass("i18n__help").setName(t("I18N_HELP_TITLE_NAME"));new import_obsidian19.ButtonComponent(i.controlEl).setIcon("i18n_qq").setTooltip(t("I18N_HELP_TITLE_QQ_BUTTON_TIP")).setClass("i18n-button").setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`).onClick(()=>{window.open(Url.QQ_GROUP)}),this.settings.I18N_MODE_NDT&&new import_obsidian19.ButtonComponent(i.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`).setIcon("i18n-contributor").setTooltip("译文贡献榜单").onClick(()=>{new ContributorModal(this.app,this.i18n).open()}),this.settings.I18N_MODE_LDT&&this.settings.I18N_NAME_TRANSLATION&&new import_obsidian19.ButtonComponent(i.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`).setIcon("name-setting").setTooltip("插件列表").onClick(()=>{this.close(),new NameTranslationModal(this.app,this.i18n).open()}),new import_obsidian19.ButtonComponent(i.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`).setIcon("settings").setTooltip(t("I18N_HELP_TITLE_SETTING_BUTTON_TIP")).onClick(()=>{this.settingPlugins.open(),this.settingPlugins.openTabById(this.i18n.manifest.id),this.close()}),new import_obsidian19.ButtonComponent(i.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`).setIcon("circle-help").setTooltip(t("I18N_HELP_TITLE_HELP_BUTTON_TIP")).onClick(()=>{new WizardModal(this.app,this.i18n).open()}),this.developerMode&&new import_obsidian19.ButtonComponent(i.controlEl).setClass("i18n-button").setClass(`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`).setClass(`is-${this.settings.I18N_BUTTON_SHAPE}`).setIcon("refresh-ccw").setTooltip("刷新插件").onClick(async()=>{this.close(),await this.reloadPlugin(this.i18n.manifest.id)});const n=new import_obsidian19.Setting(this.titleEl).setClass("i18n__search").setName(t("I18N_SEARCH_TITLE_NAME"));n.addDropdown(t=>t.addOptions(I18N_SORT).setValue(this.settings.I18N_SORT).onChange(t=>{this.settings.I18N_SORT=t,this.i18n.saveSettings(),this.reloadShowData()}).selectEl.addClass("i18n-select")),n.addDropdown(t=>t.addOptions(I18N_TYPE).setValue(this.settings.I18N_TYPE).onChange(t=>{this.settings.I18N_TYPE=t,this.i18n.saveSettings(),this.reloadShowData()}).selectEl.addClass("i18n-select")),n.addSearch(t=>t.setValue(this.settings.I18N_SEARCH_TEXT).onChange(t=>{this.settings.I18N_SEARCH_TEXT=t,this.i18n.saveSettings(),this.reloadShowData()}).inputEl.addClass("i18n-input")),this.i18n.settings.I18N_RE_TEMP_MODE&&new import_obsidian19.Setting(this.titleEl).setClass("i18n__search").addText(t=>t.setValue(this.settings.I18N_RE_TEMP).setPlaceholder("临时正则表达式(使用|分割)").onChange(t=>{this.settings.I18N_RE_TEMP=t,this.i18n.saveSettings(),this.regexps=[...this.settings.I18N_RE_DATAS[this.settings.I18N_RE_MODE],...this.i18n.settings.I18N_RE_TEMP.split("|")].filter(t=>""!==t)}).inputEl.addClass("i18n__re-input","i18n-input")).infoEl.remove()}async showData(){this.plugins=Object.values(this.app.plugins.manifests),this.plugins=this.plugins.filter(t=>t.id!==this.i18n.manifest.id),this.enabledPlugins=this.app.plugins.enabledPlugins,""==this.settings.I18N_SEARCH_TEXT?this.showPlugins=this.plugins:this.showPlugins=this.plugins.filter(t=>-1!=t.name.toLowerCase().indexOf(this.settings.I18N_SEARCH_TEXT.toLowerCase()));const e=[];switch(this.settings.I18N_TYPE){case"0":break;case"1":for(const t of this.showPlugins)fs4.pathExistsSync(path3.join(this.basePath,t.dir,"lang",`${this.settings.I18N_LANGUAGE}.json`))&&e.push(t.id);this.showPlugins=this.showPlugins.filter(t=>!e.includes(t.id));break;case"2":for(const t of this.showPlugins){const s=path3.join(this.basePath,t.dir),i=path3.join(s,"lang","state.json"),n=fs4.pathExistsSync(i);fs4.pathExistsSync(path3.join(s,"lang"))&&n?0!=fs4.readJsonSync(i).state&&e.push(t.id):e.push(t.id)}this.showPlugins=this.showPlugins.filter(t=>!e.includes(t.id));break;case"3":for(const t of this.showPlugins){const s=path3.join(this.basePath,t.dir),i=path3.join(s,"lang","state.json"),n=fs4.pathExistsSync(i);fs4.pathExistsSync(path3.join(s,"lang"))&&n?1!=fs4.readJsonSync(i).state&&e.push(t.id):e.push(t.id)}this.showPlugins=this.showPlugins.filter(t=>!e.includes(t.id))}switch(this.settings.I18N_SORT){case"0":this.showPlugins.sort((t,e)=>t.name.localeCompare(e.name));break;case"1":this.showPlugins.sort((t,e)=>e.name.localeCompare(t.name))}for(const e of this.showPlugins){const s=path3.join(this.basePath,e.dir),i=path3.join(s,"lang"),n=path3.join(s,"lang",`${this.settings.I18N_LANGUAGE}.json`),a=path3.join(s,"lang","state.json"),_=fs4.pathExistsSync(i),o=fs4.pathExistsSync(n),T=path3.join(s,"manifest.json"),r=path3.join(s,"main.js"),E=path3.join(s,"duplicate.js"),l=new State(this.i18n,a);if(_&&!l.isStateDoc&&l.insert(),l.isStateDoc&&l.getState()&&e.version!=l.getPluginVersion())try{fs4.removeSync(E),l.reset(),this.i18n.notice.primary(t("I18N_UPDATE_HEAD"),e.name)}catch(e){this.i18n.notice.error(t("I18N_UPDATE_HEAD"),e)}let c,I,N,u=!0,d=!1;if(o)try{c=fs4.readJsonSync(n),u=isValidTranslationFormat(c)}catch(t){u=!1}if(c&&!("translationVersion"in c.manifest)){if(l.getState()){fs4.unlinkSync(r),fs4.renameSync(E,r);const t=fs4.readJsonSync(n),e=fs4.readJsonSync(T);e.description=t.description.original,fs4.writeJsonSync(T,e,{spaces:4}),l.reset(),l.setType("extract"),l.setState(!1),l.setTranslationVersion(0)}c={manifest:{translationVersion:new Date("1949-10-01T15:00:00+08:00").getTime(),pluginVersion:c.manifest.pluginVersion},description:c.description,dict:c.dict},fs4.writeJsonSync(n,c,{spaces:4}),u=!0,this.i18n.notice.result("格式转换",!0,e.name)}this.i18n.translationDirectoryMark&&(I=this.i18n.translationDirectory.find(t=>t.id===e.id)),this.i18n.translationDirectoryMark&&I&&u&&(N=e.version in I.translations?e.version:Object.keys(I.translations).slice(-1)[0],c&&(d="download"===l.getType()&&c.manifest.translationVersion<I.translations[N]));const h=new import_obsidian19.Setting(this.contentEl);h.setClass("i18n__item"),h.nameEl.addClass("i18n__item-title");const O={mark:1,label:{color:"",text:""},text:""};if(l.isStateDoc?c&&u?(1===compareVersions(e.version,c.manifest.pluginVersion)?(O.label.color="warning",O.label.text=t("I18N_ITEM_LABEL_D_NAME")):l.getState()?(O.label.color="success",O.label.text=t("I18N_ITEM_LABEL_B_NAME")):(O.label.color="danger",O.label.text=t("I18N_ITEM_LABEL_C_NAME")),O.text=`<span class="i18n-tag i18n-tag--${this.settings.I18N_TAG_TYPE}-primary is-${this.settings.I18N_TAG_SHAPE}">修改日期</span> ${formatTimestamp(fs4.statSync(n).mtimeMs)} <span class="i18n-tag i18n-tag--${this.settings.I18N_TAG_TYPE}-primary is-${this.settings.I18N_TAG_SHAPE}">支持版本</span> ${null==c?void 0:c.manifest.pluginVersion}`):(O.label.color="danger",O.label.text=t("I18N_ITEM_LABEL_E_NAME"),O.text=t("I18N_ITEM_LABEL_E_DESC")):(O.label.color="info",O.label.text=t("I18N_ITEM_LABEL_A_NAME"),O.text=t("I18N_ITEM_LABEL_A_DESC")),this.i18n.ignoreMark&&this.i18n.ignorePlugins.includes(e.id)&&(O.label.color="primary",O.label.text="自带翻译",O.text=t("I18N_ITEM_LABEL_F_DESC")),h.nameEl.innerHTML=`<span class="i18n-tag i18n-tag--${this.settings.I18N_TAG_TYPE}-${O.label.color} is-${this.settings.I18N_TAG_SHAPE}">${O.label.text}</span><span class="i18n__item-name">${e.name}</span> <span class="i18n__item-version">[${e.version}]</span> `,h.settingEl.onmouseover=(t=>{this.detailsEl.innerHTML=O.text}),h.settingEl.onmouseout=(t=>{this.detailsEl.innerHTML="无"}),this.settings.I18N_OPEN_SETTINGS&&this.enabledPlugins.has(e.id)){const s=new import_obsidian19.ExtraButtonComponent(h.controlEl).setIcon("settings").setTooltip(t("I18N_ITEM_OPEN_SETTING_BUTTON_TIP")).onClick(()=>{s.setDisabled(!0),this.settingPlugins.open(),this.settingPlugins.openTabById(e.id),this.close()})}const A=new import_obsidian19.ExtraButtonComponent(h.controlEl).setIcon("folder-open").setTooltip(t("I18N_ITEM_OPEN_DIR_BUTTON_TIP")).onClick(()=>{if(A.setDisabled(!0),navigator.userAgent.match(/Win/i)){const e=`start "" "${s}"`;(0,import_child_process2.exec)(e,e=>{e?this.i18n.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!1,e):this.i18n.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!0)})}if(navigator.userAgent.match(/Mac/i)){const e=`open ${r}`;(0,import_child_process2.exec)(e,e=>{e?this.i18n.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!1,e):this.i18n.notice.result(t("I18N_ITEM_OPEN_DIR_BUTTON_NOTICE_HEAD"),!0)})}A.setDisabled(!1)});if(_){const s=new import_obsidian19.ExtraButtonComponent(h.controlEl).setIcon("trash").setTooltip(t("I18N_ITEM_DELETE_DIR_BUTTON_TIP")).onClick(()=>{s.setDisabled(!0);try{if(l.stateObj.state){fs4.removeSync(r),fs4.renameSync(E,r);const t=fs4.readJsonSync(n);if(t.hasOwnProperty("description")){const e=fs4.readJsonSync(T);e.description=t.description.original,fs4.writeJsonSync(T,e,{spaces:4})}}fs4.removeSync(i),this.reloadPlugin(e.id),this.i18n.notice.result(t("I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD"),!0)}catch(e){this.i18n.notice.result(t("I18N_ITEM_DELETE_DIR_BUTTON_NOTICE_HEAD"),!1,e)}this.reloadShowData()})}if(u&&o&&this.settings.I18N_EDIT_MODE&&new import_obsidian19.ExtraButtonComponent(h.controlEl).setIcon("pencil").setTooltip(t("I18N_ITEM_EDIT_TRANSLATION_BUTTON_TIP")).onClick(()=>{this.i18n.editorTranslationDoc=n,this.i18n.activateEditView()}),this.settings.I18N_SHARE_MODE&&u&&o){const s=new import_obsidian19.ExtraButtonComponent(h.controlEl);s.setIcon("cloud-upload"),s.setTooltip(t("I18N_ITEM_SUBMIT_TRANSLATION_BUTTON_TIP")),s.onClick(()=>{this.i18n.shareTranslationDoc=n,this.i18n.sharePluginObj=e,this.i18n.activateShareView()})}this.settings.I18N_MODE_LDT&&!o&&h.controlEl.createEl("button",{text:t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT"),cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",()=>{try{const s=fs4.readFileSync(r).toString(),a=fs4.readJsonSync(T),_=generateTranslation(e.version,a,s,this.settings.I18N_RE_LENGTH,this.regexps,this.settings.I18N_RE_FLAGS);fs4.ensureDirSync(i),fs4.writeJsonSync(n,_,{spaces:4}),l.insert(),l.setType("extract"),this.i18n.notice.result(t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD"),!0,t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_CONTENT_A"))}catch(e){this.i18n.notice.result(t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,`${e}`)}this.reloadShowData()})}),this.settings.I18N_MODE_LDT&&this.settings.I18N_INCREMENTAL_EXTRACTION&&o&&u&&h.controlEl.createEl("button",{text:t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_TEXT"),cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-info`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",()=>{if(l.isStateDoc&&!l.getState())try{const s=fs4.readJsonSync(n),a=generateTranslation(e.version,fs4.readJsonSync(T),fs4.readFileSync(r).toString(),this.settings.I18N_RE_LENGTH,this.regexps,this.settings.I18N_RE_FLAGS);a.manifest=s.manifest,a.description=s.description,a.dict={...a.dict,...s.dict},fs4.ensureDirSync(i),fs4.writeJsonSync(n,a,{spaces:4}),this.i18n.notice.result(t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD"),!0,`提取译文${Object.keys(a.dict).length-Object.keys(s.dict).length}条`)}catch(e){this.i18n.notice.result(t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,`${e}`)}else this.i18n.notice.result(t("I18N_ITEM_EXTRACT_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,"请还原插件后再进行提取")})}),this.settings.I18N_MODE_NDT&&this.i18n.translationDirectory&&u&&null!=I&&(o||h.controlEl.createEl("button",{text:t("I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_TEXT"),cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-success`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",async()=>{try{fs4.ensureDirSync(i);const s=await this.i18n.api.giteeGetTranslation(e.id,N);s.state?(fs4.writeJsonSync(n,s.data,{spaces:4}),l.insert(),l.setType("download"),this.i18n.notice.result(t("I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD"),!0)):this.i18n.notice.result(t("I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD"),!1)}catch(e){this.i18n.notice.result(t("I18N_ITEM_DOWNLOAD_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,e)}await this.reloadShowData()})}),o&&d&&h.controlEl.createEl("button",{text:t("I18N_ITEM_UPDATE_TRANSLATION_BUTTON_TEXT"),cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-warning`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",async()=>{try{const s=await this.i18n.api.giteeGetTranslation(e.id,N);s.state?(fs4.writeJsonSync(n,s.data,{spaces:4}),l.insert(),l.setType("download"),this.i18n.notice.result(t("I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD"),!0)):this.i18n.notice.result(t("I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD"),!1)}catch(e){this.i18n.notice.result(t("I18N_ITEM_UPDATE_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,e)}await this.reloadShowData()})})),this.settings.I18N_MODE_NIT&&!o&&h.controlEl.createEl("button",{text:API_TYPES[this.settings.I18N_NIT_API],cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-primary`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",async()=>{try{const s=fs4.readFileSync(r).toString(),a=fs4.readJsonSync(T),_=generateTranslation(e.version,a,s,this.settings.I18N_RE_LENGTH,this.regexps,this.settings.I18N_RE_FLAGS),o=/(['"`])(.*)(\1)/;let E=0;if("BAIDU"==this.settings.I18N_NIT_API){const e=await this.i18n.api.baiduAPI(_.description.original);_.description.translation=e.state?e.data:_.description.original,await sleep(this.settings.I18N_NIT_API_INTERVAL);for(const e in _.dict){this.i18n.notice.info(t("I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD"),`${E+=1}/${Object.keys(_.dict).length}`,this.settings.I18N_NIT_API_INTERVAL);const s=e.match(o);if(null!=s){const t=await this.i18n.api.baiduAPI(s[2]);_.dict[e]=t.state?e.replace(s[2],t.data):e,await sleep(this.settings.I18N_NIT_API_INTERVAL)}}}if("OPENAI"==this.settings.I18N_NIT_API){const s=await this.i18n.api.openAI(e.name,_.description.original);_.description.translation="content"in s?s.content:_.description.original,await sleep(this.settings.I18N_NIT_API_INTERVAL);for(const s in _.dict){this.i18n.notice.info(t("I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD"),`${E+=1}/${Object.keys(_.dict).length}`,this.settings.I18N_NIT_API_INTERVAL);const i=s.match(o);if(null!=i){const t=await this.i18n.api.openAI(e.name,i[2]);_.dict[s]="content"in t?s.replace(i[2],t.content):s,await sleep(this.settings.I18N_NIT_API_INTERVAL)}}}fs4.ensureDirSync(i),fs4.writeJsonSync(n,_,{spaces:4}),l.insert(),l.setType("extract")}catch(e){this.i18n.notice.result(t("I18N_ITEM_MACHINE_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,e)}})}),o&&l.isStateDoc&&u&&(0==l.getState()&&h.controlEl.createEl("button",{text:"替换",cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-primary`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",()=>{try{const s=fs4.readJsonSync(n);if(s&&Object.keys(s.dict).every(t=>s.dict[t]===t))return void this.i18n.notice.result(t("I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,"译文未翻译，请先翻译译文");fs4.copySync(r,E);let i=fs4.readFileSync(r).toString();i=this.translationMain(s,i),fs4.writeFileSync(r,i);const a=fs4.readJsonSync(T);a.description=s.description.translation,fs4.writeJsonSync(T,a,{spaces:4}),l.setState(!0),l.setPluginVersion(e.version),l.setTranslationVersion(s.manifest.translationVersion),this.enabledPlugins.has(e.id)&&this.reloadPlugin(e.id)}catch(e){this.i18n.notice.result(t("I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD"),!1,e)}this.reloadShowData()})}),1==l.getState()&&h.controlEl.createEl("button",{text:t("I18N_ITEM_RESTORE_BUTTON_TEXT"),cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-danger`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},s=>{s.addEventListener("click",()=>{try{fs4.unlinkSync(r),fs4.renameSync(E,r);const s=fs4.readJsonSync(n),i=fs4.readJsonSync(T);i.description=s.description.original,fs4.writeJsonSync(T,i,{spaces:4}),l.reset(),this.enabledPlugins.has(e.id)&&this.reloadPlugin(e.id),this.i18n.notice.result(t("I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD"),!0)}catch(e){this.i18n.notice.result(t("I18N_ITEM_RESTORE_BUTTON_NOTICE_HEAD"),!1,e)}this.reloadShowData()})})),this.developerMode&&h.controlEl.createEl("button",{text:"测试",cls:["i18n-button",`i18n-button--${this.settings.I18N_BUTTON_TYPE}-primary`,`is-${this.settings.I18N_BUTTON_SHAPE}`]},t=>{t.addEventListener("click",async()=>{console.log("a")})})}}async reloadShowData(){let t=0;const e=this.contentEl;t=e.scrollTop,e.empty(),await this.showData(),e.scrollTo(0,t)}async onOpen(){await this.showHead(),await this.showData()}async onClose(){this.contentEl.empty()}async reloadPlugin(t){this.enabledPlugins.has(t)&&(await this.app.plugins.disablePlugin(t),await this.app.plugins.enablePlugin(t))}translationMain(e,s){for(const t in e.dict)s=s.replaceAll(t,e.dict[t]);return this.i18n.notice.result(t("I18N_ITEM_TRANSLATION_BUTTON_NOTICE_HEAD"),!0,t("I18N_ITEM_TRANSLATION_BUTTON_NOTICE_CONTENT_A")),s}},byteToHex=[];for(i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(t,e=0){return(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase()}var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native_default={randomUUID:randomUUID};function v4(t,e,s){if(native_default.randomUUID&&!e&&!t)return native_default.randomUUID();var i=(t=t||{}).random||(t.rng||rng)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){s=s||0;for(var n=0;n<16;++n)e[s+n]=i[n];return e}return unsafeStringify(i)}var v4_default=v4,import_obsidian20=require("obsidian"),Icons=()=>{(0,import_obsidian20.addIcon)("cloud-upload",'<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-upload"><path d="M12 13v8"/><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="m8 17 4-4 4 4"/></svg>'),(0,import_obsidian20.addIcon)("circle-help",'<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-help"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><path d="M12 17h.01"/></svg>'),(0,import_obsidian20.addIcon)("i18n_translate",'<svg t="1726147647142" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5625" width="100" height="100"><path d="M213.333333 640v85.333333a85.333333 85.333333 0 0 0 78.933334 85.077334L298.666667 810.666667h128v85.333333H298.666667a170.666667 170.666667 0 0 1-170.666667-170.666667v-85.333333h85.333333z m554.666667-213.333333l187.733333 469.333333h-91.946666l-51.242667-128h-174.506667l-51.157333 128h-91.904L682.666667 426.666667h85.333333z m-42.666667 123.093333L672.128 682.666667h106.325333L725.333333 549.76zM341.333333 85.333333v85.333334h170.666667v298.666666H341.333333v128H256v-128H85.333333V170.666667h170.666667V85.333333h85.333333z m384 42.666667a170.666667 170.666667 0 0 1 170.666667 170.666667v85.333333h-85.333333V298.666667a85.333333 85.333333 0 0 0-85.333334-85.333334h-128V128h128zM256 256H170.666667v128h85.333333V256z m170.666667 0H341.333333v128h85.333334V256z" p-id="5626" fill="currentColor"></path></svg>'),(0,import_obsidian20.addIcon)("i18n_qq_1",'<svg t="1726285705266" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4293" width="100" height="100"><path d="M824.8 613.2c-16-51.4-34.4-94.6-62.7-165.3C766.5 262.2 689.3 112 511.5 112 331.7 112 256.2 265.2 261 447.9c-28.4 70.8-46.7 113.7-62.7 165.3-34 109.5-23 154.8-14.6 155.8 18 2.2 70.1-82.4 70.1-82.4 0 49 25.2 112.9 79.8 159-26.4 8.1-85.7 29.9-71.6 53.8 11.4 19.3 196.2 12.3 249.5 6.3 53.3 6 238.1 13 249.5-6.3 14.1-23.8-45.3-45.7-71.6-53.8 54.6-46.2 79.8-110.1 79.8-159 0 0 52.1 84.6 70.1 82.4 8.5-1.1 19.5-46.4-14.5-155.8z" p-id="4294" fill="currentColor"></path></svg>'),(0,import_obsidian20.addIcon)("i18n_qq",'<svg t="1727053933542" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1762" width="100" height="100"><path d="M538 902l-52 0c-12.667 0-21 2.333-25 7-12.667 12.667-30 22.167-52 28.5s-47.333 9.5-76 9.5c-36.667 0-71-6.333-103-19-4-2-7.833-4.167-11.5-6.5s-6.833-4.5-9.5-6.5-5.167-4.333-7.5-7-4.167-5.167-5.5-7.5-2.333-5-3-8-1-6.167-1-9.5c0-9.333 3.5-17.5 10.5-24.5S221 844.667 237 838c9.333-2.667 15.833-6 19.5-10s5.5-9 5.5-15c0-17.333-2-28-6-32-3.333-4-6.667-9-10-15l-12-16c-3.333-6-6.667-10.667-10-14-6.667-12.667-17.333-19-32-19-4 0-7.5 0.5-10.5 1.5s-6.833 2.833-11.5 5.5-8 4.667-10 6c-12.667 12-21.333 18.333-26 19-7.333 0-11.333-15.333-12-46l0-5c0-21.333 4-57.667 12-109 13.333-38.667 34.667-73 64-103 8.667-8 13-18.667 13-32l0-12c0-19.333 6.333-38.667 19-58 3.333-2.667 5.333-5.5 6-8.5s1-6.5 1-10.5l0-7c0-15.333 1-30.167 3-44.5s5.167-28.167 9.5-41.5 9.833-26.333 16.5-39 14.5-25.167 23.5-37.5 19.167-24.167 30.5-35.5c49.333-55.333 113.333-83 192-83 12.667 0 25 0.667 37 2s23.833 3.5 35.5 6.5 23 6.833 34 11.5 21.667 10 32 16 20.5 13 30.5 21 19.667 16.667 29 26c18 20 33 40 45 60s21.5 41.833 28.5 65.5S794 333.333 794 358l0 7c0 8.667 2 15 6 19 12.667 19.333 19 38.667 19 58l0 12c0 17.333 4.333 28 13 32 30 30 51.333 64.333 64 103 14 43.333 18.333 79.667 13 109 0 15.333-1.5 26.833-4.5 34.5s-7.833 13.167-14.5 16.5c-4.667 0-13.333-6.333-26-19-8.667-8.667-19.333-13-32-13l-12 0c-1.333 0-2.667 0.333-4 1s-2.833 1.167-4.5 1.5-3.167 1.167-4.5 2.5l-4 2-3.5 3.5c0 0-1 1.333-3 4s-2.833 4.167-2.5 4.5c-4.667 12.667-15.333 27.667-32 45-10 10-12.333 20.667-7 32 0 6 5.333 13.333 16 22l3 3c29.333 13.333 44.333 28.333 45 45 0 9.333-3 17.5-9 24.5s-15.667 13.833-29 20.5c-12.667 6-28 10.667-46 14s-37 5-57 5c-53.333 0-96-12.667-128-38 4.667 0 3.667-1.333-3-4L538 902zM685 1024c64 0 115-12.667 153-38 20.667-14 36.5-29.333 47.5-46s16.5-35.667 16.5-57c0-23.333-6.333-44.667-19-64l9 0c2 0 4.833-0.5 8.5-1.5s6.5-2.5 8.5-4.5c36-12 57.333-44 64-96 6-44.667-0.333-96-19-154-2.667-8.667-5.833-17.333-9.5-26s-7.667-17-12-25-9.167-16-14.5-24-10.833-15.667-16.5-23-11.833-15-18.5-23c0-28-6.333-58-19-90 0-32-3.667-62.5-11-91.5s-18.5-56.833-33.5-83.5-34.167-51.667-57.5-75c-10-10-20.333-19.167-31-27.5s-21.5-16-32.5-23-22.333-13.333-34-19S640.833 22 628.5 18 603.667 10.667 591 8s-25.5-4.667-38.5-6S526 0 512 0c-32 0-62.5 3.667-91.5 11S363.667 29.5 337 44.5s-51.667 34.167-75 57.5c-68 76-102 159.333-102 250-12.667 25.333-19 55.333-19 90l0 6c-9.333 7.333-17.833 15.833-25.5 25.5s-14.333 19.667-20 30-10.333 20.167-14 29.5S74 552.333 70 563c-18.667 58-25 109.333-19 154 3.333 24.667 10.667 45.167 22 61.5s25.333 27.833 42 34.5c2 0 6.333 1 13 3s11 3 13 3c-12.667 19.333-19 40.667-19 64 0 44 21.333 78.333 64 103 9.333 6 19.5 11.5 30.5 16.5s22.833 9 35.5 12 25.667 5.333 39 7c13.333 1.667 27.333 2.5 42 2.5 70.667 0 124-15 160-45l32 0C567 1009 620.333 1024 685 1024z" fill="currentColor" p-id="1763"></path></svg>'),(0,import_obsidian20.addIcon)("square-check-big",'<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-check-big"><path d="M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5"/><path d="m9 11 3 3L22 4"/></svg>'),(0,import_obsidian20.addIcon)("name-setting",'<svg t="1728458503829" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5311" width="100" height="100"><path d="M85.357714 797.988571h307.2v121.929143h-307.2V797.988571z m0-313.636571h394.971429v121.856h-394.971429V484.352z m0-313.709714h877.714286V292.571429h-877.714286V170.642286zM806.473143 468.114286l10.24 52.516571c23.113143 7.606857 44.105143 20.187429 61.659428 36.425143l49.737143-17.261714 42.934857 76.068571-39.350857 35.328a179.931429 179.931429 0 0 1 0 72.704l39.350857 35.328-42.934857 76.068572-49.737143-17.188572a170.422857 170.422857 0 0 1-61.659428 36.425143l-10.24 52.443429H720.457143l-10.313143-52.516572a170.934857 170.934857 0 0 1-61.659429-36.425143l-49.737142 17.261715-42.934858-76.068572 39.350858-35.328a179.931429 179.931429 0 0 1 0-72.704L555.885714 615.862857l43.008-76.068571 49.664 17.188571a170.422857 170.422857 0 0 1 61.659429-36.425143l10.24-52.443428h86.016z m-43.008 175.542857a43.446857 43.446857 0 0 0-42.934857 43.885714c0 24.210286 19.236571 43.885714 42.934857 43.885714a43.446857 43.446857 0 0 0 43.008-43.885714c0-24.210286-19.236571-43.885714-43.008-43.885714z" fill="currentColor" p-id="5312"></path></svg>'),(0,import_obsidian20.addIcon)("task",'<svg t="1728534890459" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4292" width="100" height="100"><path d="M663.608889 469.959111a22.186667 22.186667 0 0 0-5.176889 0.512 11.150222 11.150222 0 0 0-3.584-0.512H399.189333a10.126222 10.126222 0 0 0-2.218666 0.227556 27.136 27.136 0 0 0-21.390223 7.281777 28.103111 28.103111 0 0 0-8.931555 21.105778 28.387556 28.387556 0 0 0 8.931555 21.105778 27.591111 27.591111 0 0 0 21.390223 7.338667c0.739556 0.113778 1.422222 0.227556 2.218666 0.227555h255.715556a10.979556 10.979556 0 0 0 3.584-0.568889 22.186667 22.186667 0 0 0 5.176889 0.512 27.989333 27.989333 0 0 0 27.192889-28.615111 28.046222 28.046222 0 0 0-27.249778-28.615111z m103.253333 133.290667a27.761778 27.761778 0 0 0-5.233778 0.568889 12.344889 12.344889 0 0 0-3.527111-0.568889h-358.968889c-0.739556 0-1.422222 0.113778-2.218666 0.227555a27.192889 27.192889 0 0 0-21.390222 7.338667 28.387556 28.387556 0 0 0-8.931556 21.105778 28.273778 28.273778 0 0 0 8.931556 21.105778 26.794667 26.794667 0 0 0 21.390222 7.338666c0.739556 0.113778 1.422222 0.227556 2.218666 0.227556h359.025778a13.084444 13.084444 0 0 0 3.584-0.568889 27.591111 27.591111 0 0 0 32.256-28.103111 27.875556 27.875556 0 0 0-27.136-28.672z m0 133.404444a27.648 27.648 0 0 0-5.233778 0.512 12.288 12.288 0 0 0-3.527111-0.512h-358.968889a15.132444 15.132444 0 0 0-2.218666 0.170667 27.591111 27.591111 0 0 0-21.390222 7.338667 28.387556 28.387556 0 0 0-8.931556 21.105777 27.989333 27.989333 0 0 0 30.321778 28.387556 9.500444 9.500444 0 0 0 2.218666 0.227555h359.025778a12.913778 12.913778 0 0 0 3.584-0.455111 27.648 27.648 0 0 0 32.256-28.16 27.875556 27.875556 0 0 0-27.136-28.615111z m197.916445 223.459556V63.715556S966.314667 0 900.266667 0H119.182222C56.035556 0 54.613333 63.715556 54.613333 63.715556v896.512c0-0.113778-0.170667 63.715556 64.568889 63.715555h184.149334l1.820444 0.056889 1.934222-0.056889h593.180445c67.299556 0 64.512-63.886222 64.512-63.829333z m-712.305778 3.128889H140.572444v0.113777c-28.273778 0-30.606222-29.525333-30.606222-29.525333V86.528c0-28.16 30.663111-29.297778 30.663111-29.297778h111.786667l0.056889 906.012445z m628.622222 3.470222H306.744889V57.287111h286.037333v278.072889l85.560889-88.405333 86.357333 88.405333V57.287111h114.346667c32.028444 0 31.459556 29.354667 31.459556 29.354667v850.716444s0.512 29.354667-29.411556 29.354667z" fill="currentColor" p-id="4293"></path></svg>'),(0,import_obsidian20.addIcon)("a-large-small",'<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-a-large-small"><path d="M21 14h-5"/><path d="M16 16v-3.5a2.5 2.5 0 0 1 5 0V16"/><path d="M4.5 13h6"/><path d="m3 16 4.5-9 4.5 9"/></svg>'),(0,import_obsidian20.addIcon)("i18n-review",'<svg t="1729240794816" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8958" width="100" height="100"><path d="M951.872 595.28 564.08 983.072C551.952 995.2 532.288 995.2 520.144 983.072 517.728 980.64 516.144 977.76 514.688 974.848L328.064 788.208C316.176 776.336 316.176 757.072 328.064 745.2 339.936 733.328 359.2 733.328 371.072 745.2L542.576 916.704 907.936 551.344C920.064 539.216 939.744 539.216 951.872 551.344 964 563.472 964 583.152 951.872 595.28ZM617.296 671.056C599.808 676.928 580.48 668.608 574.112 652.448L498.736 480.176 203.344 480.176 127.968 652.448C121.6 668.608 102.272 676.928 84.784 671.056 67.312 665.168 58.304 647.312 64.656 631.168L318.112 51.904C323.248 38.88 336.816 31.104 351.04 31.6 365.264 31.104 378.832 38.88 383.968 51.904L637.424 631.168C643.776 647.312 634.768 665.168 617.296 671.056ZM351.04 142.624 231.344 416.176 470.736 416.176 351.04 142.624Z" fill="currentColor"  p-id="8959"></path></svg>'),(0,import_obsidian20.addIcon)("i18n-contributor",'<svg t="1729676848596" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4535" width="100" height="100"><path d="M983.16843438 31.92001063l-44.12028343-22.05810365C878.4389764 105.02764549 708.40340055 173.63126834 507.70114909 173.63126834c-195.89389684 0-362.44310986-65.41888744-426.69353642-157.03848197l-41.89069684 26.20749977c57.67443505 81.55180576 173.78280475 137.50751488 306.48740073 163.96908804-156.33197079 58.38094623-267.93497025 209.75103282-267.93497024 387.83812157 0 228.72494218 183.69706262 414.09453498 410.35138222 414.09453498 226.65567786 0 422.39468552-185.41714682 422.39468551-414.09453498 0-88.58974697-29.59875589-170.49752553-78.77059584-237.83622253l-41.032013 20.74562242c44.57136429 60.20157159 71.53836369 133.81327573 71.53836368 213.54581442 0 202.72396043-172.52059409 367.04902125-372.25682655 367.04902127-199.74030863 0-361.63605618-164.32506085-361.63605622-367.04902127 0-202.71852602 161.8957489-367.04358685 361.63605622-367.04358685 4.14532001 0 7.0325068-0.10190075 10.06914702-0.25543166C697.16714958 228.26906315 897.00935893 169.17752959 983.16843438 31.92001063L983.16843438 31.92001063zM457.46138942 414.75277009l-140.74524009 140.74524006c-19.42906636 19.43042464-19.42906636 50.94491261 0 70.37533726l140.74524009 140.74524005c19.43042464 19.43042464 50.95034702 19.43042464 70.37533722 0l140.74524008-140.74524005c19.43042464-19.43042464 19.43042464-50.94491261 0-70.37533726l-140.74524008-140.74524006C508.41173642 395.32370373 476.89181404 395.32370373 457.46138942 414.75277009L457.46138942 414.75277009zM620.92776774 622.22666096l-94.70922322 94.66166921c-17.40327994 17.40327994-45.68547845 17.40327994-63.14174683 0l-94.65623479-94.66166921c-17.40327994-17.4494757-17.40327994-45.68004403 0-63.13495281l94.65623479-94.65623479c17.45626837-17.45626837 45.68547845-17.45626837 63.14174683 0l94.70922322 94.65623479C638.38267651 576.54661826 638.38267651 604.77718661 620.92776774 622.22666096L620.92776774 622.22666096zM620.92776774 622.22666096" fill="currentColor" p-id="4536"></path></svg>')},icon_default=Icons,fs5=__toESM(require_lib()),import_obsidian21=require("obsidian"),import_child_process3=require("child_process"),path4=__toESM(require("path"));function Diff(){}function buildValues(t,e,s,i,n){for(var a,_=[];e;)_.push(e),a=e.previousComponent,delete e.previousComponent,e=a;_.reverse();for(var o=0,T=_.length,r=0,E=0;o<T;o++){var l=_[o];if(l.removed)l.value=t.join(i.slice(E,E+l.count)),E+=l.count;else{if(!l.added&&n){var c=s.slice(r,r+l.count);c=c.map(function(t,e){var s=i[E+e];return s.length>t.length?s:t}),l.value=t.join(c)}else l.value=t.join(s.slice(r,r+l.count));r+=l.count,l.added||(E+=l.count)}}return _}Diff.prototype={diff:function(t,e){var s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.callback;"function"==typeof i&&(n=i,i={});var a=this;function _(t){return t=a.postProcess(t,i),n?(setTimeout(function(){n(t)},0),!0):t}t=this.castInput(t,i),e=this.castInput(e,i),t=this.removeEmpty(this.tokenize(t,i));var o=(e=this.removeEmpty(this.tokenize(e,i))).length,T=t.length,r=1,E=o+T;null!=i.maxEditLength&&(E=Math.min(E,i.maxEditLength));var l=null!==(s=i.timeout)&&void 0!==s?s:1/0,c=Date.now()+l,I=[{oldPos:-1,lastComponent:void 0}],N=this.extractCommon(I[0],e,t,0,i);if(I[0].oldPos+1>=T&&N+1>=o)return _(buildValues(a,I[0].lastComponent,e,t,a.useLongestToken));var u=-1/0,d=1/0;function h(){for(var s=Math.max(u,-r);s<=Math.min(d,r);s+=2){var n=void 0,E=I[s-1],l=I[s+1];E&&(I[s-1]=void 0);var c=!1;if(l){var h=l.oldPos-s;c=l&&0<=h&&h<o}var O=E&&E.oldPos+1<T;if(c||O){if(n=!O||c&&E.oldPos<l.oldPos?a.addToPath(l,!0,!1,0,i):a.addToPath(E,!1,!0,1,i),N=a.extractCommon(n,e,t,s,i),n.oldPos+1>=T&&N+1>=o)return _(buildValues(a,n.lastComponent,e,t,a.useLongestToken));I[s]=n,n.oldPos+1>=T&&(d=Math.min(d,s-1)),N+1>=o&&(u=Math.max(u,s+1))}else I[s]=void 0}r++}if(n)!function t(){setTimeout(function(){if(r>E||Date.now()>c)return n();h()||t()},0)}();else for(;r<=E&&Date.now()<=c;){var O=h();if(O)return O}},addToPath:function(t,e,s,i,n){var a=t.lastComponent;return a&&!n.oneChangePerToken&&a.added===e&&a.removed===s?{oldPos:t.oldPos+i,lastComponent:{count:a.count+1,added:e,removed:s,previousComponent:a.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:e,removed:s,previousComponent:a}}},extractCommon:function(t,e,s,i,n){for(var a=e.length,_=s.length,o=t.oldPos,T=o-i,r=0;T+1<a&&o+1<_&&this.equals(s[o+1],e[T+1],n);)T++,o++,r++,n.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return r&&!n.oneChangePerToken&&(t.lastComponent={count:r,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=o,T},equals:function(t,e,s){return s.comparator?s.comparator(t,e):t===e||s.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],s=0;s<t.length;s++)t[s]&&e.push(t[s]);return e},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};var characterDiff=new Diff;function longestCommonPrefix(t,e){var s;for(s=0;s<t.length&&s<e.length;s++)if(t[s]!=e[s])return t.slice(0,s);return t.slice(0,s)}function longestCommonSuffix(t,e){var s;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(s=0;s<t.length&&s<e.length;s++)if(t[t.length-(s+1)]!=e[e.length-(s+1)])return t.slice(-s);return t.slice(-s)}function replacePrefix(t,e,s){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return s+t.slice(e.length)}function replaceSuffix(t,e,s){if(!e)return t+s;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+s}function removePrefix(t,e){return replacePrefix(t,e,"")}function removeSuffix(t,e){return replaceSuffix(t,e,"")}function maximumOverlap(t,e){return e.slice(0,overlapCount(t,e))}function overlapCount(t,e){var s=0;t.length>e.length&&(s=t.length-e.length);var i=e.length;t.length<e.length&&(i=t.length);var n=Array(i),a=0;n[0]=0;for(var _=1;_<i;_++){for(e[_]==e[a]?n[_]=n[a]:n[_]=a;a>0&&e[_]!=e[a];)a=n[a];e[_]==e[a]&&a++}a=0;for(var o=s;o<t.length;o++){for(;a>0&&t[o]!=e[a];)a=n[a];t[o]==e[a]&&a++}return a}var extendedWordChars="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",tokenizeIncludingWhitespace=new RegExp("[".concat(extendedWordChars,"]+|\\s+|[^").concat(extendedWordChars,"]"),"ug"),wordDiff=new Diff;function diffWords(t,e,s){return null==(null==s?void 0:s.ignoreWhitespace)||s.ignoreWhitespace?wordDiff.diff(t,e,s):diffWordsWithSpace(t,e,s)}function dedupeWhitespaceInChangeObjects(t,e,s,i){if(e&&s){var n=e.value.match(/^\s*/)[0],a=e.value.match(/\s*$/)[0],_=s.value.match(/^\s*/)[0],o=s.value.match(/\s*$/)[0];if(t){var T=longestCommonPrefix(n,_);t.value=replaceSuffix(t.value,_,T),e.value=removePrefix(e.value,T),s.value=removePrefix(s.value,T)}if(i){var r=longestCommonSuffix(a,o);i.value=replacePrefix(i.value,o,r),e.value=removeSuffix(e.value,r),s.value=removeSuffix(s.value,r)}}else if(s)t&&(s.value=s.value.replace(/^\s*/,"")),i&&(i.value=i.value.replace(/^\s*/,""));else if(t&&i){var E=i.value.match(/^\s*/)[0],l=e.value.match(/^\s*/)[0],c=e.value.match(/\s*$/)[0],I=longestCommonPrefix(E,l);e.value=removePrefix(e.value,I);var N=longestCommonSuffix(removePrefix(E,I),c);e.value=removeSuffix(e.value,N),i.value=replacePrefix(i.value,E,N),t.value=replaceSuffix(t.value,E,E.slice(0,E.length-N.length))}else if(i){var u=i.value.match(/^\s*/)[0],d=maximumOverlap(e.value.match(/\s*$/)[0],u);e.value=removeSuffix(e.value,d)}else if(t){var h=maximumOverlap(t.value.match(/\s*$/)[0],e.value.match(/^\s*/)[0]);e.value=removePrefix(e.value,h)}}wordDiff.equals=function(t,e,s){return s.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()},wordDiff.tokenize=function(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s.intlSegmenter){if("word"!=s.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');e=Array.from(s.intlSegmenter.segment(t),function(t){return t.segment})}else e=t.match(tokenizeIncludingWhitespace)||[];var i=[],n=null;return e.forEach(function(t){/\s/.test(t)?null==n?i.push(t):i.push(i.pop()+t):/\s/.test(n)?i[i.length-1]==n?i.push(i.pop()+t):i.push(n+t):i.push(t),n=t}),i},wordDiff.join=function(t){return t.map(function(t,e){return 0==e?t:t.replace(/^\s+/,"")}).join("")},wordDiff.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var s=null,i=null,n=null;return t.forEach(function(t){t.added?i=t:t.removed?n=t:((i||n)&&dedupeWhitespaceInChangeObjects(s,n,i,t),s=t,i=null,n=null)}),(i||n)&&dedupeWhitespaceInChangeObjects(s,n,i,null),t};var wordWithSpaceDiff=new Diff;function diffWordsWithSpace(t,e,s){return wordWithSpaceDiff.diff(t,e,s)}wordWithSpaceDiff.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(extendedWordChars,"]+|[^\\S\\n\\r]+|[^").concat(extendedWordChars,"]"),"ug");return t.match(e)||[]};var lineDiff=new Diff;lineDiff.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,"\n"));var s=[],i=t.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var n=0;n<i.length;n++){var a=i[n];n%2&&!e.newlineIsToken?s[s.length-1]+=a:s.push(a)}return s},lineDiff.equals=function(t,e,s){return s.ignoreWhitespace?(s.newlineIsToken&&t.includes("\n")||(t=t.trim()),s.newlineIsToken&&e.includes("\n")||(e=e.trim())):s.ignoreNewlineAtEof&&!s.newlineIsToken&&(t.endsWith("\n")&&(t=t.slice(0,-1)),e.endsWith("\n")&&(e=e.slice(0,-1))),Diff.prototype.equals.call(this,t,e,s)};var sentenceDiff=new Diff;sentenceDiff.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var cssDiff=new Diff;function _typeof(t){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}cssDiff.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var jsonDiff=new Diff;function canonicalize(t,e,s,i,n){var a,_;for(e=e||[],s=s||[],i&&(t=i(n,t)),a=0;a<e.length;a+=1)if(e[a]===t)return s[a];if("[object Array]"===Object.prototype.toString.call(t)){for(e.push(t),_=new Array(t.length),s.push(_),a=0;a<t.length;a+=1)_[a]=canonicalize(t[a],e,s,i,n);return e.pop(),s.pop(),_}if(t&&t.toJSON&&(t=t.toJSON()),"object"===_typeof(t)&&null!==t){e.push(t),_={},s.push(_);var o,T=[];for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&T.push(o);for(T.sort(),a=0;a<T.length;a+=1)_[o=T[a]]=canonicalize(t[o],e,s,i,o);e.pop(),s.pop()}else _=t;return _}jsonDiff.useLongestToken=!0,jsonDiff.tokenize=lineDiff.tokenize,jsonDiff.castInput=function(t,e){var s=e.undefinedReplacement,i=e.stringifyReplacer,n=void 0===i?function(t,e){return void 0===e?s:e}:i;return"string"==typeof t?t:JSON.stringify(canonicalize(t,null,null,n),n,"  ")},jsonDiff.equals=function(t,e,s){return Diff.prototype.equals.call(jsonDiff,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),s)};var arrayDiff=new Diff;arrayDiff.tokenize=function(t){return t.slice()},arrayDiff.join=arrayDiff.removeEmpty=function(t){return t};var EDIT_VIEW_TYPE="i18n-edit-view",EditorView=class extends import_obsidian21.ItemView{constructor(t,e){super(t),this.notices=[],this.translationDict=[],this.i18n=e,this.i18n.notice.reload(),this.translationDoc=this.i18n.editorTranslationDoc}onload(){var e,s;""!=this.translationDoc&&(this.translationJson=fs5.readJsonSync(this.translationDoc));const i=this.contentEl;null==(e=i.parentElement)||e.getElementsByClassName("view-header")[0].remove(),i.addClass("i18n-edit__container");const n=i.createEl("div");n.addClass("i18n-edit__manifest");const a=n.createEl("span");a.textContent="译文版本",a.addClass("i18n-edit__label-wrap");const _=n.createEl("input");_.addClass("i18n-edit__plugin-version-input"),_.disabled=!0;const o=n.createEl("span");o.textContent="旧描述",o.addClass("i18n-edit__label-wrap");const T=n.createEl("input");T.addClass("i18n-edit__description-input"),T.disabled=!0;const r=i.createEl("div");r.addClass("i18n-edit__manifest");const E=r.createEl("span");E.textContent="插件版本",E.addClass("i18n-edit__label-wrap");const l=r.createEl("input");l.addClass("i18n-edit__plugin-version-input");const c=r.createEl("span");c.textContent="新描述",c.addClass("i18n-edit__label-wrap");const I=r.createEl("input");if(I.addClass("i18n-edit__description-input"),this.i18n.settings.I18N_MODE_NIT&&"BAIDU"==this.i18n.settings.I18N_NIT_API&&null!=this.translationJson){const t=new import_obsidian21.ButtonComponent(r);t.setClass("i18n-button"),t.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),t.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),t.setClass("i18n-button--left"),t.setButtonText("百度"),t.onClick(async()=>{try{const t=await this.i18n.api.baiduAPI(I.value);t.state&&(I.value=t.data),this.translationJson.description.translation=t.data}catch(t){console.log(t)}})}const N=i.createEl("div");N.addClass("i18n-edit__dict");const u=i.createEl("div");u.addClass("i18n-edit__search");const d=i.createEl("div");if(d.addClass("i18n-edit__operate"),null!=this.translationJson){_.value=formatTimestamp_concise(this.translationJson.manifest.translationVersion),T.value=this.translationJson.description.original,l.value=this.translationJson.manifest.pluginVersion,l.addEventListener("input",()=>{this.translationJson.manifest.pluginVersion=l.value}),I.value=this.translationJson.description.translation,I.addEventListener("input",()=>{this.translationJson.description.translation=I.value});const e=N.createEl("table");e.addClass("i18n-edit__table");for(const s in this.translationJson.dict)if(this.translationJson.dict.hasOwnProperty(s)){const i=e.createEl("tr");i.addClass("i18n-edit__table-row");const n={key:s,value:this.translationJson.dict[s],el:i};this.translationDict.push(n);const a=i.createEl("td");a.addClass("i18n-edit__table-key");const _=i.createEl("td");_.addClass("i18n-edit__table-value"),_.setAttribute("contenteditable","true"),_.addEventListener("input",()=>{_.textContent&&(n.value=_.textContent);const t=this.diff(n.key,n.value);a.innerHTML=t.s1}),_.addEventListener("blur",()=>{const t=this.diff(n.key,n.value);a.innerHTML=t.s1,_.innerHTML=t.s2}),this.i18n.settings.I18N_MODE_NIT&&i.createEl("td").createEl("button",{text:"AI",cls:["i18n-basic-button","i18n-basic-button--primary"]},async t=>{t.addEventListener("click",async()=>{const t=/(['"`])(.*)(\1)/;if("BAIDU"==this.i18n.settings.I18N_NIT_API){const e=n.key.match(t);if(null!=e){const t=await this.i18n.api.baiduAPI(e[2]),s=t.state?n.key.replace(e[2],t.data):n.key,i=this.diff(n.key,s);n.value=s,a.innerHTML=i.s1,_.innerHTML=i.s2,this.i18n.notice.success("译文编辑器","翻译成功")}}if("OPENAI"==this.i18n.settings.I18N_NIT_API){const e=n.key.match(t);if(null!=e){const t=await this.i18n.api.openAI("",e[2]);let i="";i="content"in t?s.replace(e[2],t.content):s;const o=this.diff(n.key,i);n.value=i,a.innerHTML=o.s1,_.innerHTML=o.s2,this.i18n.notice.success("译文编辑器","翻译成功")}}})}),i.createEl("td").createEl("button",{text:"还原",cls:["i18n-basic-button","i18n-basic-button--warning"]},async e=>{e.addEventListener("click",async()=>{n.value=n.key,a.textContent=n.key,_.textContent=n.key,this.i18n.notice.success(t("EDITOR_PUBLIC_HEAD"),t("EDITOR_RESTORE_ITEM_BUTTON_NOTICE_CONTENT_A"),1e3)})}),i.createEl("td").createEl("button",{text:"删除",cls:["i18n-basic-button","i18n-basic-button--danger"]},async e=>{e.addEventListener("click",async()=>{i.remove(),this.translationDict=this.translationDict.filter(t=>t.key!==n.key),this.i18n.notice.success(t("EDITOR_PUBLIC_HEAD"),t("EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A"),1e3)})});const o=this.diff(n.key,n.value);a.innerHTML=o.s1,_.innerHTML=o.s2}let i,n=0,a=!1,o=!1;const r=new import_obsidian21.SearchComponent(u);r.onChange(t=>{(i=o?this.translationDict.filter(e=>e.key.includes(t)||e.value.includes(t)):this.translationDict.filter(e=>e.key.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase()))).length>0&&""!==t?(a=!0,O.setButtonText(`${n+1}/${i.length}`),i[n=0].el.scrollIntoView({behavior:"auto",block:"center"}),i[n].el.classList.remove("animate"),i[n].el.offsetWidth,i[n].el.classList.add("animate")):(a=!1,O.setButtonText("0/0"))}),r.setClass("i18n-edit__search-box"),r.inputEl.addClass("i18n-edit__search-input");const E=new import_obsidian21.ButtonComponent(u);E.setClass("i18n-button"),E.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),E.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),E.setClass("i18n-button--left"),E.setIcon("a-large-small"),E.onClick(()=>{o?(o=!1,E.buttonEl.removeClass("i18n-button--success"),E.setClass("i18n-button--primary")):(o=!0,E.buttonEl.removeClass("i18n-button--primary"),E.setClass("i18n-button--success"))});const c=new import_obsidian21.ButtonComponent(u);c.setClass("i18n-button"),c.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),c.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),c.setClass("i18n-button--left"),c.setIcon("arrow-up"),c.onClick(()=>{a&&(n>0?n-=1:0==n&&(n=i.length-1),O.setButtonText(`${n+1}/${i.length}`),i[n].el.scrollIntoView({behavior:"auto",block:"center"}),i[n].el.classList.remove("animate"),i[n].el.offsetWidth,i[n].el.classList.add("animate"))});const h=new import_obsidian21.ButtonComponent(u);h.setClass("i18n-button"),h.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),h.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),h.setClass("i18n-button--left"),h.setIcon("arrow-down"),h.onClick(()=>{a&&(n<i.length-1?n+=1:n==i.length-1&&(n=0),O.setButtonText(`${n+1}/${i.length}`),i[n].el.scrollIntoView({behavior:"auto",block:"center"}),i[n].el.classList.remove("animate"),i[n].el.offsetWidth,i[n].el.classList.add("animate"))});const O=new import_obsidian21.ButtonComponent(u);O.setClass("i18n-button"),O.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),O.setClass("i18n-button--left"),O.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),O.setButtonText("0/0");const A=new import_obsidian21.SearchComponent(d);null==(s=A.inputEl.parentElement)||s.addClass("i18n-edit__operate-input"),A.onChange(t=>{});const S=new import_obsidian21.ButtonComponent(d);S.setClass("i18n-button"),S.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),S.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),S.setClass("i18n-button--left"),S.setButtonText(t("EDITOR_INSERT_ITEM_BUTTON_TEXT")),S.onClick(()=>{const s=A.inputEl.value;if(A.inputEl.value="",void 0===this.translationDict.find(t=>t.key===s)){const i=e.createEl("tr");i.addClass("i18n-edit__table-row");const n={key:s,value:s,el:i};this.translationDict.push(n);const a=i.createEl("td");a.addClass("i18n-edit__table-key");const _=i.createEl("td");_.addClass("i18n-edit__table-value"),_.setAttribute("contenteditable","true"),_.addEventListener("input",()=>{_.textContent&&(n.value=_.textContent);const t=this.diff(n.key,n.value);a.innerHTML=t.s1}),_.addEventListener("blur",()=>{const t=this.diff(n.key,n.value);a.innerHTML=t.s1,_.innerHTML=t.s2}),this.i18n.settings.I18N_MODE_NIT&&i.createEl("td").createEl("button",{text:"AI",cls:["i18n-basic-button","i18n-basic-button--primary"]},async t=>{t.addEventListener("click",async()=>{const t=/(['"`])(.*)(\1)/;if("BAIDU"==this.i18n.settings.I18N_NIT_API){const e=n.key.match(t);if(null!=e){const t=await this.i18n.api.baiduAPI(e[2]),s=t.state?n.key.replace(e[2],t.data):n.key,i=this.diff(n.key,s);n.value=s,a.innerHTML=i.s1,_.innerHTML=i.s2,this.i18n.notice.success("译文编辑器","翻译成功")}}if("OPENAI"==this.i18n.settings.I18N_NIT_API){const e=n.key.match(t);if(null!=e){const t=await this.i18n.api.openAI("",e[2]);let i="";i="content"in t?s.replace(e[2],t.content):s;const o=this.diff(n.key,i);n.value=i,a.innerHTML=o.s1,_.innerHTML=o.s2,this.i18n.notice.success("译文编辑器","翻译成功")}}})}),i.createEl("td").createEl("button",{text:"还原",cls:["i18n-basic-button","i18n-basic-button--warning"]},async e=>{e.addEventListener("click",async()=>{n.value=n.key,a.textContent=n.key,_.textContent=n.key,this.i18n.notice.success(t("EDITOR_PUBLIC_HEAD"),t("EDITOR_RESTORE_ITEM_BUTTON_NOTICE_CONTENT_A"),1e3)})}),i.createEl("td").createEl("button",{text:"删除",cls:["i18n-basic-button","i18n-basic-button--danger"]},async e=>{e.addEventListener("click",async()=>{i.remove(),this.translationDict=this.translationDict.filter(t=>t.key!==n.key),this.i18n.notice.success(t("EDITOR_PUBLIC_HEAD"),t("EDITOR_DELETE_ITEM_BUTTON_NOTICE_CONTENT_A"),1e3)})});const o=this.diff(n.key,n.value);a.innerHTML=o.s1,_.innerHTML=o.s2,i.scrollIntoView({behavior:"auto",block:"center"}),this.i18n.notice.success(t("EDITOR_PUBLIC_HEAD"),t("EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_A"),1e3)}else this.i18n.notice.error(t("EDITOR_PUBLIC_HEAD"),t("EDITOR_INSERT_ITEM_BUTTON_NOTICE_CONTENT_B"))});const p=new import_obsidian21.ButtonComponent(d);p.setClass("i18n-button"),p.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),p.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),p.setClass("i18n-button--left"),p.setButtonText("删除"),p.setTooltip("一键删除所有未翻译项"),p.onClick(()=>{const e=this.translationDict.length;this.translationDict=this.translationDict.filter(t=>{const e=t.key===t.value;return e&&t.el.remove(),!e});const s=e-this.translationDict.length;this.i18n.notice.success(t("EDITOR_PUBLIC_HEAD"),`共删除${s}项未翻译内容`)});const m=new import_obsidian21.ButtonComponent(d);m.setClass("i18n-button"),m.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),m.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),m.setButtonText("插件").setTooltip("打开main.js文件"),m.setClass("i18n-button--left"),m.onClick(async()=>{if(navigator.userAgent.match(/Win/i)){const e=`start "" "${path4.join(this.translationDoc.split("\\").slice(0,-2).join("\\"),"main.js")}"`;console.log(e),(0,import_child_process3.exec)(e,e=>{e?this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!1,e):this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!0,"",1e3)})}if(navigator.userAgent.match(/Mac/i)){const e=`open ${path4.join(this.translationDoc.split("\\").slice(0,-2).join("\\"),"main.js")}`;(0,import_child_process3.exec)(e,e=>{e?this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!1,e):this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!0,"",1e3)})}});const C=new import_obsidian21.ButtonComponent(d);C.setClass("i18n-button"),C.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`),C.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),C.setClass("i18n-button--left"),C.setButtonText("译文").setTooltip("打开译文文件"),C.onClick(async()=>{if(navigator.userAgent.match(/Win/i)){const e=`start "" "${this.translationDoc}"`;(0,import_child_process3.exec)(e,e=>{e?this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!1,e):this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!0,"",1e3)})}if(navigator.userAgent.match(/Mac/i)){const e=`open ${this.translationDoc}`;(0,import_child_process3.exec)(e,e=>{e?this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!1,e):this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!0,"",1e3)})}});const g=new import_obsidian21.ButtonComponent(d);g.setClass("i18n-button"),g.setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-success`),g.setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`),g.setClass("i18n-button--left"),g.setButtonText(t("EDITOR_SAVE_TRANSLATION_BUTTON_TEXT")),g.onClick(async()=>{try{const e={};this.translationDict.forEach(t=>{e[t.key]=t.value}),this.translationJson.dict=e,fs5.writeJsonSync(this.translationDoc,this.translationJson,{spaces:4}),this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!0,"",1e3)}catch(e){this.i18n.notice.result(t("EDITOR_PUBLIC_HEAD"),!1,e)}})}}async onunload(){this.i18n.notice.reload(),this.translationDoc=""}diff(t,e){const s=diffWords(t,e);let i="",n="";return s.forEach(t=>{t.added?n+=`<span class='color__text--success'>${t.value}</span>`:t.removed?i+=`<span class='color__text--danger'>${t.value}</span>`:(i+=t.value,n+=t.value)}),{s1:i,s2:n}}async onOpen(){}async onClose(){this.contentEl.empty(),this.i18n.detachEditView()}focus(){this.focus(),this.onClose()}getViewType(){return EDIT_VIEW_TYPE}getDisplayText(){return t("EDITOR_PUBLIC_HEAD")}getIcon(){return"i18n_translate"}},import_obsidian22=require("obsidian"),AgreementModal=class extends import_obsidian22.Modal{constructor(t,e){super(t),this.areement_1=!1,this.areement_2=!1,this.i18n=e}async Main(){this.contentEl.parentElement.addClass("i18n-areement__container"),this.titleEl.innerHTML="使用协议(请仔细阅读)";const t=this.contentEl;t.innerHTML="\n        <p class='i18n-agreement__text'>1. 插件翻译过程涉及直接修改原插件的源代码。尽管i18n工具会事先备份原始文件，但操作仍存在一定风险。</p>\n        <p class='i18n-agreement__text'>2. 强烈建议在首次尝试翻译插件之前，先备份您的插件目录。通常，插件目录位于 .obsidian/plugins 文件夹内。备份可以确保您的数据安全。</p>\n        <p class='i18n-agreement__text'>3. 在进行翻译时，请耐心等待。直到翻译成功或明确得知失败结果后，再继续您的后续操作。</p>\n        <p class='i18n-agreement__text'>4. 若在使用本插件进行翻译后，发现原插件的某些功能受到影响而失效，请卸载重新安装原插件，随后再次检验功能是否恢复正常。若问题依旧存在，再去原插件作者项目地址提交issues，避免因本插件导致原插件失效，去打扰原作者。(重要！重要！重要！)</p>\n        ";const e=new import_obsidian22.Setting(t);e.setClass("i18n-agreement__item"),e.setName("我已知晓风险"),e.addButton(t=>t.setClass("i18n-agreement__check-button").setIcon(this.areement_1?"square-check-big":"square").onClick(()=>{this.areement_1=!this.areement_1,t.setIcon(this.areement_1?"square-check-big":"square")}));const s=new import_obsidian22.Setting(t);s.setClass("i18n-agreement__item"),s.setName("如果遇到翻译后插件失效，点击还原即可恢复正常"),s.addButton(t=>t.setClass("i18n-agreement__check-button").setIcon(this.areement_2?"square-check-big":"square").onClick(()=>{this.areement_2=!this.areement_2,t.setIcon(this.areement_2?"square-check-big":"square")}));const i=new import_obsidian22.Setting(t);i.setClass("i18n-agreement__operate");const n=new import_obsidian22.ButtonComponent(i.controlEl);n.setButtonText("同意"),n.setCta(),n.onClick(async()=>{!0===this.areement_1&&!0===this.areement_2?(this.i18n.notice.result("I18N协议",!0),this.i18n.settings.I18N_AGREEMENT=!0,this.i18n.saveSettings(),await this.app.plugins.disablePlugin("i18n"),await this.app.plugins.enablePlugin("i18n"),this.close()):this.i18n.notice.result("I18N协议",!1,"请勾选使用协议")});const a=new import_obsidian22.ButtonComponent(i.controlEl);a.setButtonText("不同意"),a.onClick(async()=>{await this.app.plugins.disablePlugin("i18n"),this.close()})}async onOpen(){await this.Main()}async onClose(){this.contentEl.empty()}},Commands=(t,e)=>{e.addCommand({id:"i18n-translate",name:"打开翻译面板",callback:()=>{new I18NModal(t,e).open()}}),e.addCommand({id:"i18n-help",name:"打开帮助面板",callback:()=>{new WizardModal(t,e).open()}})},command_default=Commands,fs6=__toESM(require_lib()),import_obsidian24=require("obsidian"),import_obsidian23=require("obsidian"),AgreementConfirmModal=class extends import_obsidian23.Modal{constructor(t,e,s){super(t),this.name="",this.i18n=e,this.onSubmit=s}async showHead(){const t=this.contentEl.parentElement;t.addClass("i18n-share-history__container"),t.removeChild(t.getElementsByClassName("modal-close-button")[0]),this.titleEl.addClass("i18n-share-history__title-box");const e=new import_obsidian23.Setting(this.titleEl);e.setClass("i18n-share-history__title"),e.setName("提交译文")}async showMain(){new import_obsidian23.Setting(this.contentEl).setName("请输入").addText(t=>t.setValue("我已仔细检查译文").setDisabled(!0)),new import_obsidian23.Setting(this.contentEl).setName("请输入").addText(t=>t.onChange(t=>{this.name=t}));const t=new import_obsidian23.Setting(this.contentEl);t.controlEl.createEl("button",{text:"确认",cls:["i18n-button",`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`,`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`]},t=>{t.addEventListener("click",()=>{this.onSubmit(this.name),this.close()})}),t.controlEl.createEl("button",{text:"取消",cls:["i18n-button",`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-info`,`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`]},t=>{t.addEventListener("click",()=>{this.close()})})}async onOpen(){await this.showHead(),await this.showMain()}async onClose(){this.contentEl.empty()}},SHARE_VIEW_TYPE="i18n-share-view",ShareView=class extends import_obsidian24.ItemView{constructor(t,e){super(t),this.notices=[],this.localTranslationJson=void 0,this.count=0,this.verify=!0,this.updateMark=!1,this.i18n=e,this.i18n.notice.reload(),this.PluginObj=this.i18n.sharePluginObj,this.translationDoc=this.i18n.shareTranslationDoc}async onload(){var t,e;if(""!=this.translationDoc){this.localTranslationJson=fs6.readJsonSync(this.translationDoc);const t=(await this.i18n.api.giteeGetDirectory()).data;this.cloudTranslationJson=t.find(t=>t.id===this.PluginObj.id),this.cloudTranslationJson&&this.localTranslationJson&&this.localTranslationJson.manifest.pluginVersion in this.cloudTranslationJson.translations&&(this.updateMark=!0)}if(this.localTranslationJson&&!this.updateMark){const e=this.contentEl;e.addClass("i18n-share__container"),null==(t=e.parentElement)||t.getElementsByClassName("view-header")[0].remove();const s=e.createEl("div");s.addClass("i18n-edit__manifest"),s.createEl("span",{text:"译文版本",cls:"i18n-edit__label-wrap"}),s.createEl("input",{value:formatTimestamp_concise(this.localTranslationJson.manifest.translationVersion),cls:["i18n-edit__plugin-version-input"]}).disabled=!0,s.createEl("span",{text:"旧描述",cls:"i18n-edit__label-wrap"}),s.createEl("input",{value:this.localTranslationJson.description.original,cls:["i18n-edit__description-input"]}).disabled=!0;const i=e.createEl("div",{cls:"i18n-share__manifest"});i.createEl("span",{text:"插件版本",cls:"i18n-edit__label-wrap"}),i.createEl("input",{value:this.localTranslationJson.manifest.pluginVersion,cls:["i18n-edit__plugin-version-input"]}).disabled=!0,i.createEl("span",{text:"新描述",cls:"i18n-share__label-wrap"}),i.createEl("input",{value:this.localTranslationJson.description.translation,cls:["i18n-edit__description-input"]}).disabled=!0,i.createEl("button",{text:"提交译文",cls:["i18n-button",`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-success`,`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`,"i18n-button--left"]},async t=>{t.addEventListener("click",async()=>{new AgreementConfirmModal(this.app,this.i18n,async t=>{if("我已仔细检查译文"===t)if(this.verify){const t=await this.i18n.api.giteePostIssue(`[提交译文] ${this.PluginObj.id}`,deflate(JSON.stringify(this.localTranslationJson)),"提交译文");(null==t?void 0:t.state)&&window.open(`https://gitee.com/zero--two/obsidian-i18n-translation/issues/${t.data.number}`),this.i18n.notice.result("提交译文",!0)}else this.i18n.notice.result("提交译文",!1,"请检查后重试");else this.i18n.notice.result("更新译文",!1,'请输入 "我已仔细检查译文"')}).open()})});const n=[],a=e.createEl("div");a.addClass("i18n-share__dict");const _=a.createEl("table");_.addClass("i18n-share__table");for(const t in this.localTranslationJson.dict)if(this.localTranslationJson.dict.hasOwnProperty(t)){t===this.localTranslationJson.dict[t]&&n.push(this.count);const e=_.createEl("tr",{cls:"i18n-share__table-row"});e.createEl("td",{text:this.count.toString(),cls:"i18n-share__table-count"}),this.count+=1;const s=e.createEl("td",{cls:"i18n-share__table-key"}),i=e.createEl("td",{cls:"i18n-share__table-value"}),a=diffWords(t,this.localTranslationJson.dict[t]);let o="",T="";a.forEach(t=>{t.added?T+=`<span class='color__text--success'>${t.value}</span>`:t.removed?o+=`<span class='color__text--danger'>${t.value}</span>`:(o+=t.value,T+=t.value)}),s.innerHTML=o,i.innerHTML=T}this.localTranslationJson.description.original===this.localTranslationJson.description.translation&&e.createEl("div",{text:"[提示] 描述未翻译",cls:"i18n-share__tip-warning"}),n.length>0&&e.createEl("div",{text:`[提示] ${n.join(",")} 行未翻译`,cls:"i18n-share__tip-warning"}),this.localTranslationJson||(e.createEl("div",{text:"[提示] JSON格式有误，请检查后重试",cls:"i18n-share__tip-danger"}),this.verify=!1),2*n.length>=Object.keys(this.localTranslationJson.dict).length&&(e.createEl("div",{text:"[提示] 译文内容未超过50%",cls:"i18n-share__tip-danger"}),this.verify=!1)}if(this.localTranslationJson&&this.updateMark){const t=await this.i18n.api.giteeGetTranslation(this.PluginObj.id,this.localTranslationJson.manifest.pluginVersion),s=this.contentEl;s.addClass("i18n-share-update__container"),null==(e=s.parentElement)||e.getElementsByClassName("view-header")[0].remove(),s.createEl("div",{cls:"i18n-share-update__operate"}).createEl("button",{text:"更新译文",cls:["i18n-button",`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-success`,`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`,"i18n-button--left"]},async t=>{t.addEventListener("click",async()=>{new AgreementConfirmModal(this.app,this.i18n,async t=>{if("我已仔细检查译文"===t)if(this.verify){const t=await this.i18n.api.giteePostIssue(`[更新译文] ${this.PluginObj.id}`,deflate(JSON.stringify(this.localTranslationJson,null,4)),"更新译文");(null==t?void 0:t.state)&&window.open(`https://gitee.com/zero--two/obsidian-i18n-translation/issues/${t.data.number}`),this.i18n.notice.result("更新译文",!0)}else this.i18n.notice.result("更新译文",!1,"请检查后重试");else this.i18n.notice.result("更新译文",!1,'请输入 "我已仔细检查译文"')}).open()})});const i=s.createEl("div");i.addClass("i18n-share-update__contrast");const n=i.createEl("div");n.addClass("i18n-share-update__cloud-translation");const a=i.createEl("div");if(a.addClass("i18n-share-update__local-translation"),n.addEventListener("scroll",()=>{a.scrollTop=n.scrollTop}),a.addEventListener("scroll",()=>{n.scrollTop=a.scrollTop}),null!=this.localTranslationJson&&null!=t){const e=JSON.stringify(this.localTranslationJson,null,4).split("\n"),s=JSON.stringify(t.data,null,4).split("\n");s.forEach((t,s)=>{const i=n.createEl("pre");e.includes(t)||i.addClass("i18n-share-update__highlight-a"),i.addClass("i18n-share-update__pre"),i.innerHTML=t}),e.forEach((t,e)=>{const i=a.createEl("pre");s.includes(t)||i.addClass("i18n-share-update__highlight-b"),i.addClass("i18n-share-update__pre"),i.innerHTML=t})}JSON.stringify(this.localTranslationJson)===JSON.stringify(t.data)&&(s.createEl("div",{text:"[提示] 内容同云端一致",cls:"i18n-share__tip-danger"}),this.verify=!1)}}async onunload(){for(const t of this.notices)t.noticeEl.remove()}async onOpen(){}async onClose(){this.contentEl.empty()}focus(){this.focus(),this.onClose()}getViewType(){return SHARE_VIEW_TYPE}getDisplayText(){return"共建云端"}getIcon(){return"i18n_translate"}},fs7=__toESM(require_lib()),path5=__toESM(require("path")),import_obsidian25=require("obsidian"),ADMIN_VIEW_TYPE="i18n-admin-view",AdminView=class extends import_obsidian25.ItemView{constructor(t,e){super(t),this.submitTranslationObj=[],this.updateTranslationObj=[],this.i18n=e,this.i18n.notice.reload()}async onload(){var t;const e=this.contentEl;if(e.addClass("i18n-review__container"),null==(t=e.parentElement)||t.getElementsByClassName("view-header")[0].remove(),this.i18n.issuesObj.title.includes("[提交译文] ")){this.issueTranslationJson=JSON.parse(inflate(this.i18n.issuesObj.body));const t=e.createEl("div",{cls:["i18n-edit__manifest"]}),s=e.createEl("div",{cls:["i18n-edit__manifest"]});t.createEl("span",{text:"插件标识",cls:"i18n-edit__label-wrap"}),t.createEl("input",{value:this.i18n.issuesObj.title.replace("[提交译文] ",""),cls:["i18n-input","i18n-edit__plugin-version-input"]}).disabled=!0,t.createEl("span",{text:"旧描述",cls:"i18n-edit__label-wrap"}),t.createEl("input",{value:this.issueTranslationJson.description.original,cls:["i18n-input","i18n-edit__description-input"]}).disabled=!0,s.createEl("span",{text:"插件版本",cls:"i18n-edit__label-wrap"}),s.createEl("input",{value:this.issueTranslationJson.manifest.pluginVersion,cls:["i18n-input","i18n-edit__plugin-version-input"]}).disabled=!0,s.createEl("span",{text:"新描述",cls:"i18n-edit__label-wrap"}),s.createEl("input",{value:this.issueTranslationJson.description.original,cls:["i18n-input","i18n-edit__description-input"]},t=>{t.addEventListener("input",()=>{this.issueTranslationJson.description.translation=t.value})});const i=e.createEl("div",{cls:["i18n-edit__dict"]}),n=e.createEl("div",{cls:["i18n-edit__search"]});if(null!=this.issueTranslationJson){const t=i.createEl("table");t.addClass("i18n-edit__table");for(const e in this.issueTranslationJson.dict)if(this.issueTranslationJson.dict.hasOwnProperty(e)){const s=t.createEl("tr",{cls:["i18n-review__row","i18n-review__row-columns"]}),i={key:e,value:this.issueTranslationJson.dict[e],el:s,state:!0};this.submitTranslationObj.push(i),s.createEl("td",{cls:["i18n-review__cell"]}).createEl("span",{text:"新增",cls:["i18n-tag",`i18n-tag--${this.i18n.settings.I18N_TAG_TYPE}-success`,`is-${this.i18n.settings.I18N_TAG_SHAPE}`]});const n=s.createEl("td",{cls:["i18n-review__cell"]}),a=s.createEl("td",{cls:["i18n-review__cell"],attr:{contenteditable:"true"}});a.addEventListener("input",()=>{a.textContent&&(i.value=a.textContent);const t=this.diff(i.key,i.value);n.innerHTML=t.s1}),a.addEventListener("blur",()=>{const t=this.diff(i.key,i.value);n.innerHTML=t.s1,a.innerHTML=t.s2}),s.createEl("td",{cls:["i18n-review__cell"]}).createEl("button",{text:i.state?"否决":"批准",cls:["i18n-basic-button",i.state?"i18n-basic-button--danger":"i18n-basic-button--success"]},async t=>{t.addEventListener("click",async()=>{t.removeClass("i18n-basic-button",i.state?"i18n-basic-button--danger":"i18n-basic-button--success"),i.state=!i.state,t.addClass("i18n-basic-button",i.state?"i18n-basic-button--danger":"i18n-basic-button--success"),t.textContent=i.state?"否决":"批准"})});const _=this.diff(i.key,i.value);n.innerHTML=_.s1,a.innerHTML=_.s2}let e,s=0,a=!1,_=!1;const o=new import_obsidian25.SearchComponent(n).onChange(t=>{(e=_?this.submitTranslationObj.filter(e=>e.key.includes(t)||e.value.includes(t)):this.submitTranslationObj.filter(e=>e.key.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase()))).length>0&&""!==t?(a=!0,r.setButtonText(`${s+1}/${e.length}`),e[s=0].el.scrollIntoView({behavior:"auto",block:"center"}),e[s].el.classList.remove("animate"),e[s].el.offsetWidth,e[s].el.classList.add("animate")):(a=!1,r.setButtonText("0/0"))});o.setClass("i18n-edit__search-box"),o.inputEl.addClass("i18n-input","i18n-edit__search-input");const T=new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setIcon("a-large-small").onClick(()=>{_?(_=!1,T.buttonEl.removeClass("i18n-button--success"),T.setClass("i18n-button--primary")):(_=!0,T.buttonEl.removeClass("i18n-button--primary"),T.setClass("i18n-button--success"))});new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setIcon("arrow-up").onClick(()=>{a&&(s>0?s-=1:0==s&&(s=e.length-1),r.setButtonText(`${s+1}/${e.length}`),e[s].el.scrollIntoView({behavior:"auto",block:"center"}),e[s].el.classList.remove("animate"),e[s].el.offsetWidth,e[s].el.classList.add("animate"))}),new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setIcon("arrow-down").onClick(()=>{a&&(s<e.length-1?s+=1:s==e.length-1&&(s=0),r.setButtonText(`${s+1}/${e.length}`),e[s].el.scrollIntoView({behavior:"auto",block:"center"}),e[s].el.classList.remove("animate"),e[s].el.offsetWidth,e[s].el.classList.add("animate"))});const r=new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("0/0");new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("测试").onClick(async()=>{const t=path5.join(this.app.vault.adapter.getBasePath(),this.i18n.manifest.dir,"Admin"),e=path5.join(this.app.vault.adapter.getBasePath(),this.i18n.manifest.dir,"Admin",`${this.i18n.issuesObj.title}.json`);this.issueTranslationJson.dict=Object.fromEntries(this.submitTranslationObj.filter(t=>!0===t.state).map(t=>[t.key,t.value])),fs7.ensureDirSync(t),fs7.writeJSONSync(e,this.issueTranslationJson,{spaces:4}),i18nOpen(this.i18n,t)}),new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-danger`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("关闭").onClick(async()=>{const t=await this.i18n.api.giteePatchIssue(this.i18n.issuesObj.number,"closed");t.state?(this.i18n.notice.result("驳回",!0),this.i18n.issuesList=this.i18n.issuesList.filter(t=>t.number!==this.i18n.issuesObj.number),this.i18n.admin.reloadShowData()):this.i18n.notice.result("驳回",!1,t.data)}),new import_obsidian25.ButtonComponent(n).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-success`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("合并").onClick(async()=>{try{this.issueTranslationJson.dict=Object.fromEntries(this.submitTranslationObj.filter(t=>!0===t.state).map(t=>[t.key,t.value])),this.issueTranslationJson.manifest.translationVersion=Date.now();const t=this.i18n.issuesObj.title.replace("[提交译文] ",""),e=`translation/dict/${t}/${this.i18n.settings.I18N_LANGUAGE}/${this.issueTranslationJson.manifest.pluginVersion}.json`,s=Buffer.from(JSON.stringify(this.issueTranslationJson,null,4)).toString("base64"),i=`translation/directory/${this.i18n.settings.I18N_LANGUAGE}.json`,n=await this.i18n.api.giteeGetSha(i);if(!n.state)return void this.i18n.notice.result("合并",!1,`无法获取译文目录\n${n.data}`);const a=JSON.parse(Buffer.from(n.data.content,"base64").toString("utf8")),_=a.find(e=>e.id===t),o={...(null==_?void 0:_.translations)||{},[this.issueTranslationJson.manifest.pluginVersion]:this.issueTranslationJson.manifest.translationVersion};_?_.translations=o:a.push({id:t,translations:o});const T=Buffer.from(JSON.stringify(a,null,4)).toString("base64"),r=`translation/contributor/${this.i18n.settings.I18N_LANGUAGE}.json`,E=await this.i18n.api.giteeGetSha(r);if(!E.state)return void this.i18n.notice.result("合并",!1,`无法获取贡献者目录\n${E.data}`);const l=JSON.parse(Buffer.from(E.data.content,"base64").toString("utf8")),c=l.find(t=>t.login===this.i18n.issuesObj.user.login);if(c)c.translation+=Object.keys(this.issueTranslationJson.dict).length;else{const t={login:this.i18n.issuesObj.user.login,name:this.i18n.issuesObj.user.name,url:this.i18n.issuesObj.user.html_url,translation:Object.keys(this.issueTranslationJson.dict).length,modification:0,erasure:0};l.push(t)}const I=Buffer.from(JSON.stringify(l,null,4)).toString("base64"),N=await this.i18n.api.giteePutTranslation(i,T,n.data.sha,`写入目录 ${t}`);if(!N.state)return void this.i18n.notice.result("合并",!1,`无法写入目录\n${N.data}`);this.i18n.notice.result("批准",!0,`1/4 写入目录 ${t}\n请耐心等待审核流程运行完毕`),await sleep(1e3);const u=await this.i18n.api.giteePutContributor(r,I,E.data.sha,`写入贡献 ${this.i18n.issuesObj.user.name}`);if(!u.state)return void this.i18n.notice.result("合并",!1,`无法写入贡献\n请前往gitee删除写入目录内容\n${u.data}`);this.i18n.notice.result("批准",!0,`2/4 写入贡献 ${this.i18n.issuesObj.user.name}\n请耐心等待审核流程运行完毕`),await sleep(1e3);const d=await this.i18n.api.giteePostTranslation(e,s,`提交译文 ${t}`);if(!d.state)return void this.i18n.notice.result("合并",!1,`无法写入译文\n请前往gitee删除写入目录、写入贡献内容\n${d.data}`);this.i18n.notice.result("批准",!0,`3/4 写入译文 ${t}\n请耐心等待审核流程运行完毕`),await sleep(1e3);const h=await this.i18n.api.giteePatchIssue(this.i18n.issuesObj.number,"closed");if(!h.state)return void this.i18n.notice.result("合并",!1,`无法关闭 issue\n请前往gitee手动关闭此issue\n${h.data}`);this.i18n.notice.result("批准",!0,"4/4 关闭 issue"),this.i18n.notice.result("合并",!0),this.i18n.issuesList=this.i18n.issuesList.filter(t=>t.number!==this.i18n.issuesObj.number),this.i18n.admin.reloadShowData()}catch(t){this.i18n.notice.result("合并",!1,t)}})}}if(this.i18n.issuesObj.title.includes("[更新译文] ")){const t=this.i18n.issuesObj.title.replace("[更新译文] ","");this.issueTranslationJson=JSON.parse(inflate(this.i18n.issuesObj.body)),this.cloudTranslationJson=(await this.i18n.api.giteeGetTranslation(t,this.issueTranslationJson.manifest.pluginVersion)).data;const s=compareTranslation(this.cloudTranslationJson,this.issueTranslationJson),i=e.createEl("div",{cls:["i18n-edit__manifest"]}),n=e.createEl("div",{cls:["i18n-edit__manifest"]}),a=e.createEl("div",{cls:["i18n-edit__manifest"]});i.createEl("span",{text:"译文作者",cls:"i18n-edit__label-wrap"}),i.createEl("input",{value:this.i18n.issuesObj.user.login,cls:["i18n-input","i18n-edit__plugin-version-input"]}).disabled=!0,i.createEl("span",{text:"源代码",cls:"i18n-edit__label-wrap"}),i.createEl("input",{value:this.issueTranslationJson.description.original,cls:["i18n-input","i18n-edit__description-input"]}).disabled=!0,n.createEl("span",{text:"插件标识",cls:"i18n-edit__label-wrap"}),n.createEl("input",{value:t,cls:"i18n-edit__plugin-version-input"}).disabled=!0,n.createEl("span",{text:"旧描述",cls:"i18n-edit__label-wrap"}),n.createEl("input",{value:this.cloudTranslationJson.description.translation,cls:["i18n-input","i18n-edit__description-input"]}).disabled=!0,a.createEl("span",{text:"插件版本",cls:"i18n-edit__label-wrap"}),a.createEl("input",{value:this.issueTranslationJson.manifest.pluginVersion,cls:["i18n-input","i18n-edit__plugin-version-input"]}).disabled=!0,a.createEl("span",{text:"新描述",cls:"i18n-edit__label-wrap"}),a.createEl("input",{value:this.issueTranslationJson.description.translation,cls:["i18n-input","i18n-edit__description-input"]},t=>{t.addEventListener("input",()=>{this.issueTranslationJson.description.translation=t.value})});const _=e.createEl("div");_.addClass("i18n-edit__dict");const o=e.createEl("div");if(o.addClass("i18n-edit__search"),null!=this.issueTranslationJson){const e=_.createEl("table");e.addClass("i18n-edit__table");for(const t in s.modified){const i=e.createEl("tr",{cls:["i18n-review__row","i18n-review__row-columns-added"]}),n={type:"modified",key:t,value:s.modified[t].newValue,el:i,state:!0};this.updateTranslationObj.push(n);const a=this.diff(n.key,n.value);i.createEl("td",{cls:["i18n-review__cell"]}).createEl("span",{text:"修改",cls:["i18n-tag",`i18n-tag--${this.i18n.settings.I18N_TAG_TYPE}-warning`,`is-${this.i18n.settings.I18N_TAG_SHAPE}`]});const _=i.createEl("td",{cls:["i18n-review__cell"]});_.innerHTML=a.s1,i.createEl("td",{cls:["i18n-review__cell"]}).innerHTML=s.modified[t].oldValue;const o=i.createEl("td",{cls:["i18n-review__cell"],attr:{contenteditable:"true"}});o.innerHTML=a.s2,o.addEventListener("input",()=>{o.textContent&&(n.value=o.textContent);const t=this.diff(n.key,n.value);_.innerHTML=t.s1}),o.addEventListener("blur",()=>{const t=this.diff(n.key,n.value);_.innerHTML=t.s1,o.innerHTML=t.s2}),i.createEl("td",{cls:["i18n-review__cell"]}).createEl("button",{text:n.state?"否决":"批准",cls:["i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"]},async t=>{t.addEventListener("click",async()=>{t.removeClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),n.state=!n.state,t.addClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),t.textContent=n.state?"否决":"批准"})})}for(const t in s.added){const i=e.createEl("tr",{cls:["i18n-review__row","i18n-review__row-columns"]}),n={type:"added",key:t,value:s.added[t],el:i,state:!0};this.updateTranslationObj.push(n),i.createEl("td",{cls:["i18n-review__cell"]}).createEl("span",{text:"新增",cls:["i18n-tag",`i18n-tag--${this.i18n.settings.I18N_TAG_TYPE}-success`,`is-${this.i18n.settings.I18N_TAG_SHAPE}`]});const a=i.createEl("td",{cls:["i18n-review__cell"]}),_=i.createEl("td",{cls:["i18n-review__cell"],attr:{contenteditable:"true"}});_.addEventListener("input",()=>{_.textContent&&(n.value=_.textContent);const t=this.diff(n.key,n.value);a.innerHTML=t.s1}),_.addEventListener("blur",()=>{const t=this.diff(n.key,n.value);a.innerHTML=t.s1,_.innerHTML=t.s2}),i.createEl("td",{cls:["i18n-review__cell"]}).createEl("button",{text:n.state?"否决":"批准",cls:["i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"]},async t=>{t.addEventListener("click",async()=>{t.removeClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),n.state=!n.state,t.addClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),t.textContent=n.state?"否决":"批准"})});const o=this.diff(n.key,n.value);a.innerHTML=o.s1,_.innerHTML=o.s2}for(const t in s.removed){const i=e.createEl("tr",{cls:["i18n-review__row","i18n-review__row-columns"]}),n={type:"removed",key:t,value:s.removed[t],el:i,state:!0};this.updateTranslationObj.push(n),i.createEl("td",{cls:["i18n-review__cell"]}).createEl("span",{text:"删除",cls:["i18n-tag",`i18n-tag--${this.i18n.settings.I18N_TAG_TYPE}-danger`,`is-${this.i18n.settings.I18N_TAG_SHAPE}`]});const a=i.createEl("td",{cls:["i18n-review__cell"]}),_=i.createEl("td",{cls:["i18n-review__cell"]});i.createEl("td",{cls:["i18n-review__cell"]}).createEl("button",{text:n.state?"否决":"批准",cls:["i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"]},async t=>{t.addEventListener("click",async()=>{t.removeClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),n.state=!n.state,t.addClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),t.textContent=n.state?"否决":"批准"})});const o=this.diff(n.key,n.value);a.innerHTML=o.s1,_.innerHTML=o.s2}for(const t in s.unchanged){const i=e.createEl("tr",{cls:["i18n-review__row","i18n-review__row-columns"]}),n={type:"unchanged",key:t,value:s.unchanged[t],el:i,state:!0};this.updateTranslationObj.push(n),i.createEl("td",{cls:["i18n-review__cell"]}).createEl("span",{text:"初始",cls:["i18n-tag",`i18n-tag--${this.i18n.settings.I18N_TAG_TYPE}-info`,`is-${this.i18n.settings.I18N_TAG_SHAPE}`]});const a=i.createEl("td",{cls:["i18n-review__cell"]}),_=i.createEl("td",{cls:["i18n-review__cell"]});i.createEl("td",{cls:["i18n-review__cell"]}).createEl("button",{text:n.state?"否决":"批准",cls:["i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"]},async t=>{t.addEventListener("click",async()=>{t.removeClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),n.state=!n.state,t.addClass("i18n-basic-button",n.state?"i18n-basic-button--danger":"i18n-basic-button--success"),t.textContent=n.state?"否决":"批准"})});const o=this.diff(n.key,n.value);a.innerHTML=o.s1,_.innerHTML=o.s2}let i,n=0,a=!1,T=!1;const r=new import_obsidian25.SearchComponent(o).onChange(t=>{(i=T?this.updateTranslationObj.filter(e=>e.key.includes(t)||e.value.includes(t)):this.updateTranslationObj.filter(e=>e.key.toLowerCase().includes(t.toLowerCase())||e.value.toLowerCase().includes(t.toLowerCase()))).length>0&&""!==t?(a=!0,l.setButtonText(`${n+1}/${i.length}`),i[n=0].el.scrollIntoView({behavior:"auto",block:"center"}),i[n].el.classList.remove("animate"),i[n].el.offsetWidth,i[n].el.classList.add("animate")):(a=!1,l.setButtonText("0/0"))});r.setClass("i18n-edit__search-box"),r.inputEl.addClass("i18n-input","i18n-edit__search-input");const E=new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setIcon("a-large-small").onClick(()=>{T?(T=!1,E.buttonEl.removeClass("i18n-button--success"),E.setClass("i18n-button--primary")):(T=!0,E.buttonEl.removeClass("i18n-button--primary"),E.setClass("i18n-button--success"))});new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setIcon("arrow-up").onClick(()=>{a&&(n>0?n-=1:0==n&&(n=i.length-1),l.setButtonText(`${n+1}/${i.length}`),i[n].el.scrollIntoView({behavior:"auto",block:"center"}),i[n].el.classList.remove("animate"),i[n].el.offsetWidth,i[n].el.classList.add("animate"))}),new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setIcon("arrow-down").onClick(()=>{a&&(n<i.length-1?n+=1:n==i.length-1&&(n=0),l.setButtonText(`${n+1}/${i.length}`),i[n].el.scrollIntoView({behavior:"auto",block:"center"}),i[n].el.classList.remove("animate"),i[n].el.offsetWidth,i[n].el.classList.add("animate"))});const l=new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("0/0");new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-primary`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("测试").onClick(async()=>{const t=path5.join(this.app.vault.adapter.getBasePath(),this.i18n.manifest.dir,"Admin"),e=path5.join(this.app.vault.adapter.getBasePath(),this.i18n.manifest.dir,"Admin",`${this.i18n.issuesObj.title}.json`),s=[...this.updateTranslationObj.filter(t=>"unchanged"===t.type&&!0===t.state).map(t=>[t.key,t.value]),...this.updateTranslationObj.filter(t=>"modified"===t.type&&!0===t.state).map(t=>[t.key,t.value]),...this.updateTranslationObj.filter(t=>"added"===t.type&&!0===t.state).map(t=>[t.key,t.value]),...this.updateTranslationObj.filter(t=>"removed"===t.type&&!1===t.state).map(t=>[t.key,t.value])];this.issueTranslationJson.dict=Object.fromEntries(s),fs7.ensureDirSync(t),fs7.writeJSONSync(e,this.issueTranslationJson,{spaces:4}),i18nOpen(this.i18n,t)}),new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-danger`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("关闭").onClick(async()=>{const t=await this.i18n.api.giteePatchIssue(this.i18n.issuesObj.number,"closed");t.state?(this.i18n.notice.result("驳回",!0),this.i18n.issuesList=this.i18n.issuesList.filter(t=>t.number!==this.i18n.issuesObj.number),this.i18n.admin.reloadShowData()):this.i18n.notice.result("驳回",!1,t.data)}),new import_obsidian25.ButtonComponent(o).setClass("i18n-button").setClass(`i18n-button--${this.i18n.settings.I18N_BUTTON_TYPE}-success`).setClass(`is-${this.i18n.settings.I18N_BUTTON_SHAPE}`).setClass("i18n-button--left").setButtonText("合并").onClick(async()=>{try{const e=this.updateTranslationObj.filter(t=>"modified"===t.type&&!0===t.state).map(t=>[t.key,t.value]),s=this.updateTranslationObj.filter(t=>"unchanged"===t.type&&!0===t.state).map(t=>[t.key,t.value]),i=this.updateTranslationObj.filter(t=>"added"===t.type&&!0===t.state).map(t=>[t.key,t.value]),n=this.updateTranslationObj.filter(t=>"removed"===t.type&&!1===t.state).map(t=>[t.key,t.value]),a=this.updateTranslationObj.filter(t=>"removed"===t.type&&!0===t.state).map(t=>[t.key,t.value]),_=[...s,...e,...i,...n];this.issueTranslationJson.dict=Object.fromEntries(_),this.issueTranslationJson.manifest.translationVersion=Date.now();const o=`translation/dict/${t}/${this.i18n.settings.I18N_LANGUAGE}/${this.issueTranslationJson.manifest.pluginVersion}.json`,T=await this.i18n.api.giteeGetSha(o);if(!T.state)return void this.i18n.notice.result("合并",!1,`无法获取译文文件\n${T.data}`);const r=Buffer.from(JSON.stringify(this.issueTranslationJson,null,4)).toString("base64"),E=`translation/contributor/${this.i18n.settings.I18N_LANGUAGE}.json`,l=await this.i18n.api.giteeGetSha(E);if(!l.state)return void this.i18n.notice.result("合并",!1,`无法获取贡献者目录\n${l.data}`);const c=JSON.parse(Buffer.from(l.data.content,"base64").toString("utf8")),I=c.find(t=>t.login===this.i18n.issuesObj.user.login);if(I)i.length>0&&(I.translation+=i.length),e.length>0&&(I.modification+=e.length),a.length>0&&(I.erasure+=a.length);else{const t={login:this.i18n.issuesObj.user.login,name:this.i18n.issuesObj.user.name,url:this.i18n.issuesObj.user.html_url,translation:i.length,modification:e.length,erasure:a.length};c.push(t)}const N=Buffer.from(JSON.stringify(c,null,4)).toString("base64"),u=await this.i18n.api.giteePutContributor(E,N,l.data.sha,`写入贡献 ${this.i18n.issuesObj.user.name}`);if(!u.state)return void this.i18n.notice.result("合并",!1,`无法写入贡献\n${u.data}`);this.i18n.notice.result("批准",!0,`1/3 写入贡献 ${this.i18n.issuesObj.user.name}\n请耐心等待审核流程运行完毕`),await sleep(1e3);const d=await this.i18n.api.giteePutTranslation(o,r,T.data.sha,`更新译文 ${t}`);if(!d.state)return void this.i18n.notice.result("合并",!1,`无法写入译文\n请前往gitee删除写入贡献内容\n${d.data}`);this.i18n.notice.result("批准",!0,`2/3 写入译文 ${t}\n请耐心等待审核流程运行完毕`),await sleep(1e3);const h=await this.i18n.api.giteePatchIssue(this.i18n.issuesObj.number,"closed");if(!h.state)return void this.i18n.notice.result("合并",!1,`无法关闭 issue\n请前往gitee手动关闭此issue\n${h.data}`);this.i18n.notice.result("批准",!0,"3/3 关闭 issue"),this.i18n.notice.result("合并",!0),this.i18n.issuesList=this.i18n.issuesList.filter(t=>t.number!==this.i18n.issuesObj.number),this.i18n.admin.reloadShowData()}catch(t){this.i18n.notice.result("合并",!1,t)}})}}}async onunload(){this.i18n.notice.reload()}async showData(){}diff(t,e){const s=diffWords(t,e);let i="",n="";return s.forEach(t=>{t.added?n+=`<span class='color__text--success'>${t.value}</span>`:t.removed?i+=`<span class='color__text--danger'>${t.value}</span>`:(i+=t.value,n+=t.value)}),{s1:i,s2:n}}async onOpen(){}async onClose(){this.contentEl.empty()}focus(){this.focus(),this.onClose()}getViewType(){return ADMIN_VIEW_TYPE}getDisplayText(){return"审核面板"}getIcon(){return"i18n_translate"}},I18N=class extends import_obsidian26.Plugin{constructor(){super(...arguments),this.updatesMark=!1,this.ignoreMark=!0,this.editorTranslationDoc=""}async onload(){icon_default(),this.notice=new Notification(this.app,this),await this.loadSettings(),console.log(`%c ${this.manifest.name} %c v${this.manifest.version} `,"padding: 2px; border-radius: 2px 0 0 2px; color: #fff; background: #5B5B5B;","padding: 2px; border-radius: 0 2px 2px 0; color: #fff; background: #409EFF;"),this.settings.I18N_AGREEMENT?(this.api=new API(this),this.firstRun(),this.settings.I18N_CHECK_UPDATES&&this.checkUpdates(),this.ignoreCache(),this.directoryCache(),this.settings.I18N_MODE_LDT&&this.settings.I18N_AUTOMATIC_UPDATE&&await this.i18nAutomaticUpdate(this.app),this.settings.I18N_MODE_IMT&&this.activateIMT(),this.settings.I18N_SHARE_MODE&&this.getAdmin(),this.addRibbonIcon("i18n_translate",t("I18N_NAME"),t=>{new I18NModal(this.app,this).open()}),this.settings.I18N_ADMIN_MODE&&(this.i18nReviewEl=this.addRibbonIcon("i18n-review","I18N审核",t=>{this.admin=new AdminModal(this.app,this),this.admin.open()})),this.registerView(ADMIN_VIEW_TYPE,t=>new AdminView(t,this)),this.registerView(EDIT_VIEW_TYPE,t=>new EditorView(t,this)),this.registerView(SHARE_VIEW_TYPE,t=>new ShareView(t,this)),command_default(this.app,this),this.settings.I18N_MODE_LDT&&this.settings.I18N_NAME_TRANSLATION&&this.trenslatorPluginsName(),this.addSettingTab(new I18nSettingTab(this.app,this))):new AgreementModal(this.app,this).open()}async onunload(){this.detachEditView(),this.detachShareView(),this.detachEditView(),this.restorePluginsName(),this.settings.I18N_MODE_IMT&&await this.enableIMT()}onUserEnable(){}async loadSettings(){this.settings=Object.assign({},DEFAULT_SETTINGS,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async firstRun(){this.settings.I18N_WIZARD&&(new WizardModal(this.app,this).open(),this.settings.I18N_UUID=v4_default(),this.settings.I18N_WIZARD=!1,this.saveSettings())}async checkUpdates(){const t=await this.api.version();t.state?this.manifest.version!==t.data.version&&(this.notice.primary("检查更新",`发现新版本(${t.data.version})\n${t.data.content}`,1e4),this.updatesMark=!0,this.updatesVersion=t.data.version):this.notice.result("检查更新",!1,t.data)}async ignoreCache(){if(!this.settings.I18N_MODE_NDT||!this.settings.I18N_IGNORE)return void(this.ignoreMark=!1);const e=await this.api.getMark();if(!e.state)return this.ignoreMark=!1,void this.notice.result(t("SETTING_NDT_PUBLIC_IGNORE_HEAD"),!1,t("SETTING_NDT_IGNORE_NOTICE_B"));try{this.ignorePlugins=e.data,this.ignoreMark=!0,this.notice.result(t("SETTING_NDT_PUBLIC_IGNORE_HEAD"),!0)}catch(e){this.ignoreMark=!1,this.notice.result(t("SETTING_NDT_PUBLIC_IGNORE_HEAD"),!1,e)}}async directoryCache(){if(!this.settings.I18N_MODE_NDT)return void(this.translationDirectoryMark=!1);const e=await this.api.giteeGetDirectory();if(!e.state)return this.translationDirectoryMark=!1,void this.notice.result(t("SETTING_NDT_PUBLIC_MODE_HEAD"),!1,t("SETTING_NDT_MODE_NOTICE_B"));try{this.translationDirectory=e.data,this.translationDirectoryMark=!0,this.notice.result(t("SETTING_NDT_PUBLIC_MODE_HEAD"),!0)}catch(e){this.translationDirectoryMark=!1,this.notice.result(t("SETTING_NDT_PUBLIC_MODE_HEAD"),!1,e)}}async i18nAutomaticUpdate(e){var s;if(this.settings.I18N_MODE_LDT&&this.settings.I18N_AUTOMATIC_UPDATE){let i=[];this.notice.success(t("SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD"),t("SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_A")),i=Object.values(e.plugins.manifests).filter(t=>"i18n"!==t.id);let n=0;for(const a of i){const i=path6.join(path6.normalize(e.vault.adapter.getBasePath()),null!=(s=a.dir)?s:""),_=fs8.pathExistsSync(path6.join(i,"lang","state.json"))?new State(this,path6.join(i,"lang","state.json")):void 0;if(null!=_&&_.getState()&&a.version!=_.getPluginVersion())try{n+=1,fs8.removeSync(path6.join(i,"duplicate.js")),_.reset(),fs8.copySync(path6.join(i,"main.js"),path6.join(i,"duplicate.js"));const e=fs8.readJsonSync(path6.join(i,"lang",`${this.settings.I18N_LANGUAGE}.json`));let s=fs8.readFileSync(path6.join(i,"main.js")).toString();for(const t in e.dict)s=s.replaceAll(t,e.dict[t]);fs8.writeFileSync(path6.join(i,"main.js"),s);const o=fs8.readJsonSync(path6.join(i,"manifest.json"));o.description=e.description.translation,fs8.writeJsonSync(path6.join(i,"manifest.json"),o,{spaces:4}),_.setState(!0),_.setPluginVersion(a.version),_.setTranslationVersion(e.manifest.translationVersion),await this.app.plugins.disablePlugin(a.id),await this.app.plugins.enablePlugin(a.id)}catch(e){this.notice.error(t("SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD"),e)}}0==n?this.notice.success(t("SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD"),t("SETTING_LDT_AUTOMATIC_UPDATE_NOTICE_B")):this.notice.success(t("SETTING_LDT_PUBLIC_AUTOMATIC_UPDATE_HEAD"),`更新${n}个插件`)}}trenslatorPluginsName(){const t=path6.join(path6.normalize(this.app.vault.adapter.getBasePath()),this.manifest.dir,"name.json");this.nameTranslationJSON=fs8.pathExistsSync(t)?fs8.readJsonSync(t):{};const e=Object.values(this.app.plugins.manifests);this.originalPluginsManifests=JSON.parse(JSON.stringify(e)),e.forEach(t=>{this.nameTranslationJSON.hasOwnProperty(t.name)&&""!==this.nameTranslationJSON[t.name]&&(t.name=`${t.name} ${this.settings.I18N_NAME_TRANSLATION_PREFIX}${this.nameTranslationJSON[t.name]}${this.settings.I18N_NAME_TRANSLATION_SUFFIX}`)})}restorePluginsName(){if(void 0!==this.originalPluginsManifests){const t=new Map(this.originalPluginsManifests.map(t=>[t.id,t]));Object.values(this.app.plugins.manifests).forEach(e=>{const s=t.get(e.id);s&&(e.name=s.name)})}}reloadPluginsName(){this.restorePluginsName(),this.trenslatorPluginsName()}async activateEditView(){const{workspace:t}=this.app;this.detachEditView();let e=null;const s=t.getLeavesOfType(EDIT_VIEW_TYPE);s.length>0?e=s[0]:null!=(e=t.getLeaf("window"))&&await e.setViewState({type:EDIT_VIEW_TYPE,active:!0}),null!=e&&t.revealLeaf(e)}detachEditView(){this.app.workspace.detachLeavesOfType(EDIT_VIEW_TYPE)}async activateAdminView(){const{workspace:t}=this.app;this.detachAdminView();let e=null;const s=t.getLeavesOfType(ADMIN_VIEW_TYPE);s.length>0?e=s[0]:null!=(e=t.getLeaf("window"))&&await e.setViewState({type:ADMIN_VIEW_TYPE,active:!0}),null!=e&&t.revealLeaf(e)}detachAdminView(){this.app.workspace.detachLeavesOfType(ADMIN_VIEW_TYPE)}async activateShareView(){const{workspace:t}=this.app;this.detachShareView();let e=null;const s=t.getLeavesOfType(SHARE_VIEW_TYPE);s.length>0?e=s[0]:null!=(e=t.getLeaf("window"))&&await e.setViewState({type:SHARE_VIEW_TYPE,active:!0}),null!=e&&t.revealLeaf(e)}detachShareView(){this.app.workspace.detachLeavesOfType(SHARE_VIEW_TYPE)}activateIMT(){if(!window.immersiveTranslateConfig){window.immersiveTranslateConfig={pageRule:this.settings.I18N_IMT_CONFIG},console.log(window.immersiveTranslateConfig);const t=document.createElement("script");t.classList.add("imt-script"),t.async=!0,t.src=Url.SDK_URL,t.onload=(()=>{setTimeout(()=>{var t;const e=null==(t=document.querySelector("#immersive-translate-popup"))?void 0:t.shadowRoot;if(e){const t=e.querySelector(".imt-fb-container>div");t&&(t.style.display="none");const s=e.querySelector(".popup-container>footer");s&&(s.style.display="none")}},1e3)}),document.body.append(t)}}async enableIMT(){var t,e;const s=document.querySelector("#immersive-translate-popup"),i=document.querySelector("html");"dual"===(null==(t=null==i?void 0:i.getAttribute)?void 0:t.call(i,"imt-state"))&&restoreTranslate();const n=document.querySelector(".imt-script"),a=[...document.querySelectorAll('[data-id*="immersive-translate"]')],_=[];[s,n,a].filter(t=>!!t).forEach(t=>Array.isArray(t)?t.forEach(t=>t&&_.push(t)):t&&_.push(t)),_.forEach(t=>{var e;return null==(e=null==t?void 0:t.remove)?void 0:e.call(t)}),null==(e=document.querySelectorAll("[data-immersive-translate-walked]"))||e.forEach(t=>t.removeAttribute("data-immersive-translate-walked")),null==i||i.removeAttribute("imt-state"),null==i||i.removeAttribute("imt-trans-position"),await clearStorage()}async getAdmin(){const t=await this.api.giteeGetAllIssue();t.state?t.data.length>0?(this.issuesList=t.data,this.notice.result("获取",!0,`${this.issuesList.length}条待审核内容`)):this.notice.result("获取",!0,"暂时没有可审核任务"):this.notice.result("获取",!1,"获取失败,请检查网络后重试")}},main_default=I18N;